import{c as u,r as s,j as t,Z as se,a as le,f as ie}from"./index-DhyZ7FjK.js";import{T as de}from"./trash-2-2FTw262e.js";import{I as ce}from"./info-Cki7RK9x.js";import{C as ge}from"./code-BBWrSu0l.js";import{L as me}from"./link-Bqxp2to7.js";import{P as he}from"./palette-CYAO9shv.js";import{E as ue}from"./eraser-D4Lhbflh.js";import{T as xe}from"./type-BJzsjE8i.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=u("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=u("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=u("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=u("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=u("Heading",[["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M6 20V4",key:"1w1bmo"}],["path",{d:"M18 20V4",key:"o2hl4u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=u("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=u("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=u("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=u("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=u("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ce=[{color:"#000000",label:"黒"},{color:"#4B5563",label:"グレー"},{color:"#EF4444",label:"赤"},{color:"#F59E0B",label:"オレンジ"},{color:"#10B981",label:"緑"},{color:"#3B82F6",label:"青"},{color:"#8B5CF6",label:"紫"}],He=()=>{var U;const[h,k]=s.useState(()=>{const e=localStorage.getItem("maitool_notes");return e?JSON.parse(e):[{id:"1",title:"Welcome Note",content:`<div><b>ようこそ！</b></div><div>高機能なオンラインメモ帳へ。</div><ul><li>リッチテキスト対応</li><li>Tabキーでインデント</li></ul><pre><code>// コードブロック (自動検出)
console.log("Hello World");</code></pre>`,updated:new Date().toLocaleString()}]}),[x,j]=s.useState(((U=h[0])==null?void 0:U.id)||""),[y,v]=s.useState(!1),[N,_]=s.useState(null),[B,b]=s.useState(!0),[K,C]=s.useState(!1),[P,M]=s.useState(""),[w,A]=s.useState(""),D=s.useRef(null),l=s.useRef(null),S=s.useRef(null),T=s.useRef(null),f=s.useRef(null);s.useEffect(()=>{localStorage.setItem("maitool_notes",JSON.stringify(h))},[h]),s.useEffect(()=>{if(l.current){const e=h.find(r=>r.id===x);e?l.current.innerHTML!==e.content&&(l.current.innerHTML=e.content,requestAnimationFrame(()=>E(!0))):l.current.innerHTML=""}b(!x)},[x]),s.useEffect(()=>(f.current&&clearTimeout(f.current),f.current=window.setTimeout(()=>{E(!1)},1e3),()=>{f.current&&clearTimeout(f.current)}),[h]),s.useEffect(()=>{const e=()=>{y&&v(!1)};return window.addEventListener("scroll",e,!0),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e,!0),window.removeEventListener("resize",e)}},[y]);const $=h.find(e=>e.id===x),Q=e=>{k(r=>r.map(o=>o.id===x?{...o,title:e,updated:new Date().toLocaleString()}:o))},m=()=>{if(l.current){const e=l.current.innerHTML;T.current&&clearTimeout(T.current),T.current=window.setTimeout(()=>{k(r=>r.map(o=>o.id===x?{...o,content:e,updated:new Date().toLocaleString()}:o))},1e3)}},L=e=>{let r=e;for(;r&&r!==l.current;){if(r.nodeType===1&&["DIV","P","LI","H1","H2","H3","BLOCKQUOTE","PRE","DETAILS"].includes(r.tagName))return r;r=r.parentNode}return null},z=()=>{const e=window.getSelection();e&&e.rangeCount>0&&(D.current=e.getRangeAt(0).cloneRange())},R=()=>{const e=window.getSelection();e&&D.current&&(e.removeAllRanges(),e.addRange(D.current))},E=(e=!1)=>{if(l.current&&window.hljs){const r=l.current.querySelectorAll("pre code"),o=window.getSelection();r.forEach(a=>{var i;const n=a;let c=!1;if(!e&&o&&o.anchorNode&&((i=l.current)!=null&&i.contains(o.anchorNode))&&(c=a.contains(o.anchorNode)),!c){const d=n.innerText;try{const p=window.hljs.highlightAuto(d);let g=p.value;d.endsWith(`
`)&&!g.endsWith(`
`)&&(g+=`
`),n.innerHTML=g,n.className="hljs "+p.language}catch{n.textContent=d}}})}},I=e=>{const r=document.createElement("div");r.innerHTML="<br>",e.after(r);const o=window.getSelection(),a=document.createRange();a.setStart(r,0),a.collapse(!0),o&&(o.removeAllRanges(),o.addRange(a)),m()},Z=e=>{if(!e.nativeEvent.isComposing&&e.key==="Enter"&&!e.shiftKey){const r=window.getSelection();if(!r||!r.rangeCount)return;const o=r.getRangeAt(0);let a=o.startContainer;a.nodeType===3&&(a=a.parentNode);const n=a.closest("pre");if(n){f.current&&clearTimeout(f.current),f.current=window.setTimeout(()=>E(!1),2e3);const i=document.createRange();if(i.setStart(o.endContainer,o.endOffset),i.setEndAfter(n),i.toString().replace(/[\r\n]/g,"").length===0){const g=document.createRange();g.selectNodeContents(n),g.setEnd(o.startContainer,o.startOffset);const H=g.toString();if(H.endsWith(`
`)||H.endsWith("\r")){e.preventDefault(),n.innerText=n.innerText.replace(/[\r\n]+$/,""),I(n);return}}return}const c=a.closest("details");if(c){const i=c.querySelector(".toggle-content");if(i&&(i.contains(o.startContainer)||i===o.startContainer)){let d=L(o.startContainer);for(;d&&d.parentElement!==i&&d!==i;)d=d.parentElement;if(d&&d.parentElement===i){let p=!0,g=d.nextSibling;for(;g;){if(g.textContent&&g.textContent.replace(/[\n\r]/g,"").length>0){p=!1;break}g=g.nextSibling}if(p&&(d.textContent||"").trim()===""){e.preventDefault(),d.remove(),I(c);return}}}}}},J=e=>{const r=e.clipboardData.getData("text/plain");/^(http|https):\/\/[^ "]+$/.test(r)&&(e.preventDefault(),document.execCommand("insertHTML",!1,`<a href="${r}" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">${r}</a>`),m())},V=()=>{const e=Date.now().toString(),r={id:e,title:"無題のメモ",content:"<div></div>",updated:new Date().toLocaleString()};k([r,...h]),j(e),b(!1)},G=(e,r)=>{var o;if(r.stopPropagation(),confirm("このメモを削除しますか？")){const a=h.filter(n=>n.id!==e);k(a),x===e&&(j(((o=a[0])==null?void 0:o.id)||""),b(!0))}},q=(e,r=void 0)=>{var o;document.execCommand(e,!1,r),(o=l.current)==null||o.focus(),m()},F=e=>{var r;document.execCommand("formatBlock",!1,e),(r=l.current)==null||r.focus(),m()},X=()=>{var o;const e=window.getSelection();if(!e||!e.rangeCount)return;const r=L(e.anchorNode);r&&r.tagName==="BLOCKQUOTE"?document.execCommand("formatBlock",!1,"DIV"):document.execCommand("formatBlock",!1,"BLOCKQUOTE"),(o=l.current)==null||o.focus(),m()},Y=()=>{z();const e=window.getSelection();e&&e.toString()?M(e.toString()):M(""),A("https://"),C(!0)},ee=()=>{if(R(),w){const r=`<a href="${w}" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">${P||w}</a>`;document.execCommand("insertHTML",!1,r),m()}C(!1)},te=()=>{const e=window.getSelection();if(!e||!e.rangeCount)return;e.getRangeAt(0);const r=L(e.anchorNode),o=e.toString(),a="<pre><code>",n="</code></pre><p><br/></p>";if(o.length>0){const c=`${a}${o}${n}`;document.execCommand("insertHTML",!1,c)}else if(r&&r.innerText.trim().length>0&&r.tagName!=="PRE"&&r!==l.current){const c=document.createRange();c.selectNodeContents(r),e.removeAllRanges(),e.addRange(c);const i=`${a}${r.innerText}${n}`;document.execCommand("insertHTML",!1,i)}else{const c=`${a}<br>${n}`;document.execCommand("insertHTML",!1,c)}m()},re=()=>{document.execCommand("insertHTML",!1,'<div><input type="checkbox" style="margin-right: 5px;"> </div>'),m()},oe=()=>{document.execCommand("insertHTML",!1,'<details><summary>トグル項目</summary><div class="toggle-content"><div><br></div></div></details><p><br/></p>'),m()},ae=()=>{document.execCommand("removeFormat"),document.execCommand("formatBlock",!1,"DIV"),m()},O=e=>{R(),document.execCommand("foreColor",!1,e),v(!1),m()},ne=()=>{if(y)v(!1),R();else{if(z(),S.current){const e=S.current.getBoundingClientRect();let r=e.bottom+10,o=e.left;o+220>window.innerWidth&&(o=window.innerWidth-230),_({top:r,left:o})}v(!0)}};return t.jsx("div",{className:"max-w-7xl mx-auto pb-10",children:t.jsxs("div",{className:"h-[calc(100vh-140px)] flex flex-col md:flex-row gap-6 relative",children:[K&&t.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm rounded-2xl",children:t.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 w-80 animate-fade-in",children:[t.jsx("h3",{className:"font-bold text-gray-800 dark:text-white mb-4",children:"リンクを挿入"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"表示テキスト"}),t.jsx("input",{type:"text",value:P,onChange:e=>M(e.target.value),className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm",placeholder:"リンクのタイトル"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"URL"}),t.jsx("input",{type:"text",value:w,onChange:e=>A(e.target.value),className:"w-full p-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm",placeholder:"https://example.com"})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsx("button",{onClick:()=>C(!1),className:"flex-1 py-2 text-sm font-bold text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"キャンセル"}),t.jsx("button",{onClick:ee,className:"flex-1 py-2 text-sm font-bold bg-blue-600 text-white hover:bg-blue-700 rounded-lg shadow",children:"挿入"})]})]})]})}),t.jsxs("div",{className:`w-full md:w-72 bg-white dark:bg-dark-lighter rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col overflow-hidden shrink-0 transition-all absolute inset-0 md:relative z-10 ${B?"translate-x-0":"-translate-x-full md:translate-x-0 opacity-0 md:opacity-100 pointer-events-none md:pointer-events-auto"}`,children:[t.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-800/50 shrink-0",children:[t.jsx("h3",{className:"font-bold text-gray-700 dark:text-gray-200",children:"メモ一覧"}),t.jsx("button",{onClick:V,className:"bg-lime-600 hover:bg-lime-700 text-white p-2.5 rounded-xl shadow-lg shadow-lime-100 dark:shadow-none transition-all active:scale-95",title:"新規メモ作成",children:t.jsx(ke,{size:18})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:[h.length===0?t.jsx("div",{className:"text-center text-gray-400 mt-10 text-xs",children:"メモがありません"}):h.map(e=>t.jsxs("div",{onClick:()=>j(e.id),className:`p-4 rounded-xl cursor-pointer transition-all border ${x===e.id?"bg-lime-50 dark:bg-lime-900/20 border-lime-200 dark:border-lime-800 shadow-sm":"bg-white dark:bg-gray-800/50 hover:bg-gray-50 dark:hover:bg-gray-800 border-transparent"}`,children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsx("div",{className:"font-bold text-gray-800 dark:text-gray-200 truncate pr-2 text-sm",children:e.title||"無題のメモ"}),t.jsx("button",{onClick:r=>G(e.id,r),className:"text-gray-300 hover:text-red-500 transition-colors p-1",children:t.jsx(de,{size:14})})]}),t.jsx("div",{className:"text-[10px] text-gray-400 mt-2 font-mono",children:e.updated})]},e.id)),t.jsxs("article",{className:"mt-8 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-100 dark:border-gray-700 prose dark:prose-invert max-w-none text-xs",children:[t.jsxs("h2",{className:"text-sm font-black flex items-center gap-2 mb-3",children:[t.jsx(ce,{className:"text-blue-500",size:16}),"Webメモ帳（プレビュー）の機能"]}),t.jsxs("div",{className:"space-y-4 text-gray-600 dark:text-gray-300",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"font-bold mb-1 flex items-center gap-2 text-gray-800 dark:text-white",children:[t.jsx(se,{size:14,className:"text-lime-600"}),"シンタックスハイライト"]}),t.jsx("p",{children:"主要言語のコードブロックを自動で色分け表示します。言語は自動検出されます。"})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"font-bold mb-1 flex items-center gap-2 text-gray-800 dark:text-white",children:[t.jsx(le,{size:14,className:"text-lime-600"}),"ローカル保存"]}),t.jsx("p",{children:"データはブラウザ内に保存されます。サーバーへの送信はありません。"})]})]})]})]})]}),t.jsx("div",{className:`flex-1 bg-white dark:bg-dark-lighter rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col overflow-hidden absolute inset-0 md:relative z-20 transition-transform duration-300 ${B?"translate-x-full md:translate-x-0":"translate-x-0"}`,children:$?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-2 md:p-4 border-b border-gray-100 dark:border-gray-700 flex flex-col gap-3 bg-white dark:bg-dark-lighter z-30",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>b(!0),className:"md:hidden p-2 -ml-2 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:t.jsx(fe,{size:20})}),t.jsx("input",{type:"text",value:$.title,onChange:e=>Q(e.target.value),className:"flex-1 text-lg md:text-xl font-bold bg-transparent border-none focus:ring-0 text-gray-800 dark:text-white placeholder-gray-300 outline-none",placeholder:"タイトルを入力"})]}),t.jsx("div",{className:"flex overflow-x-auto no-scrollbar pb-1 -mx-2 md:mx-0 px-2 md:px-0",children:t.jsxs("div",{className:"flex items-center bg-gray-50 dark:bg-gray-800 p-1.5 rounded-xl transition-all shrink-0",children:[t.jsx("button",{onMouseDown:e=>e.preventDefault(),onClick:()=>q("bold"),className:"p-2 hover:bg-white dark:hover:bg-gray-700 rounded-lg text-gray-600 dark:text-gray-300",title:"太字",children:t.jsx(pe,{size:18})}),t.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600 mx-1.5"}),t.jsxs("button",{onMouseDown:e=>e.preventDefault(),onClick:()=>F("H2"),className:"p-2 hover:bg-white dark:hover:bg-gray-700 rounded-lg text-gray-600 dark:text-gray-300 flex items-center gap-1",title:"大見出し",children:[t.jsx(W,{size:18}),t.jsx("span",{className:"text-[10px] font-bold",children:"L"})]}),t.jsxs("button",{onMouseDown:e=>e.preventDefault(),onClick:()=>F("H3"),className:"p-2 hover:bg-white dark:hover:bg-gray-700 rounded-lg text-gray-600 dark:text-gray-300 flex items-center gap-1",title:"小見出し",children:[t.jsx(W,{size:14}),t.jsx("span",{className:"text-[10px] font-bold",children:"S"})]}),t.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600 mx-1.5"}),t.jsx("button",{onMouseDown:e=>e.preventDefault(),onClick:()=>q("insertUnorderedList"),className:"p-2 hover:bg-white dark:hover:bg-gray-700 rounded-lg text-gray-600 dark:text-gray-300",title:"箇条書き",children:t.jsx(ve,{size:18})}),t.jsx("button",{onMouseDown:e=>e.preventDefault(),onClick:re,className:"p-2 hover:bg-white dark:hover:bg-gray-700 rounded-lg text-gray-600 dark:text-gray-300",title:"ToDoリスト",children:t.jsx(Ne,{size:18})}),t.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600 mx-1.5"}),t.jsx("button",{onMouseDown:e=>e.preventDefault(),onClick:X,className:"p-2 hover:bg-white dark:hover:bg-gray-700 rounded-lg text-gray-600 dark:text-gray-300",title:"引用",children:t.jsx(we,{size:18})}),t.jsx("button",{onMouseDown:e=>e.preventDefault(),onClick:te,className:"p-2 hover:bg-white dark:hover:bg-gray-700 rounded-lg text-gray-600 dark:text-gray-300",title:"コードブロック",children:t.jsx(ge,{size:18})}),t.jsx("button",{onMouseDown:e=>e.preventDefault(),onClick:oe,className:"p-2 hover:bg-white dark:hover:bg-gray-700 rounded-lg text-gray-600 dark:text-gray-300",title:"トグル (折りたたみ)",children:t.jsx(ye,{size:18})}),t.jsx("button",{onMouseDown:e=>e.preventDefault(),onClick:Y,className:"p-2 hover:bg-white dark:hover:bg-gray-700 rounded-lg text-gray-600 dark:text-gray-300",title:"リンク",children:t.jsx(me,{size:18})}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{ref:S,onMouseDown:e=>e.preventDefault(),onClick:ne,className:"p-2 hover:bg-white dark:hover:bg-gray-700 rounded-lg text-gray-600 dark:text-gray-300 flex items-center gap-1",title:"文字色",children:[t.jsx(he,{size:18}),t.jsx(be,{size:10})]}),y&&N&&ie.createPortal(t.jsxs("div",{className:"fixed p-2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-100 dark:border-gray-700 z-[9999] grid grid-cols-4 gap-2 w-48 animate-fade-in",style:{top:N.top,left:N.left},onMouseDown:e=>e.preventDefault(),children:[Ce.map(e=>t.jsx("button",{onMouseDown:r=>r.preventDefault(),onClick:()=>O(e.color),className:"w-8 h-8 rounded-full border border-gray-200 dark:border-gray-600 hover:scale-110 transition-transform",style:{backgroundColor:e.color},title:e.label},e.color)),t.jsx("div",{className:"relative w-8 h-8 rounded-full overflow-hidden border border-gray-200 dark:border-gray-600 hover:scale-110 transition-transform cursor-pointer bg-gradient-to-br from-pink-500 via-red-500 to-yellow-500",children:t.jsx("input",{type:"color",onChange:e=>O(e.target.value),onMouseDown:()=>z(),className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full"})})]}),document.body)]}),t.jsx("button",{onMouseDown:e=>e.preventDefault(),onClick:ae,className:"p-2 hover:bg-white dark:hover:bg-gray-700 rounded-lg text-gray-400 hover:text-red-500 ml-2",title:"書式クリア",children:t.jsx(ue,{size:18})})]})})]}),t.jsxs("div",{className:"flex-1 relative overflow-hidden bg-white dark:bg-dark-lighter",children:[t.jsx("style",{children:`
                      .prose pre { 
                          background: #0d1117 !important; 
                          color: #c9d1d9 !important; 
                          padding: 1em; 
                          border-radius: 0.75rem; 
                          font-family: 'Menlo', 'Monaco', monospace !important; 
                          margin: 1em 0; 
                          overflow-x: auto; 
                          border: 1px solid #30363d !important;
                      }
                      .prose code { 
                          font-family: 'Menlo', 'Monaco', monospace !important; 
                          font-size: 0.9em; 
                          background: transparent !important; 
                          color: inherit !important; 
                          padding: 0 !important;
                      }
                      .hljs { display: block; overflow-x: auto; padding: 0.5em; color: #c9d1d9; background: #0d1117; }
                      
                      .hljs-comment, .hljs-quote { color: #8b949e !important; font-style: italic; }
                      .hljs-keyword, .hljs-selector-tag { color: #ff7b72 !important; } 
                      .hljs-doctag, .hljs-literal, .hljs-section { color: #79c0ff !important; }
                      .hljs-string, .hljs-regexp, .hljs-addition, .hljs-attribute, .hljs-meta .hljs-string { color: #a5d6ff !important; } 
                      .hljs-variable, .hljs-template-variable, .hljs-selector-attr, .hljs-selector-pseudo, .hljs-number { color: #79c0ff !important; }
                      .hljs-symbol, .hljs-bullet, .hljs-link, .hljs-meta, .hljs-selector-id { color: #d2a8ff !important; }
                      .hljs-title, .hljs-title.class_, .hljs-class .hljs-title, .hljs-title.function_ { color: #d2a8ff !important; font-weight: bold; } 
                      .hljs-built_in, .hljs-type { color: #ffa657 !important; } 
                      .hljs-attr { color: #79c0ff !important; }
                      .hljs-emphasis { font-style: italic; }
                      .hljs-strong { font-weight: bold; }
                      
                      details { border: 1px solid #e5e7eb; border-radius: 0.5rem; padding: 0.5rem; margin: 0.5rem 0; background-color: #f9fafb; }
                      .dark details { border-color: #374151; background-color: #1f2937; }
                      summary { cursor: pointer; font-weight: bold; outline: none; }
                      
                      .toggle-content { padding-top: 0.5rem; margin-top: 0.5rem; }
                      .dark .toggle-content { border-color: #374151; }

                      .dark .prose { color: #e2e8f0; }
                      .dark .prose h1, .dark .prose h2, .dark .prose h3 { color: #f8fafc; }
                      .dark .prose a { color: #60a5fa; }
                      .dark .prose strong { color: #f1f5f9; }
                      .dark .prose blockquote { border-left-color: #475569; color: #94a3b8; }
                    `}),t.jsx("div",{ref:l,contentEditable:!0,onInput:m,onPaste:J,onKeyDown:Z,className:"w-full h-full p-4 md:p-8 outline-none overflow-y-auto text-gray-800 dark:text-gray-200 prose dark:prose-invert max-w-none text-base leading-relaxed",spellCheck:!1}),t.jsxs("div",{className:"absolute bottom-4 right-4 text-[10px] text-gray-400 pointer-events-none flex items-center gap-1 bg-white/90 dark:bg-black/60 px-3 py-1.5 rounded-full border dark:border-gray-800 shadow-sm backdrop-blur-sm",children:[t.jsx(je,{size:12})," 自動保存済み"]})]})]}):t.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 gap-4",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:t.jsx(xe,{size:32,className:"opacity-50"})}),t.jsx("p",{className:"text-sm font-bold",children:"メモを選択または作成してください"}),t.jsx("button",{onClick:V,className:"px-6 py-2 bg-lime-600 text-white rounded-xl font-bold text-sm shadow-lg hover:bg-lime-700 transition-colors",children:"新規作成"})]})})]})})};export{He as default};
