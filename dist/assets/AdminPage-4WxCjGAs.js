import{c as q,R as g,r as w,j as e,X as de,S as Ne,C as tt}from"./index-J3id14S0.js";import{T as ue}from"./toolsData-BPOEToL-.js";import{L as at}from"./lock-BKo038JK.js";import{L as Ae}from"./loader-circle-K5Vywifn.js";import{A as rt}from"./activity-CsunZsq7.js";import{M as Oe,S as st,a as nt}from"./shield-f-Z048BR.js";import{u as it,a as lt,b as ot,i as M,c as ct,d as dt,e as ae,w as Pe,g as $e,f as Me,h as K,L as ie,m as oe,C as he,A as ut,j as ee,k as _e,l as ht,n as Se,o as Re,p as pt,q as xt,r as mt,G as ft,s as Ce,t as ze,D as gt,v as bt,x as yt,R as vt,T as jt}from"./generateCategoricalChart-XurR56lL.js";import{g as Fe,C as Ve,X as We,Y as Be}from"./YAxis-DPZ98U7u.js";import{C as kt}from"./chevron-right-C0Ph7UMb.js";import{R as Ee}from"./refresh-cw-0O28hHON.js";import{S as wt}from"./search-tH12IBsq.js";import{C as Nt}from"./clock-C6r7DgF3.js";import{C as At}from"./circle-x-BANgzjyF.js";import{T as Ot,a as Pt}from"./toggle-right-BUIqqrt4.js";import{K as _t}from"./key-round-DAYSD0oL.js";import{T as St}from"./triangle-alert-4HMi1dfZ.js";import{S as Ct}from"./settings-h6MYCLB1.js";import{D as zt}from"./database-F8Sn2s8v.js";import{D as Et}from"./download-B68Kpcx_.js";import{U as Lt}from"./upload-BfUwExen.js";import"./align-left-Do9NrwsT.js";import"./bath-C7oYQxop.js";import"./pipette-yMSmdhWD.js";import"./wallet-CoalXWio.js";import"./image-DjJwV7Eh.js";import"./file-type-D9L_xpsp.js";import"./network-C6aubkp1.js";import"./globe-BM4czgbt.js";import"./binary-BR0R89Gy.js";import"./timer-UurJSzRW.js";import"./calendar-days-Ch2X_cYb.js";import"./scale-cVaEU7cE.js";import"./dices-Ba03B8ia.js";import"./square-dashed-CJjq3mYK.js";import"./fingerprint-oFWKcV2a.js";import"./type-Brk0_Xji.js";import"./disc-Bk9sDDmT.js";import"./arrow-right-left-CkrH5h1j.js";import"./hash-C8WTz0-G.js";import"./list-todo-CsS0vDBe.js";import"./code-D7u3emev.js";import"./palette-Qg1yQyh6.js";import"./file-json-CZqzGY0n.js";import"./stamp-Coph_VHM.js";import"./image-off-B0enbTgk.js";import"./file-diff-BY6BCXRk.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=q("AppWindow",[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=q("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=q("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=q("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var Vt=["x1","y1","x2","y2","key"],Wt=["offset"];function J(t){"@babel/helpers - typeof";return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},J(t)}function Le(t,a){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,r)}return s}function T(t){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Le(Object(s),!0).forEach(function(r){Bt(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Le(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function Bt(t,a,s){return a=Gt(a),a in t?Object.defineProperty(t,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[a]=s,t}function Gt(t){var a=Ht(t,"string");return J(a)=="symbol"?a:a+""}function Ht(t,a){if(J(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,a);if(J(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function Y(){return Y=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},Y.apply(this,arguments)}function De(t,a){if(t==null)return{};var s=Xt(t,a),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)r=l[i],!(a.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function Xt(t,a){if(t==null)return{};var s={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(a.indexOf(r)>=0)continue;s[r]=t[r]}return s}var Kt=function(a){var s=a.fill;if(!s||s==="none")return null;var r=a.fillOpacity,i=a.x,l=a.y,c=a.width,u=a.height,h=a.ry;return g.createElement("rect",{x:i,y:l,ry:h,width:c,height:u,stroke:"none",fill:s,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Ge(t,a){var s;if(g.isValidElement(t))s=g.cloneElement(t,a);else if(ae(t))s=t(a);else{var r=a.x1,i=a.y1,l=a.x2,c=a.y2,u=a.key,h=De(a,Vt),d=K(h,!1);d.offset;var o=De(d,Wt);s=g.createElement("line",Y({},o,{x1:r,y1:i,x2:l,y2:c,fill:"none",key:u}))}return s}function Yt(t){var a=t.x,s=t.width,r=t.horizontal,i=r===void 0?!0:r,l=t.horizontalPoints;if(!i||!l||!l.length)return null;var c=l.map(function(u,h){var d=T(T({},t),{},{x1:a,y1:u,x2:a+s,y2:u,key:"line-".concat(h),index:h});return Ge(i,d)});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Ut(t){var a=t.y,s=t.height,r=t.vertical,i=r===void 0?!0:r,l=t.verticalPoints;if(!i||!l||!l.length)return null;var c=l.map(function(u,h){var d=T(T({},t),{},{x1:u,y1:a,x2:u,y2:a+s,key:"line-".concat(h),index:h});return Ge(i,d)});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Jt(t){var a=t.horizontalFill,s=t.fillOpacity,r=t.x,i=t.y,l=t.width,c=t.height,u=t.horizontalPoints,h=t.horizontal,d=h===void 0?!0:h;if(!d||!a||!a.length)return null;var o=u.map(function(x){return Math.round(x+i-i)}).sort(function(x,y){return x-y});i!==o[0]&&o.unshift(0);var m=o.map(function(x,y){var O=!o[y+1],_=O?i+c-x:o[y+1]-x;if(_<=0)return null;var N=y%a.length;return g.createElement("rect",{key:"react-".concat(y),y:x,x:r,height:_,width:l,stroke:"none",fill:a[N],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function qt(t){var a=t.vertical,s=a===void 0?!0:a,r=t.verticalFill,i=t.fillOpacity,l=t.x,c=t.y,u=t.width,h=t.height,d=t.verticalPoints;if(!s||!r||!r.length)return null;var o=d.map(function(x){return Math.round(x+l-l)}).sort(function(x,y){return x-y});l!==o[0]&&o.unshift(0);var m=o.map(function(x,y){var O=!o[y+1],_=O?l+u-x:o[y+1]-x;if(_<=0)return null;var N=y%r.length;return g.createElement("rect",{key:"react-".concat(y),x,y:c,width:_,height:h,stroke:"none",fill:r[N],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Qt=function(a,s){var r=a.xAxis,i=a.width,l=a.height,c=a.offset;return $e(Fe(T(T(T({},Ve.defaultProps),r),{},{ticks:Me(r,!0),viewBox:{x:0,y:0,width:i,height:l}})),c.left,c.left+c.width,s)},Zt=function(a,s){var r=a.yAxis,i=a.width,l=a.height,c=a.offset;return $e(Fe(T(T(T({},Ve.defaultProps),r),{},{ticks:Me(r,!0),viewBox:{x:0,y:0,width:i,height:l}})),c.top,c.top+c.height,s)},te={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function He(t){var a,s,r,i,l,c,u=it(),h=lt(),d=ot(),o=T(T({},t),{},{stroke:(a=t.stroke)!==null&&a!==void 0?a:te.stroke,fill:(s=t.fill)!==null&&s!==void 0?s:te.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:te.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:te.horizontalFill,vertical:(l=t.vertical)!==null&&l!==void 0?l:te.vertical,verticalFill:(c=t.verticalFill)!==null&&c!==void 0?c:te.verticalFill,x:M(t.x)?t.x:d.left,y:M(t.y)?t.y:d.top,width:M(t.width)?t.width:d.width,height:M(t.height)?t.height:d.height}),m=o.x,x=o.y,y=o.width,O=o.height,_=o.syncWithTicks,N=o.horizontalValues,L=o.verticalValues,P=ct(),D=dt();if(!M(y)||y<=0||!M(O)||O<=0||!M(m)||m!==+m||!M(x)||x!==+x)return null;var k=o.verticalCoordinatesGenerator||Qt,A=o.horizontalCoordinatesGenerator||Zt,j=o.horizontalPoints,S=o.verticalPoints;if((!j||!j.length)&&ae(A)){var C=N&&N.length,$=A({yAxis:D?T(T({},D),{},{ticks:C?N:D.ticks}):void 0,width:u,height:h,offset:d},C?!0:_);Pe(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(J($),"]")),Array.isArray($)&&(j=$)}if((!S||!S.length)&&ae(k)){var z=L&&L.length,I=k({xAxis:P?T(T({},P),{},{ticks:z?L:P.ticks}):void 0,width:u,height:h,offset:d},z?!0:_);Pe(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(J(I),"]")),Array.isArray(I)&&(S=I)}return g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(Kt,{fill:o.fill,fillOpacity:o.fillOpacity,x:o.x,y:o.y,width:o.width,height:o.height,ry:o.ry}),g.createElement(Yt,Y({},o,{offset:d,horizontalPoints:j,xAxis:P,yAxis:D})),g.createElement(Ut,Y({},o,{offset:d,verticalPoints:S,xAxis:P,yAxis:D})),g.createElement(Jt,Y({},o,{horizontalPoints:j})),g.createElement(qt,Y({},o,{verticalPoints:S})))}He.displayName="CartesianGrid";var ea=["layout","type","stroke","connectNulls","isRange","ref"],ta=["key"],Xe;function re(t){"@babel/helpers - typeof";return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},re(t)}function Ke(t,a){if(t==null)return{};var s=aa(t,a),r,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)r=l[i],!(a.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function aa(t,a){if(t==null)return{};var s={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(a.indexOf(r)>=0)continue;s[r]=t[r]}return s}function U(){return U=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},U.apply(this,arguments)}function Ie(t,a){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,r)}return s}function G(t){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Ie(Object(s),!0).forEach(function(r){V(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ie(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function ra(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function Te(t,a){for(var s=0;s<a.length;s++){var r=a[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ue(r.key),r)}}function sa(t,a,s){return a&&Te(t.prototype,a),s&&Te(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function na(t,a,s){return a=ce(a),ia(t,Ye()?Reflect.construct(a,s||[],ce(t).constructor):a.apply(t,s))}function ia(t,a){if(a&&(re(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return la(t)}function la(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ye(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ye=function(){return!!t})()}function ce(t){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},ce(t)}function oa(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),a&&pe(t,a)}function pe(t,a){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pe(t,a)}function V(t,a,s){return a=Ue(a),a in t?Object.defineProperty(t,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[a]=s,t}function Ue(t){var a=ca(t,"string");return re(a)=="symbol"?a:a+""}function ca(t,a){if(re(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,a);if(re(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var H=function(t){function a(){var s;ra(this,a);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return s=na(this,a,[].concat(i)),V(s,"state",{isAnimationFinished:!0}),V(s,"id",mt("recharts-area-")),V(s,"handleAnimationEnd",function(){var c=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),ae(c)&&c()}),V(s,"handleAnimationStart",function(){var c=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),ae(c)&&c()}),s}return oa(a,t),sa(a,[{key:"renderDots",value:function(r,i,l){var c=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(c&&!u)return null;var h=this.props,d=h.dot,o=h.points,m=h.dataKey,x=K(this.props,!1),y=K(d,!0),O=o.map(function(N,L){var P=G(G(G({key:"dot-".concat(L),r:3},x),y),{},{index:L,cx:N.x,cy:N.y,dataKey:m,value:N.value,payload:N.payload,points:o});return a.renderDotItem(d,P)}),_={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(l,")"):null};return g.createElement(ie,U({className:"recharts-area-dots"},_),O)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,l=i.baseLine,c=i.points,u=i.strokeWidth,h=c[0].x,d=c[c.length-1].x,o=r*Math.abs(h-d),m=oe(c.map(function(x){return x.y||0}));return M(l)&&typeof l=="number"?m=Math.max(l,m):l&&Array.isArray(l)&&l.length&&(m=Math.max(oe(l.map(function(x){return x.y||0})),m)),M(m)?g.createElement("rect",{x:h<d?h:h-o,y:0,width:o,height:Math.floor(m+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,l=i.baseLine,c=i.points,u=i.strokeWidth,h=c[0].y,d=c[c.length-1].y,o=r*Math.abs(h-d),m=oe(c.map(function(x){return x.x||0}));return M(l)&&typeof l=="number"?m=Math.max(l,m):l&&Array.isArray(l)&&l.length&&(m=Math.max(oe(l.map(function(x){return x.x||0})),m)),M(m)?g.createElement("rect",{x:0,y:h<d?h:h-o,width:m+(u?parseInt("".concat(u),10):1),height:Math.floor(o)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,l,c){var u=this.props,h=u.layout,d=u.type,o=u.stroke,m=u.connectNulls,x=u.isRange;u.ref;var y=Ke(u,ea);return g.createElement(ie,{clipPath:l?"url(#clipPath-".concat(c,")"):null},g.createElement(he,U({},K(y,!0),{points:r,connectNulls:m,type:d,baseLine:i,layout:h,stroke:"none",className:"recharts-area-area"})),o!=="none"&&g.createElement(he,U({},K(this.props,!1),{className:"recharts-area-curve",layout:h,type:d,connectNulls:m,fill:"none",points:r})),o!=="none"&&x&&g.createElement(he,U({},K(this.props,!1),{className:"recharts-area-curve",layout:h,type:d,connectNulls:m,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var l=this,c=this.props,u=c.points,h=c.baseLine,d=c.isAnimationActive,o=c.animationBegin,m=c.animationDuration,x=c.animationEasing,y=c.animationId,O=this.state,_=O.prevPoints,N=O.prevBaseLine;return g.createElement(ut,{begin:o,duration:m,isActive:d,easing:x,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(L){var P=L.t;if(_){var D=_.length/u.length,k=u.map(function(C,$){var z=Math.floor($*D);if(_[z]){var I=_[z],b=ee(I.x,C.x),E=ee(I.y,C.y);return G(G({},C),{},{x:b(P),y:E(P)})}return C}),A;if(M(h)&&typeof h=="number"){var j=ee(N,h);A=j(P)}else if(_e(h)||ht(h)){var S=ee(N,0);A=S(P)}else A=h.map(function(C,$){var z=Math.floor($*D);if(N[z]){var I=N[z],b=ee(I.x,C.x),E=ee(I.y,C.y);return G(G({},C),{},{x:b(P),y:E(P)})}return C});return l.renderAreaStatically(k,A,r,i)}return g.createElement(ie,null,g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(i)},l.renderClipRect(P))),g.createElement(ie,{clipPath:"url(#animationClipPath-".concat(i,")")},l.renderAreaStatically(u,h,r,i)))})}},{key:"renderArea",value:function(r,i){var l=this.props,c=l.points,u=l.baseLine,h=l.isAnimationActive,d=this.state,o=d.prevPoints,m=d.prevBaseLine,x=d.totalLength;return h&&c&&c.length&&(!o&&x>0||!Se(o,c)||!Se(m,u))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(c,u,r,i)}},{key:"render",value:function(){var r,i=this.props,l=i.hide,c=i.dot,u=i.points,h=i.className,d=i.top,o=i.left,m=i.xAxis,x=i.yAxis,y=i.width,O=i.height,_=i.isAnimationActive,N=i.id;if(l||!u||!u.length)return null;var L=this.state.isAnimationFinished,P=u.length===1,D=Re("recharts-area",h),k=m&&m.allowDataOverflow,A=x&&x.allowDataOverflow,j=k||A,S=_e(N)?this.id:N,C=(r=K(c,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},$=C.r,z=$===void 0?3:$,I=C.strokeWidth,b=I===void 0?2:I,E=pt(c)?c:{},se=E.clipDot,W=se===void 0?!0:se,F=z*2+b;return g.createElement(ie,{className:D},k||A?g.createElement("defs",null,g.createElement("clipPath",{id:"clipPath-".concat(S)},g.createElement("rect",{x:k?o:o-y/2,y:A?d:d-O/2,width:k?y:y*2,height:A?O:O*2})),!W&&g.createElement("clipPath",{id:"clipPath-dots-".concat(S)},g.createElement("rect",{x:o-F/2,y:d-F/2,width:y+F,height:O+F}))):null,P?null:this.renderArea(j,S),(c||P)&&this.renderDots(j,W,S),(!_||L)&&xt.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(w.PureComponent);Xe=H;V(H,"displayName","Area");V(H,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ft.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});V(H,"getBaseValue",function(t,a,s,r){var i=t.layout,l=t.baseValue,c=a.props.baseValue,u=c??l;if(M(u)&&typeof u=="number")return u;var h=i==="horizontal"?r:s,d=h.scale.domain();if(h.type==="number"){var o=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return u==="dataMin"?m:u==="dataMax"||o<0?o:Math.max(Math.min(d[0],d[1]),0)}return u==="dataMin"?d[0]:u==="dataMax"?d[1]:d[0]});V(H,"getComposedData",function(t){var a=t.props,s=t.item,r=t.xAxis,i=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.bandSize,h=t.dataKey,d=t.stackedData,o=t.dataStartIndex,m=t.displayedData,x=t.offset,y=a.layout,O=d&&d.length,_=Xe.getBaseValue(a,s,r,i),N=y==="horizontal",L=!1,P=m.map(function(k,A){var j;O?j=d[o+A]:(j=Ce(k,h),Array.isArray(j)?L=!0:j=[_,j]);var S=j[1]==null||O&&Ce(k,h)==null;return N?{x:ze({axis:r,ticks:l,bandSize:u,entry:k,index:A}),y:S?null:i.scale(j[1]),value:j,payload:k}:{x:S?null:r.scale(j[1]),y:ze({axis:i,ticks:c,bandSize:u,entry:k,index:A}),value:j,payload:k}}),D;return O||L?D=P.map(function(k){var A=Array.isArray(k.value)?k.value[0]:null;return N?{x:k.x,y:A!=null&&k.y!=null?i.scale(A):null}:{x:A!=null?r.scale(A):null,y:k.y}}):D=N?i.scale(_):r.scale(_),G({points:P,baseLine:D,layout:y,isRange:L},x)});V(H,"renderDotItem",function(t,a){var s;if(g.isValidElement(t))s=g.cloneElement(t,a);else if(ae(t))s=t(a);else{var r=Re("recharts-area-dot",typeof t!="boolean"?t.className:""),i=a.key,l=Ke(a,ta);s=g.createElement(gt,U({},l,{key:i,className:r}))}return s});var da=bt({chartName:"AreaChart",GraphicalChild:H,axisComponents:[{axisType:"xAxis",AxisComp:We},{axisType:"yAxis",AxisComp:Be}],formatAxisMap:yt});const le="/secure-panel-7x9v2",rr=()=>{const[t,a]=w.useState(sessionStorage.getItem("admin_token")),[s,r]=w.useState("dashboard"),[i,l]=w.useState(""),[c,u]=w.useState(""),[h,d]=w.useState(!1),[o,m]=w.useState({total_pv:0,today_pv:0,recent_logs:[]}),[x,y]=w.useState([]),[O,_]=w.useState({}),[N,L]=w.useState(!1),[P,D]=w.useState(!1),[k,A]=w.useState(""),[j,S]=w.useState(""),[C,$]=w.useState(""),[z,I]=w.useState(()=>{const n=localStorage.getItem("admin_monitored_apps");return n?JSON.parse(n):["qrcode","kakeibo","bath"]});w.useEffect(()=>{localStorage.setItem("admin_monitored_apps",JSON.stringify(z))},[z]);const[b,E]=w.useState({smtp_host:"",smtp_port:587,smtp_user:"",smtp_pass:"",alert_email:"",dos_patterns:[{count:30,seconds:30,block_minutes:15}],dos_notify_enabled:!0}),[se,W]=w.useState(""),[F,R]=w.useState(!1),[Q,xe]=w.useState(""),[me,fe]=w.useState(""),[ge,be]=w.useState(!1),ye=w.useRef(null),Je=w.useMemo(()=>{const n={},p=new Date;for(let f=23;f>=0;f--){const v=new Date(p.getTime()-f*36e5);n[`${v.getHours()}:00`]=0}return o.recent_logs.forEach(f=>{const v=new Date(f.timestamp*1e3);if(isNaN(v.getTime()))return;const Z=`${v.getHours()}:00`;n[Z]!==void 0&&n[Z]++}),Object.entries(n).map(([f,v])=>({name:f,pv:v}))},[o.recent_logs]),ve=w.useMemo(()=>{const n={};return o.recent_logs.forEach(p=>{const f=ue.find(v=>v.path===p.path);f&&(n[f.id]=(n[f.id]||0)+1)}),n},[o.recent_logs]),je=w.useMemo(()=>o.recent_logs.filter(n=>{const p=!k||n.ip.includes(k),f=!j||n.path.toLowerCase().includes(j.toLowerCase()),v=!C||n.date.includes(C);return p&&f&&v}),[o.recent_logs,k,j,C]),X=async(n=!1)=>{if(t){n&&L(!0),n||D(!0);try{const p=await fetch("./backend/admin_api.php?action=fetch_dashboard",{headers:{"X-Admin-Token":t}});if(p.ok){const f=await p.json();m(f.stats||{total_pv:0,today_pv:0,recent_logs:[]}),y(f.messages||[]),_(f.blocked_ips||{}),n&&f.config&&(E(v=>({...v,...f.config,smtp_pass:"",dos_patterns:f.config.dos_patterns||[{count:30,seconds:30,block_minutes:15}]})),R(!1))}else p.status===403&&we()}catch(p){console.error(p)}finally{L(!1),D(!1)}}},ke=async n=>{if(t){if(Q&&Q!==me){alert("新しいパスワードが一致しません。");return}W("保存中...");try{(await fetch("./backend/admin_api.php?action=update_settings",{method:"POST",headers:{"Content-Type":"application/json","X-Admin-Token":t},body:JSON.stringify({...b,new_password:Q||void 0})})).ok?(W("設定を保存しました。"),R(!1),xe(""),fe(""),setTimeout(()=>W(""),3e3),X(!1)):W("保存に失敗しました。")}catch{W("エラーが発生しました。")}}},qe=async()=>{if(t){be(!0);try{const p=await(await fetch("./backend/admin_api.php?action=test_email",{method:"POST",headers:{"Content-Type":"application/json","X-Admin-Token":t},body:JSON.stringify(b)})).json();alert(p.status==="成功"?"テストメールを送信しました。":`失敗: ${p.error}`)}catch{alert("通信エラー")}finally{be(!1)}}},Qe=async n=>{if(confirm(`${n} の遮断を解除しますか？`))try{(await fetch("./backend/admin_api.php?action=unblock_ip",{method:"POST",headers:{"Content-Type":"application/json","X-Admin-Token":t||""},body:JSON.stringify({ip:n})})).ok&&X(!1)}catch{alert("解除失敗")}},Ze=async n=>{n.preventDefault(),d(!0);try{const p=await fetch("./backend/admin_api.php?action=login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:i})}),f=await p.json();p.ok?(a(f.token),sessionStorage.setItem("admin_token",f.token)):u(f.error)}catch{u("通信エラー")}finally{d(!1)}},we=()=>{a(null),sessionStorage.removeItem("admin_token")},et=n=>{S(n),A(""),$(""),r("logs")};return w.useEffect(()=>{if(t){X(!0);const n=setInterval(()=>X(!1),1500);return()=>clearInterval(n)}},[t]),t?e.jsxs("div",{className:"min-h-screen bg-[#f8f9fc] dark:bg-dark text-slate-800 dark:text-gray-100 flex flex-col fixed inset-0 z-[150] overflow-hidden",children:[e.jsxs("header",{className:"bg-slate-900 text-white border-b border-white/10 h-16 flex items-center justify-between px-6 shrink-0 shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-red-600 p-1.5 rounded-lg",children:e.jsx(Rt,{size:20})}),e.jsxs("h1",{className:"text-lg font-black tracking-tight",children:["管理コンソール ",e.jsx("span",{className:"text-[10px] bg-white/20 px-2 py-0.5 rounded-full font-mono",children:"v2.7.0"})]})]}),e.jsx("div",{className:"flex bg-white/10 backdrop-blur-md p-1 rounded-xl overflow-x-auto no-scrollbar",children:[{id:"dashboard",label:"統計"},{id:"logs",label:"ログ"},{id:"messages",label:"受信箱"},{id:"security",label:"IP・DOS制限"},{id:"settings",label:"設定・メンテ"}].map(n=>e.jsx("button",{onClick:()=>r(n.id),className:`px-4 py-1.5 rounded-lg text-xs font-black transition-all whitespace-nowrap ${s===n.id?"bg-white text-slate-900 shadow-lg":"text-gray-400 hover:text-white"}`,children:n.label},n.id))}),e.jsx("button",{onClick:we,className:"p-2 text-gray-400 hover:text-red-400 transition-colors",children:e.jsx($t,{size:20})})]}),e.jsxs("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 md:p-10 space-y-8 no-scrollbar bg-slate-50 dark:bg-dark",children:[s==="dashboard"&&e.jsxs("div",{className:"space-y-10 animate-fade-in max-w-7xl mx-auto w-full pb-20",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[{label:"本日PV",val:o.today_pv,color:"text-blue-600",icon:rt},{label:"累計アクセス",val:o.total_pv,color:"text-indigo-600",icon:It},{label:"受信メッセージ",val:x.length,color:"text-pink-600",icon:Oe},{label:"遮断中のIP",val:Object.keys(O).length,color:"text-red-600",icon:st}].map((n,p)=>e.jsxs("div",{className:"bg-white dark:bg-dark-lighter p-6 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 tracking-widest uppercase mb-4",children:n.label}),e.jsx("p",{className:`text-3xl font-black ${n.color} font-mono tabular-nums`,children:n.val.toLocaleString()})]},p))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-dark-lighter p-8 rounded-[2.5rem] border border-gray-100 dark:border-gray-800 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h3",{className:"font-black text-lg uppercase tracking-tight",children:"トラフィック推移 (LIVE)"}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-blue-500 bg-blue-50 dark:bg-blue-900/30 px-3 py-1 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-ping"}),"1.5s UPDATE"]})]}),e.jsx("div",{className:"h-72",children:e.jsx(vt,{width:"100%",height:"100%",children:e.jsxs(da,{data:Je,children:[e.jsx(He,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),e.jsx(We,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:"bold"}}),e.jsx(Be,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:"bold"}}),e.jsx(jt,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 25px rgba(0,0,0,0.1)",fontWeight:"bold"}}),e.jsx(H,{type:"monotone",dataKey:"pv",stroke:"#3b82f6",strokeWidth:4,fill:"#3b82f6",fillOpacity:.1,animationDuration:500})]})})})]}),e.jsxs("div",{className:"bg-white dark:bg-dark-lighter p-8 rounded-[2.5rem] border border-gray-100 dark:border-gray-800 shadow-sm flex flex-col",children:[e.jsx("h3",{className:"font-black text-lg mb-6 uppercase tracking-tight",children:"リアルタイム・ログ"}),e.jsx("div",{className:"space-y-3 flex-1 overflow-y-auto no-scrollbar",children:o.recent_logs.slice(0,15).map((n,p)=>e.jsxs("div",{className:`flex justify-between items-center text-[10px] p-2 rounded-xl border-b dark:border-gray-800 last:border-0 ${n.path===le?"bg-red-50 dark:bg-red-900/10":""}`,children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:`font-black truncate ${n.path===le?"text-red-600":"text-blue-600"}`,children:n.path}),e.jsx("p",{className:"text-gray-400 font-mono",children:n.ip})]}),e.jsx("p",{className:"text-gray-500 font-bold ml-4 whitespace-nowrap",children:n.date.split(" ")[1]})]},p))})]})]}),e.jsxs("section",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center border-b pb-4",children:[e.jsx("h3",{className:"text-xl font-black",children:"アプリ別トラフィック"}),e.jsxs("select",{className:"bg-slate-900 text-white px-4 py-2 rounded-xl text-xs font-black",onChange:n=>{n.target.value&&!z.includes(n.target.value)&&I([...z,n.target.value]),n.target.value=""},children:[e.jsx("option",{value:"",children:"監視対象を追加..."}),ue.filter(n=>!z.includes(n.id)).map(n=>e.jsx("option",{value:n.id,children:n.name},n.id))]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(n=>{const p=ue.find(B=>B.id===n);if(!p)return null;const f=ve[n]||0,v=Object.values(ve).reduce((B,ne)=>B+ne,0),Z=v>0?(f/v*100).toFixed(1):"0";return e.jsxs("div",{onClick:()=>et(p.path),className:"bg-white dark:bg-dark-lighter p-6 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 relative group animate-scale-up cursor-pointer hover:border-blue-400 dark:hover:border-blue-500 hover:shadow-xl transition-all",children:[e.jsx("button",{onClick:B=>{B.stopPropagation(),I(z.filter(ne=>ne!==n))},className:"absolute top-4 right-4 text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(de,{size:16})}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:`p-3 rounded-2xl ${p.lightBg} ${p.color}`,children:e.jsx(p.icon,{size:20})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"font-black text-sm truncate",children:p.name}),e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:p.path})]})]}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase mb-1 tracking-tighter",children:"RECENT PV"}),e.jsx("p",{className:"text-3xl font-black font-mono",children:f})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-[10px] font-black text-blue-500 mb-1 flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:["LOGS ",e.jsx(kt,{size:10})]}),e.jsxs("p",{className:"text-xl font-black font-mono text-emerald-600",children:[Z,"%"]})]})]})]},n)})})]})]}),s==="logs"&&e.jsx("div",{className:"animate-fade-in max-w-7xl mx-auto w-full space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-[2.5rem] shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b dark:border-gray-800 bg-slate-50 dark:bg-slate-800/30 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"font-black text-xl flex items-center gap-2",children:[e.jsx(Tt,{className:"text-blue-500"})," ログフィルタリング"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[j&&e.jsxs("button",{onClick:()=>S(""),className:"text-[10px] bg-blue-100 text-blue-600 px-3 py-1 rounded-full font-black flex items-center gap-1",children:["Path: ",j," ",e.jsx(de,{size:12})]}),e.jsx("button",{onClick:()=>{A(""),S(""),$("")},className:"text-[10px] text-gray-400 font-black hover:text-red-500 transition-colors",children:"リセット"}),e.jsx("button",{onClick:()=>X(!1),className:"p-2 text-gray-400 hover:text-blue-500",children:e.jsx(Ee,{size:20,className:P?"animate-spin":""})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14}),e.jsx("input",{type:"text",placeholder:"IPアドレス...",value:k,onChange:n=>A(n.target.value),className:"w-full pl-9 pr-3 py-3 rounded-xl border dark:border-gray-700 dark:bg-gray-900 text-xs font-bold"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Dt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14}),e.jsx("input",{type:"text",placeholder:"パス (例: /bath)",value:j,onChange:n=>S(n.target.value),className:"w-full pl-9 pr-3 py-3 rounded-xl border dark:border-gray-700 dark:bg-gray-900 text-xs font-bold"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Nt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:14}),e.jsx("input",{type:"text",placeholder:"日付 (YYYY-MM-DD)",value:C,onChange:n=>$(n.target.value),className:"w-full pl-9 pr-3 py-3 rounded-xl border dark:border-gray-700 dark:bg-gray-900 text-xs font-bold"})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-slate-900 text-white text-[10px] uppercase font-black tracking-widest",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-8 py-5",children:"日時"}),e.jsx("th",{className:"px-8 py-5",children:"パス"}),e.jsx("th",{className:"px-8 py-5",children:"クライアントIP"}),e.jsx("th",{className:"px-8 py-5",children:"応答"}),e.jsx("th",{className:"px-8 py-5 text-right",children:"状態"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:je.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"py-20 text-center text-gray-400 font-bold",children:"該当するログはありません"})}):je.map((n,p)=>e.jsxs("tr",{className:`transition-colors ${n.path===le?"bg-red-50 dark:bg-red-900/10 hover:bg-red-100":"hover:bg-slate-50 dark:hover:bg-slate-800/40"}`,children:[e.jsx("td",{className:"px-8 py-4 font-mono text-[11px] text-gray-500 whitespace-nowrap",children:n.date}),e.jsx("td",{className:"px-8 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`font-black truncate max-w-[200px] ${n.path===le?"text-red-600":"text-blue-600 dark:text-blue-400"}`,children:n.path}),n.path===le&&e.jsx("span",{className:"text-[8px] bg-red-600 text-white px-1.5 py-0.5 rounded-full font-black uppercase",children:"Admin Access"})]})}),e.jsx("td",{className:"px-8 py-4 font-mono text-[11px] text-gray-400",children:n.ip}),e.jsx("td",{className:"px-8 py-4 font-mono text-[11px] font-black",children:n.duration?`${n.duration}ms`:"--"}),e.jsx("td",{className:"px-8 py-4 text-right",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black ${n.status&&n.status>=400?"bg-red-100 text-red-600":"bg-green-100 text-green-600"}`,children:n.status||200})})]},p))})]})})]})}),s==="security"&&e.jsx("div",{className:"animate-fade-in max-w-7xl mx-auto w-full space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-dark-lighter rounded-[2.5rem] shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b flex justify-between items-center bg-slate-50 dark:bg-slate-800/30",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-black text-xl flex items-center gap-2",children:[e.jsx(At,{className:"text-red-500"})," 遮断中のIP"]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"過剰リクエストにより自動または手動で制限された端末"})]}),e.jsx("button",{onClick:()=>X(!1),className:"p-2 bg-white dark:bg-gray-700 rounded-lg shadow-sm hover:text-blue-500 transition-colors",children:e.jsx(Ee,{size:20,className:P?"animate-spin":""})})]}),e.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"text-[10px] uppercase font-black text-gray-400 bg-gray-50 dark:bg-slate-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-8 py-3",children:"IP"}),e.jsx("th",{className:"px-8 py-3",children:"検知理由"}),e.jsx("th",{className:"px-8 py-3",children:"期限"}),e.jsx("th",{className:"px-8 py-3 text-right",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:Object.entries(O).length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center py-20 text-gray-400 font-bold",children:"遮断中のIPはありません"})}):Object.entries(O).map(([n,p])=>e.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800/50",children:[e.jsx("td",{className:"px-8 py-6 font-mono font-black text-red-600",children:n}),e.jsx("td",{className:"px-8 py-6",children:e.jsx("span",{className:"text-[10px] bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded font-black",children:p.reason||"手動"})}),e.jsx("td",{className:"px-8 py-6 text-xs font-bold text-gray-500",children:p.expiry>=2147483640?"永久":new Date(p.expiry*1e3).toLocaleString()}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsx("button",{onClick:()=>Qe(n),className:"px-6 py-2 bg-blue-600 text-white text-[10px] font-black rounded-xl hover:bg-blue-700 transition-all",children:"解除"})})]},n))})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-dark-lighter p-8 rounded-[2.5rem] border border-gray-100 dark:border-gray-700 shadow-sm space-y-6 flex flex-col",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"font-black text-xl flex items-center gap-3",children:[e.jsx(Ne,{className:"text-emerald-500"})," DOS攻撃対策設定"]}),e.jsxs("button",{type:"button",onClick:()=>{E({...b,dos_notify_enabled:!b.dos_notify_enabled}),R(!0)},className:`w-full flex items-center justify-center gap-2 py-3 mt-6 rounded-xl text-xs font-black transition-all ${b.dos_notify_enabled?"bg-emerald-100 text-emerald-600":"bg-gray-100 text-gray-400"}`,children:[b.dos_notify_enabled?e.jsx(Ot,{size:20}):e.jsx(Pt,{size:20})," 検知時に通知"]}),e.jsxs("div",{className:"space-y-4 mt-6 max-h-[400px] overflow-y-auto no-scrollbar pr-2",children:[b.dos_patterns.map((n,p)=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700 relative group animate-scale-up",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[8px] font-black text-gray-400 uppercase",children:"期間(秒)"}),e.jsx("input",{type:"number",value:n.seconds,onChange:f=>{const v=[...b.dos_patterns];v[p]={...v[p],seconds:Number(f.target.value)},E({...b,dos_patterns:v}),R(!0)},className:"w-full p-2 border rounded-lg text-xs font-bold dark:bg-slate-900"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[8px] font-black text-gray-400 uppercase",children:"回数"}),e.jsx("input",{type:"number",value:n.count,onChange:f=>{const v=[...b.dos_patterns];v[p]={...v[p],count:Number(f.target.value)},E({...b,dos_patterns:v}),R(!0)},className:"w-full p-2 border rounded-lg text-xs font-bold dark:bg-slate-900"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[8px] font-black text-gray-400 uppercase",children:"遮断(分)"}),e.jsx("input",{type:"number",value:n.block_minutes,onChange:f=>{const v=[...b.dos_patterns];v[p]={...v[p],block_minutes:Number(f.target.value)},E({...b,dos_patterns:v}),R(!0)},className:"w-full p-2 border rounded-lg text-xs font-bold dark:bg-slate-900"})]})]}),e.jsx("button",{type:"button",onClick:()=>{const f=[...b.dos_patterns];f.splice(p,1),E({...b,dos_patterns:f}),R(!0)},className:"absolute -top-2 -right-2 p-1.5 bg-white dark:bg-gray-700 border dark:border-gray-600 rounded-full text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(de,{size:12})})]},p)),e.jsx("button",{type:"button",onClick:()=>{E({...b,dos_patterns:[...b.dos_patterns,{count:50,seconds:60,block_minutes:60}]}),R(!0)},className:"w-full py-2 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-xl text-gray-400 font-black text-[10px] hover:border-emerald-500 hover:text-emerald-500 transition-all",children:"+ 監視ルールを追加"})]})]}),e.jsxs("button",{onClick:()=>ke(),disabled:!F,className:`w-full py-4 rounded-xl text-xs font-black shadow-xl transition-all flex items-center justify-center gap-2 ${F?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:[e.jsx(Ne,{size:18})," ",F?"変更を保存して適用":"変更なし"]})]})]})}),s==="messages"&&e.jsx("div",{className:"space-y-4 animate-fade-in max-w-5xl mx-auto w-full pb-20",children:x.length===0?e.jsx("div",{className:"text-center py-24 bg-white dark:bg-dark-lighter rounded-[2.5rem] border-2 border-dashed border-gray-200 dark:border-gray-800 text-gray-400 font-black uppercase tracking-widest",children:"受信メッセージはありません"}):x.map(n=>e.jsxs("div",{className:"bg-white dark:bg-dark-lighter p-6 sm:p-8 rounded-[2rem] shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition-shadow group",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mb-6 gap-2",children:[e.jsxs("span",{className:"font-black text-blue-600 flex items-center gap-3",children:[e.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 p-2 rounded-full text-gray-400",children:e.jsx(Ft,{size:20})}),n.name," ",e.jsxs("span",{className:"text-[10px] font-normal text-gray-400",children:["(",n.contact||"連絡先なし",")"]})]}),e.jsxs("span",{className:"text-[10px] text-gray-400 font-mono bg-slate-50 dark:bg-slate-800 px-3 py-1.5 rounded-full border dark:border-gray-700",children:[n.timestamp," (IP: ",n.ip,")"]})]}),e.jsx("p",{className:"bg-slate-50 dark:bg-slate-900/50 p-6 rounded-2xl whitespace-pre-wrap leading-relaxed text-sm text-gray-700 dark:text-gray-300 font-medium border dark:border-gray-800",children:n.message})]},n.id))}),s==="settings"&&e.jsxs("div",{className:"animate-fade-in max-w-7xl mx-auto w-full space-y-10 pb-20",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white dark:bg-dark-lighter p-8 rounded-[2.5rem] border border-gray-100 dark:border-gray-700 shadow-sm space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"font-black text-xl flex items-center gap-3",children:[e.jsx(Oe,{className:"text-pink-500"})," 通知用 SMTP 設定"]}),e.jsxs("button",{onClick:qe,disabled:ge,className:"px-4 py-2 bg-pink-50 dark:bg-pink-900/30 text-pink-600 rounded-xl text-xs font-black hover:bg-pink-100 transition-colors flex items-center gap-2",children:[ge?e.jsx(Ae,{size:14,className:"animate-spin"}):e.jsx(nt,{size:14})," 接続テスト"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"ホスト名"}),e.jsx("input",{type:"text",value:b.smtp_host,onChange:n=>{E({...b,smtp_host:n.target.value}),R(!0)},className:"w-full p-3 border rounded-xl font-bold dark:bg-slate-900"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"ポート"}),e.jsx("input",{type:"number",value:b.smtp_port,onChange:n=>{E({...b,smtp_port:Number(n.target.value)}),R(!0)},className:"w-full p-3 border rounded-xl font-bold dark:bg-slate-900"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"ユーザー (ログインID)"}),e.jsx("input",{type:"text",value:b.smtp_user,onChange:n=>{E({...b,smtp_user:n.target.value}),R(!0)},className:"w-full p-3 border rounded-xl font-bold dark:bg-slate-900"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"パスワード"}),e.jsx("input",{type:"password",value:b.smtp_pass,onChange:n=>{E({...b,smtp_pass:n.target.value}),R(!0)},className:"w-full p-3 border rounded-xl font-bold dark:bg-slate-900",placeholder:"変更しない場合は空欄"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"通知用メールアドレス"}),e.jsx("input",{type:"email",value:b.alert_email,onChange:n=>{E({...b,alert_email:n.target.value}),R(!0)},className:"w-full p-3 border rounded-xl font-bold dark:bg-slate-900"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-dark-lighter p-8 rounded-[2.5rem] border border-gray-100 dark:border-gray-700 shadow-sm space-y-6",children:[e.jsxs("h3",{className:"font-black text-xl flex items-center gap-3",children:[e.jsx(_t,{className:"text-blue-500"})," 管理者パスワードの更新"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase",children:"新しいパスワード"}),e.jsx("input",{type:"password",value:Q,onChange:n=>xe(n.target.value),className:"w-full p-3 border rounded-xl font-bold dark:bg-slate-900 focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase",children:"確認のため再入力"}),e.jsx("input",{type:"password",value:me,onChange:n=>fe(n.target.value),className:"w-full p-3 border rounded-xl font-bold dark:bg-slate-900 focus:border-blue-500 transition-colors"})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl flex items-start gap-3",children:[e.jsx(St,{className:"text-blue-600 shrink-0 mt-0.5",size:16}),e.jsx("p",{className:"text-[10px] text-blue-800 dark:text-blue-300 font-bold leading-relaxed",children:"強力なパスワードを設定してください。変更後は即座に適用されます。"})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("button",{onClick:()=>ke(),disabled:!F&&!Q,className:`w-full py-5 rounded-[1.5rem] text-sm font-black shadow-2xl transition-all flex items-center justify-center gap-3 active:scale-95 tracking-widest uppercase ${F||Q?"bg-slate-900 dark:bg-white text-white dark:text-slate-900 hover:opacity-90":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:[se?e.jsx(tt,{size:24}):e.jsx(Ct,{size:24}),se||"システム設定をすべて保存する"]})})]}),e.jsxs("div",{className:"bg-indigo-600 p-8 sm:p-10 rounded-[2.5rem] text-white shadow-2xl space-y-8 max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-2xl",children:e.jsx(zt,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-black text-xl mb-1 uppercase",children:"システムバックアップ"}),e.jsx("p",{className:"text-xs opacity-70 font-bold",children:"全ログとメッセージデータのJSONエクスポート・復元"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>{const n={messages:x,logs:o.recent_logs},p=document.createElement("a");p.href=URL.createObjectURL(new Blob([JSON.stringify(n,null,2)],{type:"application/json"})),p.download=`OMNITOOLS_ADMIN_BACKUP_${new Date().toISOString().split("T")[0]}.json`,p.click()},className:"py-4 bg-white/10 hover:bg-white/20 rounded-2xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-2 transition-all border border-white/20",children:[e.jsx(Et,{size:16})," 出力"]}),e.jsxs("button",{onClick:()=>{var n;return(n=ye.current)==null?void 0:n.click()},className:"py-4 bg-white text-indigo-600 rounded-2xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-2 shadow-lg hover:opacity-90 transition-all",children:[e.jsx(Lt,{size:16})," 復元"]}),e.jsx("input",{type:"file",accept:".json",ref:ye,onChange:async n=>{var v;const p=(v=n.target.files)==null?void 0:v[0];if(!p||!confirm("既存のデータは上書きされます。続行しますか？"))return;const f=new FileReader;f.onload=async Z=>{var B;try{(await fetch("./backend/admin_api.php?action=import_data",{method:"POST",headers:{"Content-Type":"application/json","X-Admin-Token":t||""},body:(B=Z.target)==null?void 0:B.result})).ok&&(alert("復元成功"),X(!0))}catch{alert("復元エラー")}},f.readAsText(p)},className:"hidden"})]})]})]})]}),e.jsxs("footer",{className:"bg-white dark:bg-slate-900 border-t dark:border-gray-800 h-10 px-6 flex items-center justify-between shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"LIVE CONNECTION ACTIVE"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Mt,{size:10,className:"text-gray-400"}),e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"DRILL-DOWN ENABLED"})]})]}),e.jsxs("div",{className:"text-[9px] font-black text-gray-300 uppercase tracking-widest",children:["Last Sync: ",new Date().toLocaleTimeString()]})]})]}):e.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-10 text-center animate-scale-up",children:[e.jsx("div",{className:"inline-flex p-4 bg-red-50 text-red-600 rounded-full mb-6",children:e.jsx(at,{size:32})}),e.jsx("h2",{className:"text-2xl font-black mb-2 dark:text-white",children:"管理者認証"}),e.jsxs("form",{onSubmit:Ze,className:"space-y-4",children:[e.jsx("input",{type:"password",value:i,onChange:n=>l(n.target.value),placeholder:"パスワードを入力",className:"w-full p-4 rounded-2xl border-2 dark:bg-gray-900 dark:text-white outline-none focus:border-red-500 transition-all",autoFocus:!0}),c&&e.jsx("p",{className:"text-red-500 text-sm font-bold",children:c}),e.jsx("button",{type:"submit",disabled:h,className:"w-full py-4 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-black rounded-2xl flex items-center justify-center gap-2 hover:opacity-90 active:scale-95 transition-all",children:h?e.jsx(Ae,{className:"animate-spin"}):"認証する"})]})]})})};export{rr as default};
