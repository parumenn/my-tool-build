import{r as t,j as e,S as z}from"./index-nrPkYwrF.js";import{U as k}from"./upload-BW2sikZJ.js";import{T as E}from"./triangle-alert-kZJQcL7k.js";import{C as T}from"./check-CVtAVEND.js";import{C as A}from"./copy-vZdjKLUq.js";import{D}from"./download-DI72wrfq.js";import{F as U}from"./file-text-uHCPhIXc.js";import{I}from"./info-BxRwSEsO.js";import{C as R}from"./code-Y3A0aPGM.js";const q=()=>{const[n,m]=t.useState("encode"),[i,j]=t.useState(""),[g,y]=t.useState(""),[c,b]=t.useState(!1),[h,p]=t.useState(null),[r,N]=t.useState(""),[u,w]=t.useState("downloaded_file"),[f,v]=t.useState(""),C=10*1024*1024,S=a=>{var l;p(null);const s=(l=a.target.files)==null?void 0:l[0];if(s){if(s.size>C){p("ファイルが大きすぎます（最大10MB）。");return}y(s.name);const d=new FileReader;d.onloadend=()=>j(d.result),d.readAsDataURL(s)}},B=()=>{navigator.clipboard.writeText(i),b(!0),setTimeout(()=>b(!1),2e3)},F=()=>{try{if(!r)return;let a="",s=r;if(r.includes("data:")){const o=r.split(";")[0].split(":")[1];s=r.split(",")[1],a={"image/png":".png","image/jpeg":".jpg","application/pdf":".pdf","text/plain":".txt"}[o]||""}const l=atob(s),d=new Array(l.length);for(let o=0;o<l.length;o++)d[o]=l.charCodeAt(o);const M=new Uint8Array(d),x=document.createElement("a");x.href=URL.createObjectURL(new Blob([M])),x.download=u+(a||f),x.click()}catch{alert("変換に失敗しました。Base64文字列を確認してください。")}};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-10 pb-20",children:[e.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-800 p-1 rounded-2xl w-full max-w-md mx-auto",children:[e.jsx("button",{onClick:()=>m("encode"),className:`flex-1 py-3 rounded-xl text-sm font-black transition-all ${n==="encode"?"bg-white dark:bg-gray-700 text-orange-600 shadow-md":"text-gray-500"}`,children:"送信 (File ➔ B64)"}),e.jsx("button",{onClick:()=>m("decode"),className:`flex-1 py-3 rounded-xl text-sm font-black transition-all ${n==="decode"?"bg-white dark:bg-gray-700 text-orange-600 shadow-md":"text-gray-500"}`,children:"受信 (B64 ➔ File)"})]}),n==="encode"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-3xl p-6 md:p-10 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-gray-800 dark:text-white mb-2 flex items-center gap-2",children:[e.jsx(k,{className:"text-orange-500"}),"ファイルを変換"]}),e.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"ファイルを共有用のテキストコード(Base64)に変換します。"}),h&&e.jsxs("div",{className:"mb-4 bg-red-50 dark:bg-red-900/30 text-red-600 p-4 rounded-xl flex items-center gap-2 text-sm font-bold",children:[e.jsx(E,{size:18})," ",h]}),e.jsxs("label",{className:"border-4 border-dashed border-gray-200 dark:border-gray-700 rounded-3xl p-10 block text-center hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors relative cursor-pointer group",children:[e.jsx("input",{type:"file",onChange:S,className:"hidden"}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"p-5 bg-orange-100 dark:bg-orange-900/30 text-orange-500 rounded-full group-hover:scale-110 transition-transform",children:e.jsx(k,{size:32})}),e.jsx("div",{className:"font-black text-gray-700 dark:text-gray-200",children:g||"ファイルを選択"}),!g&&e.jsx("div",{className:"text-[10px] text-gray-400 uppercase tracking-widest",children:"Max 10MB"})]})]})]}),i&&e.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-3xl p-6 shadow-xl border border-orange-100 dark:border-orange-900/30 animate-fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-black text-gray-700 dark:text-gray-200",children:"生成されたコード"}),e.jsxs("button",{onClick:B,className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-black transition-all ${c?"bg-green-500 text-white":"bg-orange-600 text-white shadow-lg shadow-orange-200 dark:shadow-none"}`,children:[c?e.jsx(T,{size:16}):e.jsx(A,{size:16})," ",c?"コピー完了":"コピー"]})]}),e.jsx("textarea",{readOnly:!0,value:i,className:"w-full h-48 md:h-64 p-4 text-[16px] font-mono bg-slate-900 text-green-400 border border-slate-700 rounded-2xl focus:outline-none"})]})]}):e.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-3xl p-6 md:p-10 shadow-sm border border-gray-100 dark:border-gray-700 animate-fade-in space-y-6",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-gray-800 dark:text-white mb-2 flex items-center gap-2",children:[e.jsx(D,{className:"text-orange-500"}),"コードを復元"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Base64テキストを貼り付け"}),e.jsx("textarea",{value:r,onChange:a=>N(a.target.value),placeholder:"data:image/png;base64,...",className:"w-full h-48 p-4 text-[16px] font-mono border-2 border-gray-100 dark:border-slate-700 rounded-2xl bg-gray-50 dark:bg-slate-800 dark:text-white"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 mb-2",children:"保存名"}),e.jsx("input",{type:"text",value:u,onChange:a=>w(a.target.value),className:"w-full p-3 border-2 border-gray-100 dark:border-slate-700 dark:bg-slate-800 dark:text-white rounded-xl text-[16px]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 mb-2",children:"拡張子"}),e.jsx("input",{type:"text",placeholder:".png",value:f,onChange:a=>v(a.target.value),className:"w-full p-3 border-2 border-gray-100 dark:border-slate-700 dark:bg-slate-800 dark:text-white rounded-xl text-[16px]"})]})]}),e.jsxs("button",{onClick:F,disabled:!r,className:"w-full py-5 bg-orange-600 text-white font-black rounded-2xl hover:bg-orange-700 disabled:opacity-30 flex items-center justify-center gap-2 transition-all active:scale-95",children:[e.jsx(U,{size:24})," 復元してダウンロード"]})]})]}),e.jsxs("article",{className:"p-8 bg-white dark:bg-dark-lighter rounded-3xl border border-gray-100 dark:border-gray-700 prose dark:prose-invert max-w-none shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-black flex items-center gap-2 mb-6",children:[e.jsx(I,{className:"text-blue-500"}),"Base64変換の役割とメリット"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 text-sm leading-relaxed text-gray-600 dark:text-gray-300",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-gray-800 dark:text-white font-bold mb-3 flex items-center gap-2",children:[e.jsx(R,{size:18,className:"text-orange-500"}),"開発者・デザイナーの必須ツール"]}),e.jsx("p",{children:"Base64は、バイナリデータ（画像やフォント）を64種類の英数字のみで構成されるテキスト形式に変換するエンコード方式です。HTMLやCSSの中に直接画像を埋め込む「Data URI Scheme」として活用することで、HTTPリクエスト数を減らしWebサイトの高速化に寄与します。"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-gray-800 dark:text-white font-bold mb-3 flex items-center gap-2",children:[e.jsx(z,{size:18,className:"text-orange-500"}),"セキュアなローカル処理"]}),e.jsx("p",{children:"当ツールは、ブラウザのJavaScript機能のみを使用して変換を行います。ファイルをサーバーへアップロードする必要がないため、社内資料やプライベートな画像も安全に文字列化・復元が可能です。10MBまでのあらゆるファイル形式に対応しています。"})]})]})]})]})};export{q as default};
