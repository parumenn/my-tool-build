import{r as s,j as e,Z as $,S as F}from"./index-BN0pIzLt.js";import{a as W,C as z}from"./calendar-days-Cuz9o2e3.js";import{H}from"./history-C-KcJ3hK.js";import{A as O}from"./arrow-right-BWqA3pwB.js";import{I as L}from"./info-DRZFB79P.js";const K=()=>{const[n,u]=s.useState("diff"),[i,N]=s.useState(new Date().toISOString().split("T")[0]),[o,w]=s.useState(new Date().toISOString().split("T")[0]),[c,v]=s.useState(!1),[r,D]=s.useState(null),[x,S]=s.useState(new Date().toISOString().split("T")[0]),[d,f]=s.useState(1),[g,C]=s.useState(0),[m,M]=s.useState(0),[p,Z]=s.useState(0),[b,E]=s.useState(0),[T,y]=s.useState(""),[j,k]=s.useState(""),A=t=>["日","月","火","水","木","金","土"][t.getDay()];return s.useEffect(()=>{const t=new Date(i),a=new Date(o);t.setHours(0,0,0,0),a.setHours(0,0,0,0);let I=a.getTime()-t.getTime(),l=Math.floor(I/(1e3*60*60*24));c&&(l+=l>=0?1:-1);const Y=(Math.abs(l)/7).toFixed(1);let h=(a.getFullYear()-t.getFullYear())*12+(a.getMonth()-t.getMonth());a.getDate()<t.getDate()&&h--,D({days:l,weeks:Y,months:Math.abs(h)>0?`${h}ヶ月`:"1ヶ月未満"})},[i,o,c]),s.useEffect(()=>{const t=new Date(x);if(isNaN(t.getTime())){y("無効な日付"),k("");return}const a=new Date(t);a.setFullYear(a.getFullYear()+d*g),a.setMonth(a.getMonth()+d*m),a.setDate(a.getDate()+d*(b+p*7)),y(a.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"})),k(A(a))},[x,d,g,m,p,b]),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-10 pb-20",children:[e.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-2xl p-6 md:p-8 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(W,{className:"text-indigo-500"}),"日付・期間計算"]}),e.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-800 p-1 rounded-xl mb-8",children:[e.jsxs("button",{onClick:()=>u("diff"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-lg font-bold transition-all ${n==="diff"?"bg-white dark:bg-gray-700 text-indigo-600 dark:text-indigo-300 shadow-sm":"text-gray-500"}`,children:[e.jsx(H,{size:18})," 期間を計算"]}),e.jsxs("button",{onClick:()=>u("calc"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-lg font-bold transition-all ${n==="calc"?"bg-white dark:bg-gray-700 text-indigo-600 dark:text-indigo-300 shadow-sm":"text-gray-500"}`,children:[e.jsx(z,{size:18})," 日付を計算"]})]}),n==="diff"?e.jsxs("div",{className:"animate-fade-in grid grid-cols-1 md:grid-cols-2 gap-8 items-center mb-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-500 mb-2",children:"開始日"}),e.jsx("input",{type:"date",value:i,onChange:t=>N(t.target.value),className:"w-full p-4 rounded-xl border dark:bg-gray-800 dark:text-white font-bold"})]}),e.jsx("div",{className:"flex justify-center text-gray-400",children:e.jsx(O,{className:"rotate-90 md:rotate-0"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-500 mb-2",children:"終了日"}),e.jsx("input",{type:"date",value:o,onChange:t=>w(t.target.value),className:"w-full p-4 rounded-xl border dark:bg-gray-800 dark:text-white font-bold"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:c,onChange:t=>v(t.target.checked),className:"w-5 h-5 rounded text-indigo-600"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-bold text-sm",children:"初日を含める (+1日)"})]})]}),e.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-8 rounded-3xl border border-indigo-100 dark:border-indigo-800 flex flex-col items-center text-center",children:[e.jsx("p",{className:"text-sm font-bold text-indigo-500 mb-2 uppercase tracking-wider",children:"日数差"}),e.jsxs("div",{className:"text-6xl font-black text-slate-800 dark:text-white mb-2 tabular-nums",children:[r==null?void 0:r.days.toLocaleString(),e.jsx("span",{className:"text-lg font-bold text-gray-400 ml-1",children:"日"})]}),e.jsxs("div",{className:"flex gap-4 text-sm font-bold text-gray-500 dark:text-gray-400 mt-4",children:[e.jsxs("span",{className:"bg-white dark:bg-gray-800 px-3 py-1 rounded-full shadow-sm",children:["約 ",r==null?void 0:r.weeks," 週間"]}),e.jsxs("span",{className:"bg-white dark:bg-gray-800 px-3 py-1 rounded-full shadow-sm",children:["約 ",r==null?void 0:r.months]})]})]})]}):e.jsxs("div",{className:"animate-fade-in grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-500 mb-2",children:"基準日"}),e.jsx("input",{type:"date",value:x,onChange:t=>S(t.target.value),className:"w-full p-4 rounded-xl border dark:bg-gray-800 dark:text-white font-bold"})]}),e.jsxs("div",{className:"flex gap-2 p-1 bg-gray-100 dark:bg-gray-800 rounded-lg",children:[e.jsx("button",{onClick:()=>f(1),className:`flex-1 py-2 font-bold rounded-md ${d===1?"bg-white dark:bg-gray-600 text-indigo-600":"text-gray-500"}`,children:"＋ 加算 (後)"}),e.jsx("button",{onClick:()=>f(-1),className:`flex-1 py-2 font-bold rounded-md ${d===-1?"bg-white dark:bg-gray-600 text-indigo-600":"text-gray-500"}`,children:"－ 減算 (前)"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"年"}),e.jsx("input",{type:"number",min:"0",value:g,onChange:t=>C(Number(t.target.value)),className:"w-full p-3 rounded-xl border dark:bg-gray-800 dark:text-white font-bold"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"ヶ月"}),e.jsx("input",{type:"number",min:"0",value:m,onChange:t=>M(Number(t.target.value)),className:"w-full p-3 rounded-xl border dark:bg-gray-800 dark:text-white font-bold"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"日"}),e.jsx("input",{type:"number",min:"0",value:b,onChange:t=>E(Number(t.target.value)),className:"w-full p-3 rounded-xl border dark:bg-gray-800 dark:text-white font-bold"})]})]})]}),e.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-8 rounded-3xl border border-indigo-100 dark:border-indigo-800 flex flex-col items-center text-center",children:[e.jsx("p",{className:"text-sm font-bold text-indigo-500 mb-2 uppercase tracking-wider",children:"計算結果"}),e.jsx("div",{className:"text-4xl md:text-5xl font-black text-slate-800 dark:text-white mb-2",children:T}),e.jsx("div",{className:"text-2xl font-bold text-indigo-400",children:j&&`(${j})`})]})]})]}),e.jsxs("article",{className:"p-8 bg-white dark:bg-dark-lighter rounded-3xl border border-gray-100 dark:border-gray-700 prose dark:prose-invert max-w-none shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-black flex items-center gap-2 mb-6",children:[e.jsx(L,{className:"text-blue-500"}),"日付計算ツールの実用的な使い方"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 text-sm leading-relaxed text-gray-600 dark:text-gray-300",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-gray-800 dark:text-white font-bold mb-3 flex items-center gap-2",children:[e.jsx($,{size:18,className:"text-indigo-500"}),"ビジネスや契約管理に"]}),e.jsx("p",{children:"「契約から○ヶ月後」「支払い期限まであと何日」といった計算をミスなく行えます。法的な日数計算では「初日を算入するか」が重要になることが多いため、チェックボックスで簡単に調整できるよう設計しました。"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-gray-800 dark:text-white font-bold mb-3 flex items-center gap-2",children:[e.jsx(F,{size:18,className:"text-indigo-500"}),"個人のライフイベントに"]}),e.jsx("p",{children:"生まれてから今日で何日目か、次の旅行まであと何週間かなど、日常のふとした疑問を解消します。ブラウザ内のみで計算が完結するため、入力した日付がサーバーに送信されることはなく、プライバシーも万全です。"})]})]})]})]})};export{K as default};
