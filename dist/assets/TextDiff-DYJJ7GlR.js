import{c as W,r as j,j as s,Z as A,S as J}from"./index-BkJzwi8F.js";import{F as Z}from"./file-diff-D6wa3nBC.js";import{I as V}from"./info-DvCeorKb.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=W("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);function m(){}m.prototype={diff:function(e,r){var o,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=a.callback;typeof a=="function"&&(n=a,a={}),this.options=a;var d=this;function l(f){return n?(setTimeout(function(){n(void 0,f)},0),!0):f}e=this.castInput(e),r=this.castInput(r),e=this.removeEmpty(this.tokenize(e)),r=this.removeEmpty(this.tokenize(r));var c=r.length,i=e.length,x=1,u=c+i;a.maxEditLength&&(u=Math.min(u,a.maxEditLength));var v=(o=a.timeout)!==null&&o!==void 0?o:1/0,C=Date.now()+v,p=[{oldPos:-1,lastComponent:void 0}],h=this.extractCommon(p[0],r,e,0);if(p[0].oldPos+1>=i&&h+1>=c)return l([{value:this.join(r),count:r.length}]);var b=-1/0,y=1/0;function I(){for(var f=Math.max(b,-x);f<=Math.min(y,x);f+=2){var g=void 0,w=p[f-1],k=p[f+1];w&&(p[f-1]=void 0);var L=!1;if(k){var q=k.oldPos-f;L=k&&0<=q&&q<c}var M=w&&w.oldPos+1<i;if(!L&&!M){p[f]=void 0;continue}if(!M||L&&w.oldPos+1<k.oldPos?g=d.addToPath(k,!0,void 0,0):g=d.addToPath(w,void 0,!0,1),h=d.extractCommon(g,r,e,f),g.oldPos+1>=i&&h+1>=c)return l(B(d,g.lastComponent,r,e,d.useLongestToken));p[f]=g,g.oldPos+1>=i&&(y=Math.min(y,f-1)),h+1>=c&&(b=Math.max(b,f+1))}x++}if(n)(function f(){setTimeout(function(){if(x>u||Date.now()>C)return n();I()||f()},0)})();else for(;x<=u&&Date.now()<=C;){var O=I();if(O)return O}},addToPath:function(e,r,o,a){var n=e.lastComponent;return n&&n.added===r&&n.removed===o?{oldPos:e.oldPos+a,lastComponent:{count:n.count+1,added:r,removed:o,previousComponent:n.previousComponent}}:{oldPos:e.oldPos+a,lastComponent:{count:1,added:r,removed:o,previousComponent:n}}},extractCommon:function(e,r,o,a){for(var n=r.length,d=o.length,l=e.oldPos,c=l-a,i=0;c+1<n&&l+1<d&&this.equals(r[c+1],o[l+1]);)c++,l++,i++;return i&&(e.lastComponent={count:i,previousComponent:e.lastComponent}),e.oldPos=l,c},equals:function(e,r){return this.options.comparator?this.options.comparator(e,r):e===r||this.options.ignoreCase&&e.toLowerCase()===r.toLowerCase()},removeEmpty:function(e){for(var r=[],o=0;o<e.length;o++)e[o]&&r.push(e[o]);return r},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};function B(t,e,r,o,a){for(var n=[],d;e;)n.push(e),d=e.previousComponent,delete e.previousComponent,e=d;n.reverse();for(var l=0,c=n.length,i=0,x=0;l<c;l++){var u=n[l];if(u.removed){if(u.value=t.join(o.slice(x,x+u.count)),x+=u.count,l&&n[l-1].added){var C=n[l-1];n[l-1]=n[l],n[l]=C}}else{if(!u.added&&a){var v=r.slice(i,i+u.count);v=v.map(function(h,b){var y=o[x+b];return y.length>h.length?y:h}),u.value=t.join(v)}else u.value=t.join(r.slice(i,i+u.count));i+=u.count,u.added||(x+=u.count)}}var p=n[c-1];return c>1&&typeof p.value=="string"&&(p.added||p.removed)&&t.equals("",p.value)&&(n[c-2].value+=p.value,n.pop()),n}var G=new m;function Q(t,e,r){return G.diff(t,e,r)}function U(t,e){if(typeof t=="function")e.callback=t;else if(t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var F=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,R=/\S/,E=new m;E.equals=function(t,e){return this.options.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e||this.options.ignoreWhitespace&&!R.test(t)&&!R.test(e)};E.tokenize=function(t){for(var e=t.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<e.length-1;r++)!e[r+1]&&e[r+2]&&F.test(e[r])&&F.test(e[r+2])&&(e[r]+=e[r+2],e.splice(r+1,2),r--);return e};function X(t,e,r){return r=U(r,{ignoreWhitespace:!0}),E.diff(t,e,r)}var $=new m;$.tokenize=function(t){this.options.stripTrailingCr&&(t=t.replace(/\r\n/g,`
`));var e=[],r=t.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var o=0;o<r.length;o++){var a=r[o];o%2&&!this.options.newlineIsToken?e[e.length-1]+=a:(this.options.ignoreWhitespace&&(a=a.trim()),e.push(a))}return e};function Y(t,e,r){return $.diff(t,e,r)}var P=new m;P.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var _=new m;_.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};function D(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?D=function(e){return typeof e}:D=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(t)}var K=Object.prototype.toString,N=new m;N.useLongestToken=!0;N.tokenize=$.tokenize;N.castInput=function(t){var e=this.options,r=e.undefinedReplacement,o=e.stringifyReplacer,a=o===void 0?function(n,d){return typeof d>"u"?r:d}:o;return typeof t=="string"?t:JSON.stringify(T(t,null,null,a),a,"  ")};N.equals=function(t,e){return m.prototype.equals.call(N,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function T(t,e,r,o,a){e=e||[],r=r||[],o&&(t=o(a,t));var n;for(n=0;n<e.length;n+=1)if(e[n]===t)return r[n];var d;if(K.call(t)==="[object Array]"){for(e.push(t),d=new Array(t.length),r.push(d),n=0;n<t.length;n+=1)d[n]=T(t[n],e,r,o,a);return e.pop(),r.pop(),d}if(t&&t.toJSON&&(t=t.toJSON()),D(t)==="object"&&t!==null){e.push(t),d={},r.push(d);var l=[],c;for(c in t)t.hasOwnProperty(c)&&l.push(c);for(l.sort(),n=0;n<l.length;n+=1)c=l[n],d[c]=T(t[c],e,r,o,c);e.pop(),r.pop()}else d=t;return d}var z=new m;z.tokenize=function(t){return t.slice()};z.join=z.removeEmpty=function(t){return t};const re=()=>{const[t,e]=j.useState(""),[r,o]=j.useState(""),[a,n]=j.useState("words"),[d,l]=j.useState([]),c=()=>{let i;a==="chars"?i=Q(t,r):a==="words"?i=X(t,r):i=Y(t,r),l(i)};return s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 pb-20",children:[s.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 transition-colors",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[s.jsx(Z,{className:"text-cyan-600"}),"テキストDiff (差分比較)"]}),s.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-800 p-1 rounded-lg self-start",children:[s.jsx("button",{onClick:()=>n("words"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${a==="words"?"bg-white dark:bg-gray-700 shadow text-cyan-700 dark:text-cyan-400":"text-gray-500 dark:text-gray-400"}`,children:"単語"}),s.jsx("button",{onClick:()=>n("lines"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${a==="lines"?"bg-white dark:bg-gray-700 shadow text-cyan-700 dark:text-cyan-400":"text-gray-500 dark:text-gray-400"}`,children:"行"}),s.jsx("button",{onClick:()=>n("chars"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${a==="chars"?"bg-white dark:bg-gray-700 shadow text-cyan-700 dark:text-cyan-400":"text-gray-500 dark:text-gray-400"}`,children:"文字"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"変更前 (Old)"}),s.jsx("textarea",{value:t,onChange:i=>e(i.target.value),className:"w-full h-48 p-4 rounded-xl border border-gray-300 dark:border-slate-600 bg-gray-50 dark:bg-slate-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 placeholder-gray-400",placeholder:"元のテキストを入力..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"変更後 (New)"}),s.jsx("textarea",{value:r,onChange:i=>o(i.target.value),className:"w-full h-48 p-4 rounded-xl border border-gray-300 dark:border-slate-600 bg-gray-50 dark:bg-slate-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 placeholder-gray-400",placeholder:"新しいテキストを入力..."})]})]}),s.jsxs("button",{onClick:c,className:"w-full py-3 bg-cyan-600 hover:bg-cyan-700 text-white font-bold rounded-xl transition-colors shadow-lg shadow-cyan-200 dark:shadow-none flex items-center justify-center gap-2",children:[s.jsx(H,{size:20}),"差分を比較する"]}),d.length>0&&s.jsxs("div",{className:"mt-8 animate-fade-in",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:"比較結果"}),s.jsx("div",{className:"bg-gray-50 dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl p-6 font-mono text-sm leading-relaxed whitespace-pre-wrap break-words",children:d.map((i,x)=>{const u=i.added?"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-300 border-b-2 border-green-300 dark:border-green-700":i.removed?"bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-300 border-b-2 border-red-300 dark:border-red-700 decoration-wavy line-through decoration-red-400":"text-gray-600 dark:text-gray-300";return s.jsx("span",{className:`${u} px-0.5 py-0.5 rounded-sm`,children:i.value},x)})}),s.jsxs("div",{className:"flex gap-4 mt-2 text-xs font-bold",children:[s.jsxs("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[s.jsx("span",{className:"w-3 h-3 bg-green-100 dark:bg-green-900 rounded"})," 追加"]}),s.jsxs("span",{className:"flex items-center gap-1 text-red-600 dark:text-red-400",children:[s.jsx("span",{className:"w-3 h-3 bg-red-100 dark:bg-red-900 rounded"})," 削除"]})]})]})]}),s.jsxs("article",{className:"p-8 bg-white dark:bg-dark-lighter rounded-3xl border border-gray-100 dark:border-gray-700 prose dark:prose-invert max-w-none shadow-sm",children:[s.jsxs("h2",{className:"text-xl font-black flex items-center gap-2 mb-6",children:[s.jsx(V,{className:"text-blue-500"}),"テキストDiff（差分比較）の活用法"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 text-sm leading-relaxed text-gray-600 dark:text-gray-300",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-gray-800 dark:text-white font-bold mb-3 flex items-center gap-2",children:[s.jsx(A,{size:18,className:"text-cyan-600"}),"修正箇所の見落としを防ぐ"]}),s.jsx("p",{children:"当ツールは、2つのテキスト（旧バージョンと新バージョン）を比較し、どこが追加され、どこが削除されたかを視覚的に分かりやすく表示します。プログラミングのコード比較だけでなく、契約書の改定チェックや、ライティング原稿の校正など、ビジネスシーンでの「間違い探し」を自動化します。"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-gray-800 dark:text-white font-bold mb-3 flex items-center gap-2",children:[s.jsx(J,{size:18,className:"text-cyan-600"}),"機密テキストも安全"]}),s.jsx("p",{children:"比較処理はお客様のブラウザ内で完結するため、入力した機密情報が当サイトのサーバーに送信されることはありません。外部のオンラインツールを使う際に懸念される情報漏洩のリスクをゼロに抑え、セキュアな作業環境を提供します。"})]})]})]})]})};export{re as default};
