import{j as e}from"./index-D4reVrDU.js";import{r as l}from"./vendor-react-Dy8mW7IA.js";import{a}from"./vendor-utils-V9s-2EHj.js";import{D as b,bf as u,a2 as f,aW as y,bg as j,bh as p,I as N,Z as k,S}from"./vendor-ui-gkh9ij8_.js";const I=()=>{const[n,d]=l.useState("SELECT * FROM users"),[i,t]=l.useState([]),[c,g]=l.useState(null);l.useEffect(()=>{try{a("CREATE TABLE IF NOT EXISTS users (id INT, name STRING, role STRING, age INT)"),a("SELECT * FROM users").length===0&&a("INSERT INTO users VALUES (1, 'Alice', 'Admin', 28), (2, 'Bob', 'User', 35), (3, 'Charlie', 'User', 22), (4, 'Dave', 'Manager', 40)"),o("SELECT * FROM users")}catch(s){console.error(s)}},[]);const o=s=>{const x=s||n;g(null);try{const r=a(x);Array.isArray(r)?r.length>0&&Array.isArray(r[0])?t(r[r.length-1]):t(r):t([{status:"OK",result:JSON.stringify(r)}])}catch(r){g(r.message),t([])}},m=()=>{a("DROP TABLE IF EXISTS users"),a("CREATE TABLE users (id INT, name STRING, role STRING, age INT)"),a("INSERT INTO users VALUES (1, 'Alice', 'Admin', 28), (2, 'Bob', 'User', 35), (3, 'Charlie', 'User', 22), (4, 'Dave', 'Manager', 40)"),d("SELECT * FROM users"),o("SELECT * FROM users")};return e.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 pb-20",children:[e.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col h-[500px]",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4 shrink-0",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[e.jsx(b,{className:"text-blue-500"}),"オンラインSQL"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:m,className:"flex items-center gap-1 px-3 py-1.5 text-sm font-bold text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[e.jsx(u,{size:16})," リセット"]}),e.jsxs("button",{onClick:()=>d(""),className:"flex items-center gap-1 px-3 py-1.5 text-sm font-bold text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[e.jsx(f,{size:16})," クリア"]}),e.jsxs("button",{onClick:()=>o(),className:"flex items-center gap-1 px-4 py-1.5 text-sm font-bold bg-blue-600 text-white hover:bg-blue-700 rounded-lg transition-colors shadow-lg shadow-blue-100 dark:shadow-none",children:[e.jsx(y,{size:16})," 実行"]})]})]}),e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-6 min-h-0",children:[e.jsxs("div",{className:"flex flex-col h-full min-h-0 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-700 dark:text-gray-300",children:[e.jsx(j,{size:14})," SQL Editor"]}),e.jsx("textarea",{value:n,onChange:s=>d(s.target.value),className:"flex-1 w-full p-4 rounded-xl border border-gray-300 dark:border-slate-700 bg-slate-900 text-green-400 font-mono text-sm focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"SELECT * FROM users;",spellCheck:!1})]}),e.jsxs("div",{className:"flex flex-col h-full min-h-0 gap-2",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-700 dark:text-gray-300",children:[e.jsx(p,{size:14})," Result"]})}),e.jsx("div",{className:"flex-1 rounded-xl border border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-900 overflow-auto",children:c?e.jsxs("div",{className:"p-4 text-red-500 font-mono text-sm",children:["Error: ",c]}):i.length>0?e.jsxs("table",{className:"w-full text-left text-sm text-gray-600 dark:text-gray-300",children:[e.jsx("thead",{className:"bg-gray-100 dark:bg-slate-800 text-gray-900 dark:text-white font-bold sticky top-0 z-10",children:e.jsx("tr",{children:Object.keys(i[0]).map(s=>e.jsx("th",{className:"p-3 border-b border-gray-200 dark:border-slate-700",children:s},s))})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:i.map((s,x)=>e.jsx("tr",{className:"hover:bg-gray-100 dark:hover:bg-slate-800/50",children:Object.values(s).map((r,h)=>e.jsx("td",{className:"p-3 font-mono text-xs text-gray-800 dark:text-gray-300",children:String(r)},h))},x))})]}):e.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-sm",children:"結果なし"})})]})]})]}),e.jsxs("article",{className:"p-8 bg-white dark:bg-dark-lighter rounded-3xl border border-gray-100 dark:border-gray-700 prose dark:prose-invert max-w-none shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-black flex items-center gap-2 mb-6",children:[e.jsx(N,{className:"text-blue-500"}),"オンラインSQL練習環境の活用方法"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 text-sm leading-relaxed text-gray-600 dark:text-gray-300",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-gray-800 dark:text-white font-bold mb-3 flex items-center gap-2",children:[e.jsx(k,{size:18,className:"text-blue-500"}),"データベース不要で今すぐSQLを"]}),e.jsx("p",{children:"SQL（Structured Query Language）はデータを扱う上で必須の知識ですが、環境構築がハードルになることがあります。当ツールは、ブラウザ内にインメモリデータベースを構築するため、インストール一切不要でSELECT文やJOIN、集計関数などの動作をその場で試せます。プログラミング学習や構文の確認に最適です。"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-gray-800 dark:text-white font-bold mb-3 flex items-center gap-2",children:[e.jsx(S,{size:18,className:"text-blue-500"}),"安心・安全なサンドボックス"]}),e.jsx("p",{children:"すべてのクエリ実行はお使いのブラウザ内で行われ、外部のサーバーには一切接続しません。そのため、誤って重要なデータを消してしまう心配もなく、自由自在にコマンドを試すことができます。リセット機能を使えばいつでも初期状態のサンプルデータに戻すことが可能です。"})]})]})]})]})};export{I as default};
