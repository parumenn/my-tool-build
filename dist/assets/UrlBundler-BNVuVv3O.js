import{c as A,u as I,r,j as e,Z as P,a as T}from"./index-B5PoLKaa.js";import{A as k}from"./AdBanner-QPloG3T3.js";import{L as x}from"./layers-Cnnsk10Z.js";import{P as $}from"./plus-CcYgghw0.js";import{E as w}from"./external-link-DkwIm_Rq.js";import{A as D}from"./arrow-right-CLM6xNRd.js";import{C as N}from"./check-BHV6ZB_L.js";import{C as O}from"./copy-DHstDXqh.js";import{I as B}from"./info-DRPSmE8P.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=A("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),W=()=>{const[v,L]=I(),n=v.get("id"),[o,h]=r.useState(""),[m,g]=r.useState(""),[l,b]=r.useState(""),[y,p]=r.useState(!1),[C,u]=r.useState(!1),[s,d]=r.useState(null),[S,c]=r.useState(!1),[f,j]=r.useState("");r.useEffect(()=>{n?(c(!0),fetch(`./backend/url_bundler_api.php?action=get&id=${n}`).then(async a=>{if(!a.ok)throw new Error("データが見つかりません");return a.json()}).then(a=>{d(a),c(!1)}).catch(a=>{j(a.message),c(!1)})):(d(null),j(""))},[n]);const U=async()=>{const a=o.split(/\r?\n/).filter(t=>t.trim().length>0);if(a.length===0){alert("URLを入力してください");return}p(!0);try{const t=await fetch("./backend/url_bundler_api.php?action=save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({urls:a,title:m||"URLまとめ"})});if(!t.ok)throw new Error("保存に失敗しました");const E=await t.json(),_=`${window.location.origin}${window.location.pathname}#/bundle?id=${E.id}`;b(_)}catch{alert("エラーが発生しました。通信環境を確認してください。")}finally{p(!1)}},R=()=>{navigator.clipboard.writeText(l),u(!0),setTimeout(()=>u(!1),2e3)},z=()=>{if(!s)return;window.confirm(`警告：${s.urls.length}個のタブを一度に開こうとしています。
ブラウザのポップアップブロックにより一部が開かない場合があります。

続行しますか？`)&&s.urls.forEach(t=>{window.open(t,"_blank")})},i=()=>{L({}),h(""),g(""),b(""),d(null)};return n?e.jsxs("div",{className:"max-w-4xl mx-auto space-y-10 pb-20",children:[e.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-2xl p-8 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[e.jsx(x,{className:"text-cyan-500"})," URLまとめ"]}),e.jsxs("button",{onClick:i,className:"text-xs bg-gray-100 dark:bg-gray-800 px-3 py-2 rounded-lg font-bold flex items-center gap-1 hover:bg-gray-200 transition-colors",children:[e.jsx($,{size:14})," 新規作成"]})]}),S&&e.jsx("div",{className:"py-20 text-center text-gray-400 font-bold animate-pulse",children:"読み込み中..."}),f&&e.jsxs("div",{className:"py-16 text-center",children:[e.jsx("p",{className:"text-red-500 font-bold mb-4",children:f}),e.jsx("button",{onClick:i,className:"bg-cyan-600 text-white px-6 py-2 rounded-xl font-bold",children:"トップに戻る"})]}),s&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-black text-gray-800 dark:text-white mb-2",children:s.title}),e.jsxs("p",{className:"text-xs text-gray-400 font-mono",children:["作成日: ",new Date(s.created_at*1e3).toLocaleDateString()]})]}),e.jsxs("div",{className:"bg-cyan-50 dark:bg-cyan-900/20 p-6 rounded-2xl border border-cyan-100 dark:border-cyan-800 text-center",children:[e.jsxs("p",{className:"text-cyan-800 dark:text-cyan-200 font-bold mb-4",children:[s.urls.length,"件のリンクが保存されています"]}),e.jsxs("button",{onClick:z,className:"w-full sm:w-auto px-8 py-3 bg-cyan-600 text-white font-black rounded-xl shadow-lg hover:bg-cyan-700 hover:shadow-xl transition-all flex items-center justify-center gap-2 mx-auto",children:[e.jsx(w,{size:20})," すべて新しいタブで開く"]}),e.jsx("p",{className:"text-[10px] text-cyan-600/70 dark:text-cyan-400/70 mt-2",children:"※ブラウザの設定でポップアップを許可してください"})]}),e.jsx("div",{className:"space-y-2",children:s.urls.map((a,t)=>e.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"block p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700 hover:border-cyan-300 dark:hover:border-cyan-600 transition-colors group",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-white dark:bg-gray-700 p-2 rounded-lg text-gray-400 group-hover:text-cyan-500 transition-colors",children:e.jsx(M,{size:16})}),e.jsx("span",{className:"font-mono text-sm text-gray-600 dark:text-gray-300 truncate flex-1",children:a}),e.jsx(D,{size:16,className:"text-gray-300 group-hover:text-cyan-500"})]})},t))})]})]}),e.jsx(k,{})]}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-10 pb-20",children:[e.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-2xl p-8 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(x,{className:"text-cyan-500"})," URLまとめ作成"]}),l?e.jsxs("div",{className:"animate-fade-in bg-cyan-50 dark:bg-cyan-900/20 p-8 rounded-3xl border-2 border-cyan-100 dark:border-cyan-800 text-center",children:[e.jsx("div",{className:"bg-white dark:bg-cyan-800 p-4 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6 shadow-sm",children:e.jsx(N,{size:40,className:"text-cyan-500 dark:text-cyan-200"})}),e.jsx("h3",{className:"text-2xl font-black text-cyan-800 dark:text-cyan-200 mb-2",children:"まとめURLを発行しました"}),e.jsx("p",{className:"text-cyan-600 dark:text-cyan-400 text-sm mb-8 font-bold",children:"このURLを共有すると、保存したリンク一覧を表示できます"}),e.jsxs("div",{className:"flex gap-2 max-w-lg mx-auto mb-8",children:[e.jsx("input",{type:"text",readOnly:!0,value:l,className:"flex-1 p-4 rounded-xl border-2 border-cyan-200 dark:border-cyan-700 bg-white dark:bg-gray-900 text-cyan-800 dark:text-cyan-200 font-bold text-sm truncate focus:outline-none"}),e.jsx("button",{onClick:R,className:"bg-cyan-600 text-white px-6 rounded-xl font-bold hover:bg-cyan-700 transition-colors shadow-lg shadow-cyan-200 dark:shadow-none shrink-0 flex items-center gap-2",children:C?e.jsx(N,{size:20}):e.jsx(O,{size:20})})]}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsxs("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 dark:text-cyan-400 font-bold hover:underline flex items-center gap-1",children:[e.jsx(w,{size:16})," ページを確認する"]}),e.jsx("span",{className:"text-cyan-300",children:"|"}),e.jsx("button",{onClick:i,className:"text-gray-500 dark:text-gray-400 font-bold hover:text-gray-700 dark:hover:text-gray-200",children:"新しく作成する"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"タイトル (任意)"}),e.jsx("input",{type:"text",value:m,onChange:a=>g(a.target.value),placeholder:"例: 参考資料まとめ",className:"w-full p-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"URLリスト (1行に1つ)"}),e.jsx("textarea",{value:o,onChange:a=>h(a.target.value),placeholder:`https://google.com\r
https://example.com`,className:"w-full h-64 p-4 rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-white focus:border-cyan-500 transition-colors resize-none font-mono text-sm leading-relaxed"})]}),e.jsxs("button",{onClick:U,disabled:y||!o.trim(),className:"w-full py-4 bg-cyan-600 text-white font-black rounded-xl shadow-xl hover:bg-cyan-700 hover:shadow-2xl hover:-translate-y-1 transition-all disabled:opacity-50 disabled:transform-none disabled:shadow-none flex items-center justify-center gap-2",children:[y?"作成中...":"まとめURLを発行する"," ",e.jsx(x,{size:20})]})]})]}),e.jsxs("article",{className:"p-8 bg-white dark:bg-dark-lighter rounded-3xl border border-gray-100 dark:border-gray-700 prose dark:prose-invert max-w-none shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-black flex items-center gap-2 mb-6",children:[e.jsx(B,{className:"text-blue-500"}),"URLまとめツールの活用法"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 text-sm leading-relaxed text-gray-600 dark:text-gray-300",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-gray-800 dark:text-white font-bold mb-3 flex items-center gap-2",children:[e.jsx(P,{size:18,className:"text-cyan-500"}),"複数のリンクを1つに"]}),e.jsx("p",{children:"SNSやメールで複数の参考資料を送りたいとき、URLを羅列すると見づらくなってしまいます。このツールを使えば、それらを1つの短縮URLのようなページにまとめることができます。「一括で開く」機能も備えているため、受け取った側の利便性も向上します。"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-gray-800 dark:text-white font-bold mb-3 flex items-center gap-2",children:[e.jsx(T,{size:18,className:"text-cyan-500"}),"登録不要・シンプル機能"]}),e.jsx("p",{children:"ユーザー登録は不要で、誰でもすぐに利用できます。発行されたURLにアクセスすると、保存されたリンク一覧が表示されるシンプルな設計です。日常のブックマーク整理や、一時的な情報共有に最適です。"})]})]})]}),e.jsx(k,{})]})};export{W as default};
