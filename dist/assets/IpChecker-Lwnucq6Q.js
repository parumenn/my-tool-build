import{c as C,r as s,j as e,C as S}from"./index-hzlvpD8r.js";import{A as z}from"./AdBanner-Ck4D786Q.js";import{N as k}from"./network-DhPr4Mtu.js";import{R as f}from"./refresh-cw-DX6ejzXj.js";import{G as A}from"./globe-Dn_yDDjr.js";import{S as R}from"./smartphone-CceZEYJT.js";import{C as V}from"./circle-x-Cav68MKO.js";import{I as $}from"./info-YzuaR9pm.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=C("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),F=()=>{const[d,n]=s.useState(null),[y,i]=s.useState(null),[o,x]=s.useState(!0),[m,g]=s.useState(!0),[j,u]=s.useState(""),[r,h]=s.useState("80"),[a,c]=s.useState("idle"),[L,N]=s.useState(""),v=async()=>{x(!0);try{const l=await(await fetch("https://api.ipify.org?format=json")).json();n(l.ip)}catch{n("取得不可")}finally{x(!1)}},w=async()=>{g(!0);try{const l=await(await fetch("https://api6.ipify.org?format=json")).json();i(l.ip)}catch{i("非対応/未接続")}finally{g(!1)}},p=()=>{v(),w()};s.useEffect(()=>{p(),u(navigator.userAgent)},[]);const I=async()=>{if(!r)return;c("checking");const t=d&&d!=="取得不可"?`&ip=${d}`:"";try{const b=await(await fetch(`./backend/port_check.php?port=${r}${t}`)).json();b.status==="open"?c("open"):c("closed"),N(b.ip)}catch{c("error")}},P=[80,443,21,22,25,3389,8080,25565];return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-10 pb-20",children:[e.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-3xl p-6 md:p-10 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("h2",{className:"text-2xl font-black text-gray-800 dark:text-white flex items-center gap-3",children:[e.jsx(k,{className:"text-sky-500",size:32}),"自分のIPアドレス確認"]}),e.jsx("button",{onClick:p,className:"p-3 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-all",children:e.jsx(f,{size:20,className:o||m?"animate-spin":""})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-sky-50 dark:bg-sky-900/20 rounded-2xl p-8 border border-sky-100 dark:border-sky-800 flex flex-col items-center justify-center min-h-[160px]",children:[e.jsxs("p",{className:"text-sky-600 dark:text-sky-400 font-black text-xs uppercase tracking-widest mb-4 flex items-center gap-2",children:[e.jsx(A,{size:16})," IPv4アドレス"]}),e.jsx("div",{className:"text-2xl md:text-3xl font-mono font-black text-slate-800 dark:text-white break-all text-center",children:o?e.jsx("span",{className:"animate-pulse",children:"取得中..."}):d})]}),e.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 rounded-2xl p-8 border border-indigo-100 dark:border-indigo-800 flex flex-col items-center justify-center min-h-[160px]",children:[e.jsxs("p",{className:"text-indigo-600 dark:text-indigo-400 font-black text-xs uppercase tracking-widest mb-4 flex items-center gap-2",children:[e.jsx(k,{size:16})," IPv6アドレス"]}),e.jsx("div",{className:"text-lg md:text-xl font-mono font-black text-slate-800 dark:text-white break-all text-center",children:m?e.jsx("span",{className:"animate-pulse",children:"取得中..."}):y})]})]}),e.jsxs("div",{className:"p-5 rounded-2xl bg-gray-50 dark:bg-gray-800/50 border border-gray-100 dark:border-gray-700",children:[e.jsxs("h3",{className:"font-bold text-gray-500 text-xs uppercase tracking-widest mb-3 flex items-center gap-2",children:[e.jsx(R,{size:14})," ユーザーエージェント"]}),e.jsx("p",{className:"text-xs text-gray-400 font-mono break-all",children:j})]})]}),e.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-3xl p-6 md:p-10 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("h2",{className:"text-xl font-black text-gray-800 dark:text-white mb-8 flex items-center gap-3",children:[e.jsx(E,{className:"text-emerald-500"}),"ポート開放確認ツール"]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsxs("div",{className:"flex-1 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-3",children:"チェックするポート番号"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",value:r,onChange:t=>h(t.target.value),className:"flex-1 p-4 rounded-xl border-2 border-gray-100 bg-white dark:border-gray-700 dark:bg-gray-800 text-xl font-black text-gray-900 dark:text-white",placeholder:"80"}),e.jsx("button",{onClick:I,disabled:!r||a==="checking",className:"px-8 bg-emerald-600 hover:bg-emerald-700 text-white font-black rounded-xl shadow-lg transition-all disabled:opacity-30",children:"確認"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:P.map(t=>e.jsx("button",{onClick:()=>h(t.toString()),className:`px-3 py-1.5 text-xs font-bold rounded-lg border ${r===t.toString()?"bg-emerald-100 border-emerald-500 text-emerald-700":"bg-gray-50 dark:bg-gray-800 border-gray-200 text-gray-400"}`,children:t},t))})]}),e.jsxs("div",{className:"flex-1 bg-gray-50 dark:bg-gray-800/50 rounded-2xl p-6 flex flex-col items-center justify-center border-2 border-dashed border-gray-200 dark:border-gray-700 min-h-[160px]",children:[a==="idle"&&e.jsx("p",{className:"text-sm text-gray-400 font-bold",children:"番号を入力して実行してください"}),a==="checking"&&e.jsxs("div",{className:"text-center text-emerald-500 animate-pulse",children:[e.jsx(f,{className:"animate-spin mx-auto mb-2"})," ",e.jsx("p",{className:"font-bold",children:"スキャン中..."})]}),a==="open"&&e.jsxs("div",{className:"text-center text-green-600",children:[e.jsx(S,{size:48,className:"mx-auto mb-2"})," ",e.jsx("p",{className:"text-xl font-black",children:"開放されています"})]}),a==="closed"&&e.jsxs("div",{className:"text-center text-red-500",children:[e.jsx(V,{size:48,className:"mx-auto mb-2"})," ",e.jsx("p",{className:"text-xl font-black",children:"閉じています"})]})]})]})]}),e.jsxs("article",{className:"mt-12 p-8 bg-white dark:bg-dark-lighter rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm prose dark:prose-invert max-w-none",children:[e.jsxs("h2",{className:"text-xl font-black flex items-center gap-2 mb-6",children:[e.jsx($,{className:"text-blue-500"}),"IPアドレスとポート確認の重要性"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 text-sm leading-relaxed text-gray-600 dark:text-gray-300",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-800 dark:text-white font-bold mb-3",children:"IPアドレスとは？"}),e.jsx("p",{children:"IPアドレスは、インターネット上の「住所」にあたる識別番号です。現在普及しているIPv4と、次世代規格であるIPv6の2種類があります。 当ツールでは、お使いの環境がどちらの規格で通信しているかを即座に判別します。VPNの使用確認や、ネットワークトラブルの切り分けに役立ちます。"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-800 dark:text-white font-bold mb-3",children:"なぜポート確認が必要か？"}),e.jsx("p",{children:"オンラインゲームのサーバー公開や、自宅サーバーの構築、IoT機器の外部連携などを行う際、ルーターの「ポート開放」設定が必要です。 当ツールのポートチェッカーを使用することで、設定が正しく反映され、外部からアクセス可能な状態になっているかを安全にテストできます。"})]})]})]}),e.jsx(z,{})]})};export{F as default};
