import{r as s,j as e,i as C,U as R,D as z,I as E,f as F}from"./index-BMaAMvyY.js";import{T as M}from"./triangle-alert-BQm-irMg.js";import{T as W}from"./trash-2-BcMAQBEI.js";import{Z as D}from"./zap-Cx2Pd08K.js";const L=()=>{const[o,h]=s.useState(null),[d,c]=s.useState(0),[l,x]=s.useState(0),[g,j]=s.useState(!0),[m,k]=s.useState(1),[b,i]=s.useState(null),n=s.useRef(null),p=20*1024*1024,w=t=>{var u;i(null);const r=(u=t.target.files)==null?void 0:u[0];if(r){if(r.size>p){i(`ファイルサイズが大きすぎます。${(p/1024/1024).toFixed(0)}MB以下の画像を選択してください。`);return}if(!r.type.startsWith("image/")){i("画像ファイルのみアップロード可能です。");return}const f=new FileReader;f.onload=I=>{var y;const a=new Image;a.onload=()=>{h(a),c(a.width),x(a.height),k(a.width/a.height)},a.onerror=()=>{i("画像の読み込みに失敗しました。ファイルが破損している可能性があります。")},a.src=(y=I.target)==null?void 0:y.result},f.readAsDataURL(r)}},N=t=>{const r=parseInt(t.target.value)||0;c(r),g&&x(Math.round(r/m))},v=t=>{const r=parseInt(t.target.value)||0;x(r),g&&c(Math.round(r*m))},S=()=>{const t=n.current;if(t){const r=document.createElement("a");r.download="resized-image.png",r.href=t.toDataURL("image/png"),r.click()}};return s.useEffect(()=>{if(o&&n.current){const t=n.current,r=t.getContext("2d");r&&(t.width=d,t.height=l,r.imageSmoothingEnabled=!0,r.imageSmoothingQuality="high",r.drawImage(o,0,0,d,l))}},[d,l,o]),e.jsxs("div",{className:"max-w-5xl mx-auto space-y-10 pb-20",children:[e.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 transition-colors",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(C,{className:"text-purple-500"}),"画像リサイズ"]}),b&&e.jsxs("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-300 p-4 rounded-xl flex items-center gap-2 animate-fade-in",children:[e.jsx(M,{size:20}),e.jsx("span",{children:b})]}),o?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-6 border-b border-gray-200 dark:border-gray-600 pb-2",children:"サイズ設定"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-gray-200 mb-2",children:"幅 (px)"}),e.jsx("input",{type:"number",value:d,onChange:N,className:"block w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 p-3 text-lg font-bold text-gray-900 dark:text-white focus:border-purple-500 bg-white dark:bg-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-900 dark:text-gray-200 mb-2",children:"高さ (px)"}),e.jsx("input",{type:"number",value:l,onChange:v,className:"block w-full rounded-lg border-2 border-gray-300 dark:border-gray-600 p-3 text-lg font-bold text-gray-900 dark:text-white focus:border-purple-500 bg-white dark:bg-gray-700"})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-2 bg-white dark:bg-gray-700 p-3 rounded-lg border border-gray-200 dark:border-gray-600",children:[e.jsx("input",{type:"checkbox",id:"ratio",checked:g,onChange:t=>j(t.target.checked),className:"w-5 h-5 rounded text-purple-600 border-gray-300"}),e.jsx("label",{htmlFor:"ratio",className:"text-base font-bold text-gray-800 dark:text-white cursor-pointer",children:"アスペクト比を固定"})]})]}),e.jsxs("button",{onClick:S,className:"mt-8 w-full flex items-center justify-center gap-2 bg-purple-600 text-white py-4 rounded-xl hover:bg-purple-700 transition-colors font-bold text-lg shadow-lg shadow-purple-200 dark:shadow-none",children:[e.jsx(z,{size:20}),"画像を保存"]}),e.jsxs("button",{onClick:()=>h(null),className:"mt-4 w-full flex items-center justify-center gap-2 text-sm font-bold text-gray-500 hover:text-red-600 transition-colors py-2",children:[e.jsx(W,{size:16}),"別画像を選択"]})]})}),e.jsxs("div",{className:"flex flex-col items-center justify-start space-y-4 bg-gray-100 dark:bg-gray-900 p-6 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700",children:[e.jsxs("div",{className:"w-full flex justify-between text-sm font-bold text-gray-600 dark:text-gray-400 px-2",children:[e.jsx("span",{children:"プレビュー"}),e.jsxs("span",{children:[d," x ",l," px"]})]}),e.jsx("div",{className:"w-full flex-1 flex items-center justify-center bg-white/50 dark:bg-white/5 rounded-lg p-2 min-h-[300px]",children:e.jsx("canvas",{ref:n,className:"max-w-full h-auto shadow-xl bg-white pattern-grid",style:{maxHeight:"400px"}})})]})]}):e.jsxs("div",{className:"border-4 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-16 text-center hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors relative cursor-pointer bg-gray-50/50 dark:bg-gray-800/30",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[e.jsx("div",{className:"p-5 bg-purple-100 dark:bg-purple-900/50 text-purple-600 dark:text-purple-300 rounded-full shadow-sm",children:e.jsx(R,{size:40})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-extrabold text-xl text-gray-800 dark:text-white",children:"画像をアップロード"}),e.jsx("p",{className:"text-base text-gray-600 dark:text-gray-400 mt-2 font-medium",children:"クリックまたはドラッグ＆ドロップ"})]})]})]})]}),e.jsxs("article",{className:"p-8 bg-white dark:bg-dark-lighter rounded-3xl border border-gray-100 dark:border-gray-700 prose dark:prose-invert max-w-none shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-black flex items-center gap-2 mb-6",children:[e.jsx(E,{className:"text-blue-500"}),"画像リサイズツールの特徴と活用法"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 text-sm leading-relaxed text-gray-600 dark:text-gray-300",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-gray-800 dark:text-white font-bold mb-3 flex items-center gap-2",children:[e.jsx(F,{size:18,className:"text-purple-500"}),"プライバシーに配慮した設計"]}),e.jsx("p",{children:"当ツールの画像処理はすべて、お客様がお使いのデバイス内（Webブラウザ上）で完結します。画像が当サイトのサーバーに送信・保存されることは一切ありません。機密文書の図解やプライベートな写真でも安心して加工いただけます。"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-gray-800 dark:text-white font-bold mb-3 flex items-center gap-2",children:[e.jsx(D,{size:18,className:"text-purple-500"}),"ブログやSNSの最適化に"]}),e.jsx("p",{children:"高画質なスマホ写真（数MB以上）をそのままWebサイトに掲載すると、読み込み速度の低下を招きます。アスペクト比を維持したまま適切なピクセル数（例: 横幅800px〜1200px）に縮小することで、SEOに強い軽量なページ作成をサポートします。"})]})]})]})]})};export{L as default};
