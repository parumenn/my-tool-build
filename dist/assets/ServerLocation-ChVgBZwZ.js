import{c as v,r as n,j as e,a as V}from"./index-B5PoLKaa.js";import{A as K}from"./AdBanner-QPloG3T3.js";import{G as B}from"./globe-CNzE0jHQ.js";import{L as j}from"./loader-circle-mIq0qLKW.js";import{S as Q}from"./search-380gWMVB.js";import{T as G}from"./triangle-alert-CwqVgKXX.js";import{D as X}from"./database-wfcOEis9.js";import{A as Y}from"./activity-Dx1TM1xp.js";import{I as ee}from"./info-DRPSmE8P.js";import{C as te}from"./cpu-CxiJeX0L.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=v("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=v("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=v("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=v("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]),ne=()=>new Promise(x=>{if(window.L){x(window.L);return}const m=document.createElement("link");m.rel="stylesheet",m.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(m);const u=document.createElement("script");u.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",u.onload=()=>x(window.L),document.head.appendChild(u)}),U=x=>x?String.fromCodePoint(...x.toUpperCase().split("").map(m=>127397+m.charCodeAt(0))):"ðŸ³ï¸",be=()=>{const[x,m]=n.useState("lookup"),[u,W]=n.useState(""),[C,E]=n.useState(!1),[c,R]=n.useState(null),[T,L]=n.useState(null),[N,Z]=n.useState(""),[$,I]=n.useState(!1),[_,w]=n.useState([]),[A,P]=n.useState(null),b=n.useRef(null),k=n.useRef(null),z=n.useRef([]),f=n.useRef(null);n.useEffect(()=>{let t;return ne().then(r=>{k.current&&(t=r.map(k.current,{scrollWheelZoom:!0,dragging:!0,zoomControl:!1,attributionControl:!1}).setView([36,138],2),r.tileLayer("https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{maxZoom:19,noWrap:!0}).addTo(t),r.control.zoom({position:"topleft"}).addTo(t),b.current=t)}),()=>{t&&t.remove()}},[]),n.useEffect(()=>{const t=k.current;if(!t)return;const r=i=>{i.stopPropagation()};return t.addEventListener("wheel",r,{passive:!0}),()=>t.removeEventListener("wheel",r)},[]);const D=()=>{z.current.forEach(t=>t.remove()),z.current=[],f.current&&(f.current.remove(),f.current=null)},O=(t,r,i,d)=>{const l=window.L;if(!l||!b.current)return;const s=l.divIcon({className:"custom-div-icon",html:`<div style="background-color: ${d}; width: 12px; height: 12px; border-radius: 50%; border: 2px solid white; box-shadow: 0 0 10px ${d};"></div>`,iconSize:[12,12],iconAnchor:[6,6]}),a=l.marker([t,r],{icon:s}).addTo(b.current);return a.bindPopup(`<div class="p-1 font-bold text-xs">${i}</div>`),z.current.push(a),a},q=t=>/^(10\.|127\.|172\.(1[6-9]|2[0-9]|3[0-1])\.|192\.168\.)/.test(t),H=async t=>{var r,i,d,l;if(!t||t==="Request timed out"||q(t))return null;try{const a=await(await fetch(`https://ipwho.is/${t}`)).json();if(a.success)return{ip:a.ip,city:a.city,region:a.region,country:a.country_code,country_name:a.country,org:((r=a.connection)==null?void 0:r.isp)||((i=a.connection)==null?void 0:i.org)||"Unknown",latitude:a.latitude,longitude:a.longitude,timezone:(d=a.timezone)==null?void 0:d.id,asn:(l=a.connection)==null?void 0:l.asn}}catch{}return null},F=async t=>{var r;if(t.preventDefault(),!!u){E(!0),L(null),R(null),D();try{let i=u.replace(/^https?:\/\//,"").replace(/\/.*$/,"");const d=/^(\d{1,3}\.){3}\d{1,3}$/.test(i);let l=i;if(!d){const o=(r=(await(await fetch(`https://dns.google/resolve?name=${i}`)).json()).Answer)==null?void 0:r.find(p=>p.type===1);if(!o)throw new Error("ãƒ‰ãƒ¡ã‚¤ãƒ³ã®åå‰è§£æ±ºã«å¤±æ•—ã—ã¾ã—ãŸ");l=o.data}const s=await H(l);if(!s)throw new Error("ä½ç½®æƒ…å ±ã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸ");R(s),O(s.latitude,s.longitude,`ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ: ${s.ip}`,"#3b82f6"),b.current.flyTo([s.latitude,s.longitude],6)}catch(i){L(i.message)}finally{E(!1)}}},J=async t=>{if(t.preventDefault(),!!N){I(!0),P(null),w([]),D();try{let r=N.replace(/^https?:\/\//,"").replace(/\/.*$/,"");const d=await(await fetch(`./backend/traceroute.php?host=${r}`)).text();let l;try{const o=d.indexOf("{"),p=d.lastIndexOf("}");if(o===-1||p===-1)throw new Error;l=JSON.parse(d.substring(o,p+1))}catch{throw new Error("ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ã®å¿œç­”ãŒä¸æ­£ã§ã™ã€‚")}if(l.error)throw new Error(l.error);const s=(l.hops||[]).map(o=>({...o,loading:!0,geo:null}));w(s);const a=[],M=window.L;for(let o=0;o<s.length;o++){const p=s[o];if(p.ip==="Request timed out"||q(p.ip)){w(y=>y.map((h,S)=>S===o?{...h,loading:!1}:h));continue}const g=await H(p.ip);if(g){a.push([g.latitude,g.longitude]);const y=o===s.length-1,h=o===0?"#10b981":y?"#3b82f6":"#6366f1";O(g.latitude,g.longitude,`#${p.hop} ${g.city}`,h),a.length>1&&M&&(f.current&&f.current.remove(),f.current=M.polyline(a,{color:"#10b981",weight:3,opacity:.6,dashArray:"5, 10"}).addTo(b.current)),b.current.flyTo([g.latitude,g.longitude],4)}w(y=>y.map((h,S)=>S===o?{...h,geo:g,loading:!1}:h))}}catch(r){P(r.message)}finally{I(!1)}}};return e.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 pb-20",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-xl shadow-sm",children:e.jsx(B,{className:"text-indigo-500"})}),e.jsx("h2",{className:"text-2xl font-black text-gray-800 dark:text-white",children:"ã‚µãƒ¼ãƒãƒ¼ä½ç½®æƒ…å ± & çµŒè·¯è¿½è·¡"})]}),e.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-800 p-1 rounded-xl border border-gray-200 dark:border-gray-700 shadow-inner",children:[e.jsx("button",{onClick:()=>m("lookup"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${x==="lookup"?"bg-white dark:bg-gray-700 text-indigo-600 shadow-sm":"text-gray-500"}`,children:"IP/ãƒ‰ãƒ¡ã‚¤ãƒ³æ¤œç´¢"}),e.jsx("button",{onClick:()=>m("trace"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${x==="trace"?"bg-white dark:bg-gray-700 text-indigo-600 shadow-sm":"text-gray-500"}`,children:"çµŒè·¯ã‚’è¿½è·¡ (Trace)"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1 flex flex-col gap-6",children:x==="lookup"?e.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-3xl p-6 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsx("input",{type:"text",value:u,onChange:t=>W(t.target.value),placeholder:"ä¾‹: google.com",className:"w-full p-4 rounded-2xl border-2 border-gray-50 dark:border-gray-800 bg-gray-50 dark:bg-gray-800 dark:text-white font-bold focus:border-indigo-500 outline-none transition-all"}),e.jsxs("button",{type:"submit",disabled:C||!u,className:"w-full bg-indigo-600 text-white py-4 rounded-2xl font-black shadow-xl hover:bg-indigo-700 disabled:opacity-50 flex items-center justify-center gap-2 transition-all active:scale-95",children:[C?e.jsx(j,{className:"animate-spin"}):e.jsx(Q,{size:20})," è§£æžã‚’å®Ÿè¡Œ"]})]}),T&&e.jsxs("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 rounded-xl text-xs font-bold animate-fade-in flex items-center gap-2",children:[e.jsx(G,{size:14})," ",T]}),c&&e.jsxs("div",{className:"mt-8 space-y-4 animate-scale-up",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-blue-600 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute -right-4 -bottom-4 opacity-20",children:e.jsx(B,{size:100})}),e.jsx("div",{className:"text-sm font-bold opacity-80 mb-1 relative z-10",children:"Target IP"}),e.jsx("div",{className:"text-xl font-mono font-black break-all mb-6 relative z-10",children:c.ip}),e.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[e.jsx("div",{className:"text-4xl shadow-sm",children:U(c.country)}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-black text-lg truncate",children:c.country_name}),e.jsxs("p",{className:"text-xs opacity-90 font-bold",children:[c.city,", ",c.region]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:[{label:"ISP / äº‹æ¥­è€…",val:c.org,icon:re},{label:"ASN",val:c.asn,icon:X},{label:"åº§æ¨™",val:`${c.latitude}, ${c.longitude}`,icon:ae}].map((t,r)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"p-2 bg-white dark:bg-gray-700 rounded-lg text-indigo-500 shadow-sm",children:e.jsx(t.icon,{size:14})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-tighter",children:t.label}),e.jsx("p",{className:"text-xs font-bold text-gray-700 dark:text-gray-200 truncate",children:t.val})]})]},r))})]})]}):e.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-3xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 flex flex-col h-full max-h-[600px] animate-scale-up",children:[e.jsx("form",{onSubmit:J,className:"space-y-4 mb-6 shrink-0",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:N,onChange:t=>Z(t.target.value),placeholder:"ä¾‹: example.com",className:"flex-1 p-3 rounded-xl border-2 border-gray-50 dark:border-gray-800 bg-gray-50 dark:bg-gray-800 dark:text-white font-bold outline-none focus:border-indigo-500 transition-all"}),e.jsx("button",{type:"submit",disabled:$,className:"bg-indigo-600 text-white px-4 rounded-xl font-bold disabled:opacity-50 transition-all active:scale-95",children:$?e.jsx(j,{className:"animate-spin"}):e.jsx(oe,{size:20})})]})}),A&&e.jsxs("div",{className:"p-4 mb-4 bg-red-50 dark:bg-red-900/20 text-red-600 rounded-xl text-xs font-bold animate-fade-in flex items-center gap-2",children:[e.jsx(G,{size:14})," ",A]}),e.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar space-y-3",children:_.map((t,r)=>e.jsxs("div",{className:"relative pl-6 animate-fade-in",children:[r<_.length-1&&e.jsx("div",{className:"absolute left-[11px] top-4 w-0.5 h-full bg-gray-100 dark:bg-gray-800"}),e.jsx("div",{className:`absolute left-0 top-1 w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-black shadow-sm ${t.ip==="Request timed out"?"bg-gray-100 text-gray-400":"bg-indigo-600 text-white"}`,children:t.hop}),e.jsxs("div",{className:`p-3 rounded-xl border transition-all ${t.geo?"bg-indigo-50/30 dark:bg-indigo-900/10 border-indigo-100 dark:border-indigo-800":"bg-white dark:bg-gray-800/50 border-gray-100 dark:border-gray-700"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("p",{className:"font-mono text-[10px] font-bold text-gray-800 dark:text-white break-all",children:t.ip}),e.jsx("span",{className:"text-[9px] font-black text-gray-400",children:t.rtt})]}),t.loading?e.jsxs("div",{className:"flex items-center gap-2 text-[9px] text-gray-400 font-bold",children:[e.jsx(j,{size:8,className:"animate-spin"})," èª¿æŸ»ä¸­..."]}):t.geo?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-base",children:U(t.geo.country)}),e.jsx("div",{className:"min-w-0",children:e.jsxs("p",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 truncate",children:[t.geo.city,", ",t.geo.country_name]})})]}):t.ip!=="Request timed out"&&e.jsx("p",{className:"text-[9px] text-gray-400",children:"ä½ç½®æƒ…å ±ãªã— (å†…éƒ¨ãƒ›ãƒƒãƒ—)"})]})]},r))})]})}),e.jsxs("div",{className:"lg:col-span-2 relative group",children:[e.jsx("div",{ref:k,className:"relative w-full aspect-[1.6/1] bg-[#0a1128] rounded-[2.5rem] overflow-hidden shadow-2xl border-4 border-slate-900 ring-1 ring-white/10 z-0",children:e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900 z-10 pointer-events-none opacity-0 group-data-[loading=true]:opacity-100 transition-opacity",children:e.jsx(j,{className:"animate-spin text-indigo-500",size:40})})}),e.jsxs("div",{className:"absolute top-6 right-6 flex flex-col gap-2 z-10 bg-slate-900/80 backdrop-blur-md p-4 rounded-2xl border border-white/10 shadow-xl pointer-events-none",children:[e.jsxs("div",{className:"flex items-center gap-3 text-[10px] font-black text-white uppercase tracking-wider",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500 border border-white shadow-[0_0_5px_#10b981]"})," å‡ºç™ºåœ°ç‚¹"]}),e.jsxs("div",{className:"flex items-center gap-3 text-[10px] font-black text-white uppercase tracking-wider",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-500 border border-white shadow-[0_0_5px_#6366f1]"})," çµŒç”±åœ°ç‚¹"]}),e.jsxs("div",{className:"flex items-center gap-3 text-[10px] font-black text-white uppercase tracking-wider",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 border border-white shadow-[0_0_5px_#3b82f6]"})," åˆ°é”åœ°ç‚¹"]})]}),e.jsxs("div",{className:"absolute bottom-6 left-6 flex items-center gap-3 bg-slate-900/80 backdrop-blur-xl px-5 py-3 rounded-full border border-white/10 text-[10px] font-black text-white uppercase tracking-[0.2em] shadow-2xl z-10",children:[e.jsx(Y,{size:14,className:"text-emerald-400 animate-pulse"})," Accurate Route Map 5.2"]}),e.jsxs("div",{className:"absolute bottom-6 right-6 hidden md:flex items-center gap-2 bg-white/5 backdrop-blur-sm px-4 py-2 rounded-xl text-[9px] font-bold text-slate-400 border border-white/5 z-10",children:[e.jsx(se,{size:12})," ãƒ‰ãƒ©ãƒƒã‚°ã§ç§»å‹• / ãƒ›ã‚¤ãƒ¼ãƒ«ã§ã‚ºãƒ¼ãƒ "]})]})]}),e.jsxs("article",{className:"p-8 bg-white dark:bg-dark-lighter rounded-3xl border border-gray-100 dark:border-gray-700 prose dark:prose-invert max-w-none shadow-sm transition-all",children:[e.jsxs("h2",{className:"text-xl font-black flex items-center gap-2 mb-6",children:[e.jsx(ee,{className:"text-blue-500"}),"ç²¾å¯†ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çµŒè·¯ã®å¯è¦–åŒ–"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 text-sm leading-relaxed text-gray-600 dark:text-gray-300",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-gray-800 dark:text-white font-bold mb-3 flex items-center gap-2",children:[e.jsx(te,{size:18,className:"text-indigo-500"}),"ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åœ°å›³ã‚¨ãƒ³ã‚¸ãƒ³"]}),e.jsx("p",{children:"å½“ãƒ„ãƒ¼ãƒ«ã¯OpenStreetMapãŠã‚ˆã³CARTOã®æœ€æ–°åœ°ç†ãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆã—ãŸåœ°å›³ã‚¨ãƒ³ã‚¸ãƒ³ã‚’æŽ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚æ­£ç¢ºãªæµ·å²¸ç·šã¨éƒ½å¸‚ä½ç½®ã«åŸºã¥ã„ãŸãƒžãƒƒãƒ”ãƒ³ã‚°ã«ã‚ˆã‚Šã€tracerouteã‚³ãƒžãƒ³ãƒ‰ã§å–å¾—ã—ãŸãƒ‘ã‚±ãƒƒãƒˆãŒä¸–ç•Œã‚’æ—…ã™ã‚‹æ§˜å­ã‚’ãƒªã‚¢ãƒ«ã«å†ç¾ã—ã¾ã™ã€‚"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-gray-800 dark:text-white font-bold mb-3 flex items-center gap-2",children:[e.jsx(V,{size:18,className:"text-indigo-500"}),"æœ€é©åŒ–ã•ã‚ŒãŸæ“ä½œæ€§"]}),e.jsx("p",{children:"åœ°å›³æ“ä½œä¸­ã«ç”»é¢å…¨ä½“ãŒã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ã—ã¾ã†ã‚¹ãƒˆãƒ¬ã‚¹ã‚’è§£æ¶ˆã™ã‚‹ãŸã‚ã€é«˜åº¦ãªã‚¤ãƒ™ãƒ³ãƒˆåˆ¶å¾¡ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚ãƒžã‚¦ã‚¹ãƒ›ã‚¤ãƒ¼ãƒ«ã§ã®ã‚ºãƒ¼ãƒ ã‚„ãƒ‰ãƒ©ãƒƒã‚°ã§ã®ãƒ‘ãƒ³æ“ä½œãŒåœ°å›³å†…ã«é™å®šã•ã‚Œã‚‹ãŸã‚ã€è©³ç´°ãªçµŒè·¯ç¢ºèªã‚’ã‚¹ãƒ ãƒ¼ã‚ºã«è¡Œã†ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚"})]})]})]}),e.jsxs("div",{className:"text-[10px] text-gray-400 text-center mt-8 pb-4",children:["Map data Â© ",e.jsx("a",{href:"https://www.openstreetmap.org/copyright",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"OpenStreetMap"})," contributors Â© ",e.jsx("a",{href:"https://carto.com/attributions",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"CARTO"})]}),e.jsx("style",{children:`
        .leaflet-container {
          background: #0a1128 !important;
        }
        .leaflet-popup-content-wrapper {
          background: rgba(15, 23, 42, 0.9);
          color: white;
          border-radius: 12px;
          backdrop-filter: blur(8px);
          border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .leaflet-popup-tip {
          background: rgba(15, 23, 42, 0.9);
        }
        .leaflet-control-zoom-in, .leaflet-control-zoom-out {
          background-color: rgba(15, 23, 42, 0.8) !important;
          color: white !important;
          border: 1px solid rgba(255, 255, 255, 0.1) !important;
          backdrop-filter: blur(4px);
        }
      `}),e.jsx(K,{})]})};export{be as default};
