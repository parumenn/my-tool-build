import{c as Z,R as p,r as C,j as t,C as Ee}from"./index-BkJzwi8F.js";import{L as De}from"./lock-BrekTocA.js";import{L as Le}from"./loader-circle-DUocihGe.js";import{A as Ie}from"./activity-dI7oEBgH.js";import{M as oe,S as Te}from"./shield-DYQaPQX1.js";import{T as $e}from"./trending-up-UPLWENvr.js";import{u as Me,a as Re,b as Fe,i as I,c as Ve,d as Be,e as J,w as ce,g as ye,f as be,h as W,L as q,m as ae,C as ie,A as We,j as X,k as de,l as Ge,n as ue,o as ve,p as He,q as Ke,r as Xe,G as Ue,s as he,t as fe,D as Je,v as Ye,x as qe,R as Ze,T as Qe}from"./generateCategoricalChart-D2GrkH2F.js";import{g as je,C as ke,X as we,Y as Ne}from"./YAxis-gJe2Qje3.js";import{R as ne}from"./refresh-cw-9D4kFuCQ.js";import{C as et}from"./circle-x-CoQoFiQI.js";import{S as tt}from"./settings-CM9oU9yK.js";import{D as at}from"./download-2oAmBjSx.js";import{U as rt}from"./upload-CvLEkDAM.js";import{K as it}from"./key-round-BeQIzJqg.js";import{D as nt}from"./database-Bd4tmxPE.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=Z("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=Z("Infinity",[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=Z("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var ut=["x1","y1","x2","y2","key"],ht=["offset"];function K(e){"@babel/helpers - typeof";return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},K(e)}function xe(e,a){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function E(e){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?xe(Object(i),!0).forEach(function(r){ft(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xe(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function ft(e,a,i){return a=xt(a),a in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}function xt(e){var a=pt(e,"string");return K(a)=="symbol"?a:a+""}function pt(e,a){if(K(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,a);if(K(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function G(){return G=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},G.apply(this,arguments)}function pe(e,a){if(e==null)return{};var i=mt(e,a),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],!(a.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mt(e,a){if(e==null)return{};var i={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(a.indexOf(r)>=0)continue;i[r]=e[r]}return i}var gt=function(a){var i=a.fill;if(!i||i==="none")return null;var r=a.fillOpacity,n=a.x,s=a.y,c=a.width,u=a.height,h=a.ry;return p.createElement("rect",{x:n,y:s,ry:h,width:c,height:u,stroke:"none",fill:i,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Ae(e,a){var i;if(p.isValidElement(e))i=p.cloneElement(e,a);else if(J(e))i=e(a);else{var r=a.x1,n=a.y1,s=a.x2,c=a.y2,u=a.key,h=pe(a,ut),d=W(h,!1);d.offset;var l=pe(d,ht);i=p.createElement("line",G({},l,{x1:r,y1:n,x2:s,y2:c,fill:"none",key:u}))}return i}function yt(e){var a=e.x,i=e.width,r=e.horizontal,n=r===void 0?!0:r,s=e.horizontalPoints;if(!n||!s||!s.length)return null;var c=s.map(function(u,h){var d=E(E({},e),{},{x1:a,y1:u,x2:a+i,y2:u,key:"line-".concat(h),index:h});return Ae(n,d)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function bt(e){var a=e.y,i=e.height,r=e.vertical,n=r===void 0?!0:r,s=e.verticalPoints;if(!n||!s||!s.length)return null;var c=s.map(function(u,h){var d=E(E({},e),{},{x1:u,y1:a,x2:u,y2:a+i,key:"line-".concat(h),index:h});return Ae(n,d)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function vt(e){var a=e.horizontalFill,i=e.fillOpacity,r=e.x,n=e.y,s=e.width,c=e.height,u=e.horizontalPoints,h=e.horizontal,d=h===void 0?!0:h;if(!d||!a||!a.length)return null;var l=u.map(function(f){return Math.round(f+n-n)}).sort(function(f,y){return f-y});n!==l[0]&&l.unshift(0);var x=l.map(function(f,y){var k=!l[y+1],N=k?n+c-f:l[y+1]-f;if(N<=0)return null;var j=y%a.length;return p.createElement("rect",{key:"react-".concat(y),y:f,x:r,height:N,width:s,stroke:"none",fill:a[j],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},x)}function jt(e){var a=e.vertical,i=a===void 0?!0:a,r=e.verticalFill,n=e.fillOpacity,s=e.x,c=e.y,u=e.width,h=e.height,d=e.verticalPoints;if(!i||!r||!r.length)return null;var l=d.map(function(f){return Math.round(f+s-s)}).sort(function(f,y){return f-y});s!==l[0]&&l.unshift(0);var x=l.map(function(f,y){var k=!l[y+1],N=k?s+u-f:l[y+1]-f;if(N<=0)return null;var j=y%r.length;return p.createElement("rect",{key:"react-".concat(y),x:f,y:c,width:N,height:h,stroke:"none",fill:r[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},x)}var kt=function(a,i){var r=a.xAxis,n=a.width,s=a.height,c=a.offset;return ye(je(E(E(E({},ke.defaultProps),r),{},{ticks:be(r,!0),viewBox:{x:0,y:0,width:n,height:s}})),c.left,c.left+c.width,i)},wt=function(a,i){var r=a.yAxis,n=a.width,s=a.height,c=a.offset;return ye(je(E(E(E({},ke.defaultProps),r),{},{ticks:be(r,!0),viewBox:{x:0,y:0,width:n,height:s}})),c.top,c.top+c.height,i)},U={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Oe(e){var a,i,r,n,s,c,u=Me(),h=Re(),d=Fe(),l=E(E({},e),{},{stroke:(a=e.stroke)!==null&&a!==void 0?a:U.stroke,fill:(i=e.fill)!==null&&i!==void 0?i:U.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:U.horizontal,horizontalFill:(n=e.horizontalFill)!==null&&n!==void 0?n:U.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:U.vertical,verticalFill:(c=e.verticalFill)!==null&&c!==void 0?c:U.verticalFill,x:I(e.x)?e.x:d.left,y:I(e.y)?e.y:d.top,width:I(e.width)?e.width:d.width,height:I(e.height)?e.height:d.height}),x=l.x,f=l.y,y=l.width,k=l.height,N=l.syncWithTicks,j=l.horizontalValues,S=l.verticalValues,v=Ve(),_=Be();if(!I(y)||y<=0||!I(k)||k<=0||!I(x)||x!==+x||!I(f)||f!==+f)return null;var m=l.verticalCoordinatesGenerator||kt,b=l.horizontalCoordinatesGenerator||wt,w=l.horizontalPoints,O=l.verticalPoints;if((!w||!w.length)&&J(b)){var z=j&&j.length,P=b({yAxis:_?E(E({},_),{},{ticks:z?j:_.ticks}):void 0,width:u,height:h,offset:d},z?!0:N);ce(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(K(P),"]")),Array.isArray(P)&&(w=P)}if((!O||!O.length)&&J(m)){var T=S&&S.length,D=m({xAxis:v?E(E({},v),{},{ticks:T?S:v.ticks}):void 0,width:u,height:h,offset:d},T?!0:N);ce(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(K(D),"]")),Array.isArray(D)&&(O=D)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(gt,{fill:l.fill,fillOpacity:l.fillOpacity,x:l.x,y:l.y,width:l.width,height:l.height,ry:l.ry}),p.createElement(yt,G({},l,{offset:d,horizontalPoints:w,xAxis:v,yAxis:_})),p.createElement(bt,G({},l,{offset:d,verticalPoints:O,xAxis:v,yAxis:_})),p.createElement(vt,G({},l,{horizontalPoints:w})),p.createElement(jt,G({},l,{verticalPoints:O})))}Oe.displayName="CartesianGrid";var Nt=["layout","type","stroke","connectNulls","isRange","ref"],At=["key"],Pe;function Y(e){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Y(e)}function Se(e,a){if(e==null)return{};var i=Ot(e,a),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],!(a.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ot(e,a){if(e==null)return{};var i={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(a.indexOf(r)>=0)continue;i[r]=e[r]}return i}function H(){return H=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},H.apply(this,arguments)}function me(e,a){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function R(e){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?me(Object(i),!0).forEach(function(r){M(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):me(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function Pt(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function ge(e,a){for(var i=0;i<a.length;i++){var r=a[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ce(r.key),r)}}function St(e,a,i){return a&&ge(e.prototype,a),i&&ge(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _t(e,a,i){return a=re(a),Ct(e,_e()?Reflect.construct(a,i||[],re(e).constructor):a.apply(e,i))}function Ct(e,a){if(a&&(Y(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zt(e)}function zt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_e=function(){return!!e})()}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},re(e)}function Et(e,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),a&&se(e,a)}function se(e,a){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},se(e,a)}function M(e,a,i){return a=Ce(a),a in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}function Ce(e){var a=Dt(e,"string");return Y(a)=="symbol"?a:a+""}function Dt(e,a){if(Y(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,a);if(Y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var F=function(e){function a(){var i;Pt(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return i=_t(this,a,[].concat(n)),M(i,"state",{isAnimationFinished:!0}),M(i,"id",Xe("recharts-area-")),M(i,"handleAnimationEnd",function(){var c=i.props.onAnimationEnd;i.setState({isAnimationFinished:!0}),J(c)&&c()}),M(i,"handleAnimationStart",function(){var c=i.props.onAnimationStart;i.setState({isAnimationFinished:!1}),J(c)&&c()}),i}return Et(a,e),St(a,[{key:"renderDots",value:function(r,n,s){var c=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(c&&!u)return null;var h=this.props,d=h.dot,l=h.points,x=h.dataKey,f=W(this.props,!1),y=W(d,!0),k=l.map(function(j,S){var v=R(R(R({key:"dot-".concat(S),r:3},f),y),{},{index:S,cx:j.x,cy:j.y,dataKey:x,value:j.value,payload:j.payload,points:l});return a.renderDotItem(d,v)}),N={clipPath:r?"url(#clipPath-".concat(n?"":"dots-").concat(s,")"):null};return p.createElement(q,H({className:"recharts-area-dots"},N),k)}},{key:"renderHorizontalRect",value:function(r){var n=this.props,s=n.baseLine,c=n.points,u=n.strokeWidth,h=c[0].x,d=c[c.length-1].x,l=r*Math.abs(h-d),x=ae(c.map(function(f){return f.y||0}));return I(s)&&typeof s=="number"?x=Math.max(s,x):s&&Array.isArray(s)&&s.length&&(x=Math.max(ae(s.map(function(f){return f.y||0})),x)),I(x)?p.createElement("rect",{x:h<d?h:h-l,y:0,width:l,height:Math.floor(x+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var n=this.props,s=n.baseLine,c=n.points,u=n.strokeWidth,h=c[0].y,d=c[c.length-1].y,l=r*Math.abs(h-d),x=ae(c.map(function(f){return f.x||0}));return I(s)&&typeof s=="number"?x=Math.max(s,x):s&&Array.isArray(s)&&s.length&&(x=Math.max(ae(s.map(function(f){return f.x||0})),x)),I(x)?p.createElement("rect",{x:0,y:h<d?h:h-l,width:x+(u?parseInt("".concat(u),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(r){var n=this.props.layout;return n==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,n,s,c){var u=this.props,h=u.layout,d=u.type,l=u.stroke,x=u.connectNulls,f=u.isRange;u.ref;var y=Se(u,Nt);return p.createElement(q,{clipPath:s?"url(#clipPath-".concat(c,")"):null},p.createElement(ie,H({},W(y,!0),{points:r,connectNulls:x,type:d,baseLine:n,layout:h,stroke:"none",className:"recharts-area-area"})),l!=="none"&&p.createElement(ie,H({},W(this.props,!1),{className:"recharts-area-curve",layout:h,type:d,connectNulls:x,fill:"none",points:r})),l!=="none"&&f&&p.createElement(ie,H({},W(this.props,!1),{className:"recharts-area-curve",layout:h,type:d,connectNulls:x,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(r,n){var s=this,c=this.props,u=c.points,h=c.baseLine,d=c.isAnimationActive,l=c.animationBegin,x=c.animationDuration,f=c.animationEasing,y=c.animationId,k=this.state,N=k.prevPoints,j=k.prevBaseLine;return p.createElement(We,{begin:l,duration:x,isActive:d,easing:f,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var v=S.t;if(N){var _=N.length/u.length,m=u.map(function(z,P){var T=Math.floor(P*_);if(N[T]){var D=N[T],$=X(D.x,z.x),V=X(D.y,z.y);return R(R({},z),{},{x:$(v),y:V(v)})}return z}),b;if(I(h)&&typeof h=="number"){var w=X(j,h);b=w(v)}else if(de(h)||Ge(h)){var O=X(j,0);b=O(v)}else b=h.map(function(z,P){var T=Math.floor(P*_);if(j[T]){var D=j[T],$=X(D.x,z.x),V=X(D.y,z.y);return R(R({},z),{},{x:$(v),y:V(v)})}return z});return s.renderAreaStatically(m,b,r,n)}return p.createElement(q,null,p.createElement("defs",null,p.createElement("clipPath",{id:"animationClipPath-".concat(n)},s.renderClipRect(v))),p.createElement(q,{clipPath:"url(#animationClipPath-".concat(n,")")},s.renderAreaStatically(u,h,r,n)))})}},{key:"renderArea",value:function(r,n){var s=this.props,c=s.points,u=s.baseLine,h=s.isAnimationActive,d=this.state,l=d.prevPoints,x=d.prevBaseLine,f=d.totalLength;return h&&c&&c.length&&(!l&&f>0||!ue(l,c)||!ue(x,u))?this.renderAreaWithAnimation(r,n):this.renderAreaStatically(c,u,r,n)}},{key:"render",value:function(){var r,n=this.props,s=n.hide,c=n.dot,u=n.points,h=n.className,d=n.top,l=n.left,x=n.xAxis,f=n.yAxis,y=n.width,k=n.height,N=n.isAnimationActive,j=n.id;if(s||!u||!u.length)return null;var S=this.state.isAnimationFinished,v=u.length===1,_=ve("recharts-area",h),m=x&&x.allowDataOverflow,b=f&&f.allowDataOverflow,w=m||b,O=de(j)?this.id:j,z=(r=W(c,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=z.r,T=P===void 0?3:P,D=z.strokeWidth,$=D===void 0?2:D,V=He(c)?c:{},Q=V.clipDot,ee=Q===void 0?!0:Q,B=T*2+$;return p.createElement(q,{className:_},m||b?p.createElement("defs",null,p.createElement("clipPath",{id:"clipPath-".concat(O)},p.createElement("rect",{x:m?l:l-y/2,y:b?d:d-k/2,width:m?y:y*2,height:b?k:k*2})),!ee&&p.createElement("clipPath",{id:"clipPath-dots-".concat(O)},p.createElement("rect",{x:l-B/2,y:d-B/2,width:y+B,height:k+B}))):null,v?null:this.renderArea(w,O),(c||v)&&this.renderDots(w,ee,O),(!N||S)&&Ke.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:n.curPoints,prevBaseLine:n.curBaseLine}:r.points!==n.curPoints||r.baseLine!==n.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(C.PureComponent);Pe=F;M(F,"displayName","Area");M(F,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ue.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});M(F,"getBaseValue",function(e,a,i,r){var n=e.layout,s=e.baseValue,c=a.props.baseValue,u=c??s;if(I(u)&&typeof u=="number")return u;var h=n==="horizontal"?r:i,d=h.scale.domain();if(h.type==="number"){var l=Math.max(d[0],d[1]),x=Math.min(d[0],d[1]);return u==="dataMin"?x:u==="dataMax"||l<0?l:Math.max(Math.min(d[0],d[1]),0)}return u==="dataMin"?d[0]:u==="dataMax"?d[1]:d[0]});M(F,"getComposedData",function(e){var a=e.props,i=e.item,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,u=e.bandSize,h=e.dataKey,d=e.stackedData,l=e.dataStartIndex,x=e.displayedData,f=e.offset,y=a.layout,k=d&&d.length,N=Pe.getBaseValue(a,i,r,n),j=y==="horizontal",S=!1,v=x.map(function(m,b){var w;k?w=d[l+b]:(w=he(m,h),Array.isArray(w)?S=!0:w=[N,w]);var O=w[1]==null||k&&he(m,h)==null;return j?{x:fe({axis:r,ticks:s,bandSize:u,entry:m,index:b}),y:O?null:n.scale(w[1]),value:w,payload:m}:{x:O?null:r.scale(w[1]),y:fe({axis:n,ticks:c,bandSize:u,entry:m,index:b}),value:w,payload:m}}),_;return k||S?_=v.map(function(m){var b=Array.isArray(m.value)?m.value[0]:null;return j?{x:m.x,y:b!=null&&m.y!=null?n.scale(b):null}:{x:b!=null?r.scale(b):null,y:m.y}}):_=j?n.scale(N):r.scale(N),R({points:v,baseLine:_,layout:y,isRange:S},f)});M(F,"renderDotItem",function(e,a){var i;if(p.isValidElement(e))i=p.cloneElement(e,a);else if(J(e))i=e(a);else{var r=ve("recharts-area-dot",typeof e!="boolean"?e.className:""),n=a.key,s=Se(a,At);i=p.createElement(Je,H({},s,{key:n,className:r}))}return i});var Lt=Ye({chartName:"AreaChart",GraphicalChild:F,axisComponents:[{axisType:"xAxis",AxisComp:we},{axisType:"yAxis",AxisComp:Ne}],formatAxisMap:qe});const Yt=()=>{const[e,a]=C.useState(sessionStorage.getItem("admin_token")),[i,r]=C.useState("dashboard"),[n,s]=C.useState(""),[c,u]=C.useState(""),[h,d]=C.useState(!1),[l,x]=C.useState({total_pv:0,today_pv:0,recent_logs:[]}),[f,y]=C.useState([]),[k,N]=C.useState({}),[j,S]=C.useState(!1),[v,_]=C.useState(!1),[m,b]=C.useState({smtp_host:"",smtp_port:587,smtp_user:"",smtp_pass:"",alert_email:"",dos_patterns:[{count:30,seconds:30,block_minutes:15}],dos_notify_enabled:!0}),[w,O]=C.useState(""),[z,P]=C.useState(!1),T=C.useRef(null),D=C.useMemo(()=>{const o={},g=new Date;for(let A=23;A>=0;A--){const L=new Date(g.getTime()-A*36e5);o[`${L.getHours()}:00`]=0}return l.recent_logs.forEach(A=>{const L=new Date(A.timestamp*1e3);if(isNaN(L.getTime()))return;const te=`${L.getHours()}:00`;o[te]!==void 0&&o[te]++}),Object.entries(o).map(([A,L])=>({name:A,pv:L}))},[l.recent_logs]),$=async(o=!1)=>{if(e){o&&S(!0),o||_(!0);try{const g=await fetch("./backend/admin_api.php?action=fetch_dashboard",{headers:{"X-Admin-Token":e}});if(g.ok){const A=await g.json();x(A.stats||{total_pv:0,today_pv:0,recent_logs:[]}),y(A.messages||[]),N(A.blocked_ips||{}),o&&A.config&&(b(L=>({...L,...A.config,smtp_pass:""})),P(!1))}else g.status===403&&B()}catch(g){console.error("Fetch error",g)}finally{S(!1),_(!1)}}},V=async o=>{if(o&&o.preventDefault(),!!e){O("保存中...");try{(await fetch("./backend/admin_api.php?action=update_settings",{method:"POST",headers:{"Content-Type":"application/json","X-Admin-Token":e},body:JSON.stringify(m)})).ok?(O("設定を保存しました。"),P(!1),setTimeout(()=>O(""),3e3)):O("保存に失敗しました。")}catch{O("エラーが発生しました。")}}},Q=async o=>{if(confirm(`${o} の遮断を解除しますか？`))try{(await fetch("./backend/admin_api.php?action=unblock_ip",{method:"POST",headers:{"Content-Type":"application/json","X-Admin-Token":e||""},body:JSON.stringify({ip:o})})).ok&&$(!1)}catch{alert("解除に失敗しました。")}},ee=async o=>{o.preventDefault(),d(!0);try{const g=await fetch("./backend/admin_api.php?action=login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:n})}),A=await g.json();g.ok?(a(A.token),sessionStorage.setItem("admin_token",A.token)):u(A.error)}catch{u("通信エラー")}finally{d(!1)}},B=()=>{a(null),sessionStorage.removeItem("admin_token")};return C.useEffect(()=>{if(e){$(!0);const o=setInterval(()=>$(!1),5e3);return()=>clearInterval(o)}},[e]),e?t.jsxs("div",{className:"min-h-screen bg-[#f8f9fc] dark:bg-dark text-slate-800 dark:text-gray-100 flex flex-col fixed inset-0 z-[150] overflow-hidden",children:[t.jsxs("header",{className:"bg-slate-900 text-white border-b border-white/10 h-16 flex items-center justify-between px-6 shrink-0 shadow-xl",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"bg-red-600 p-1.5 rounded-lg",children:t.jsx(ct,{size:20})}),t.jsxs("h1",{className:"text-lg font-black tracking-tight flex items-center gap-2",children:["管理コンソール ",t.jsx("span",{className:"text-[10px] bg-white/20 px-2 py-0.5 rounded-full font-mono font-normal",children:"バージョン 2.5.2"})]})]}),t.jsx("div",{className:"flex bg-white/10 backdrop-blur-md p-1 rounded-xl",children:[{id:"dashboard",label:"統計データ"},{id:"logs",label:"アクセスログ"},{id:"messages",label:"受信箱"},{id:"security",label:"IP制限管理"},{id:"settings",label:"メール設定"}].map(o=>t.jsx("button",{onClick:()=>r(o.id),className:`px-4 py-1.5 rounded-lg text-xs font-black transition-all whitespace-nowrap ${i===o.id?"bg-white text-slate-900 shadow-lg":"text-gray-400 hover:text-white"}`,children:o.label},o.id))}),t.jsx("button",{onClick:B,className:"p-2 text-gray-400 hover:text-red-400 transition-colors",children:t.jsx(ot,{size:20})})]}),t.jsxs("main",{className:"flex-1 overflow-y-auto p-6 md:p-10 space-y-8 no-scrollbar bg-slate-50 dark:bg-dark",children:[i==="dashboard"&&t.jsxs("div",{className:"space-y-6 animate-fade-in max-w-7xl mx-auto w-full",children:[t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[{label:"本日PV (リアルタイム)",val:l.today_pv,color:"text-blue-600",icon:Ie},{label:"累計アクセス",val:l.total_pv,color:"text-indigo-600",icon:st},{label:"受信メッセージ",val:f.length,color:"text-pink-600",icon:oe},{label:"遮断中のIP",val:Object.keys(k).length,color:"text-red-600",icon:Te}].map((o,g)=>t.jsxs("div",{className:"bg-white dark:bg-dark-lighter p-6 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800 flex flex-col justify-between hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsx("p",{className:"text-[10px] font-black text-gray-400 tracking-widest uppercase",children:o.label}),t.jsx(o.icon,{size:16,className:"text-gray-300"})]}),t.jsx("p",{className:`text-3xl font-black ${o.color} font-mono tabular-nums`,children:o.val.toLocaleString()})]},g))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-dark-lighter p-8 rounded-[2.5rem] border border-gray-100 dark:border-gray-800 shadow-sm",children:[t.jsxs("div",{className:"flex justify-between items-center mb-8",children:[t.jsxs("h3",{className:"font-black text-lg flex items-center gap-2 uppercase tracking-tight",children:[t.jsx($e,{size:18,className:"text-blue-500"})," 24時間のアクセス推移"]}),t.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-gray-400",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${v?"bg-green-500 animate-ping":"bg-blue-500"}`}),"LIVE TRAFFIC"]})]}),t.jsx("div",{className:"h-72",children:t.jsx(Ze,{width:"100%",height:"100%",children:t.jsxs(Lt,{data:D,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),t.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),t.jsx(Oe,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),t.jsx(we,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:"bold"}}),t.jsx(Ne,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:"bold"}}),t.jsx(Qe,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 25px rgba(0,0,0,0.1)",fontWeight:"bold"}}),t.jsx(F,{type:"monotone",dataKey:"pv",stroke:"#3b82f6",strokeWidth:4,fillOpacity:1,fill:"url(#colorPv)",animationDuration:1e3})]})})})]}),t.jsxs("div",{className:"bg-white dark:bg-dark-lighter p-8 rounded-[2.5rem] border border-gray-100 dark:border-gray-800 shadow-sm overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"font-black text-lg uppercase tracking-tight",children:"最近のアクティビティ"}),t.jsx(ne,{size:14,className:`text-gray-300 ${v?"animate-spin":""}`})]}),t.jsx("div",{className:"space-y-4 flex-1 overflow-y-auto no-scrollbar",children:l.recent_logs.length===0?t.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-400 font-bold",children:"ログがありません"}):l.recent_logs.slice(0,10).map((o,g)=>t.jsxs("div",{className:"flex justify-between items-center text-[11px] p-2 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-xl transition-colors border-b dark:border-gray-800 last:border-0",children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"font-black text-blue-600 truncate",children:o.path}),t.jsx("p",{className:"text-gray-400 font-mono text-[9px]",children:o.ip})]}),t.jsx("p",{className:"text-gray-500 font-bold ml-4 tabular-nums",children:o.date.split(" ")[1]})]},g))})]})]})]}),i==="security"&&t.jsx("div",{className:"animate-fade-in max-w-7xl mx-auto w-full space-y-8",children:t.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-[2.5rem] shadow-sm border border-gray-100 dark:border-gray-800 overflow-hidden",children:[t.jsxs("div",{className:"p-8 border-b dark:border-gray-800 flex justify-between items-center bg-slate-50 dark:bg-slate-800/30",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"font-black text-xl flex items-center gap-3",children:[t.jsx(et,{className:"text-red-500"})," 遮断中のIPアドレス一覧"]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1 font-bold",children:"過剰アクセス（DoS保護）や手動操作により制限されているクライアント"})]}),t.jsx("button",{onClick:()=>$(!1),className:"p-3 bg-white dark:bg-gray-700 text-gray-500 rounded-2xl shadow-sm hover:text-blue-500 transition-all active:scale-95",children:t.jsx(ne,{size:20,className:v?"animate-spin":""})})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm text-left",children:[t.jsx("thead",{className:"bg-slate-900 text-white text-[10px] uppercase font-black tracking-widest",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-8 py-5",children:"クライアントIP"}),t.jsx("th",{className:"px-8 py-5",children:"理由 / トリガー"}),t.jsx("th",{className:"px-8 py-5",children:"残り時間"}),t.jsx("th",{className:"px-8 py-5 text-right",children:"操作"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:Object.keys(k).length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:4,className:"px-8 py-20 text-center text-gray-400 font-black text-sm uppercase tracking-widest",children:"制限中のIPはありません"})}):Object.entries(k).map(([o,g])=>{const A=g.expiry>=2147483640,L=Math.ceil((g.expiry-Date.now()/1e3)/60);return t.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[t.jsx("td",{className:"px-8 py-6 font-mono font-black text-red-600",children:o}),t.jsxs("td",{className:"px-8 py-6",children:[t.jsx("span",{className:"text-[10px] bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-md font-black",children:g.reason||"手動遮断"}),t.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:g.time})]}),t.jsx("td",{className:"px-8 py-6",children:A?t.jsxs("span",{className:"bg-red-600 text-white px-3 py-1 rounded-full text-[10px] font-black flex items-center gap-1 w-fit",children:[t.jsx(lt,{size:12})," 永久制限"]}):t.jsxs("span",{className:`font-black text-xs ${L<=5?"text-red-500 animate-pulse":"text-orange-500"}`,children:[L," 分"]})}),t.jsx("td",{className:"px-8 py-6 text-right",children:t.jsx("button",{onClick:()=>Q(o),className:"px-6 py-2 bg-blue-600 text-white text-[10px] font-black rounded-xl hover:bg-blue-700 transition-all shadow-md active:scale-95",children:"遮断を解除"})})]},o)})})]})})]})}),i==="logs"&&t.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-[2.5rem] shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden animate-fade-in max-w-7xl mx-auto w-full",children:[t.jsxs("div",{className:"p-8 border-b dark:border-gray-800 flex justify-between items-center bg-slate-50 dark:bg-slate-800/30",children:[t.jsx("h3",{className:"font-black text-lg uppercase tracking-tight",children:"アクセスログ (直近 500件)"}),t.jsx("button",{onClick:()=>$(!1),className:"p-2 text-gray-400 hover:text-blue-500 transition-all",children:t.jsx(ne,{size:20,className:v?"animate-spin":""})})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-sm text-left",children:[t.jsx("thead",{className:"bg-slate-900 text-white text-[10px] uppercase font-black tracking-widest",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-8 py-5",children:"日時"}),t.jsx("th",{className:"px-8 py-5",children:"パス"}),t.jsx("th",{className:"px-8 py-5",children:"クライアントIP"}),t.jsx("th",{className:"px-8 py-5",children:"負荷"}),t.jsx("th",{className:"px-8 py-5 text-right",children:"ステータス"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:l.recent_logs.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-8 py-20 text-center text-gray-400 font-black text-sm uppercase tracking-widest",children:"記録されたログはありません"})}):l.recent_logs.map((o,g)=>t.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[t.jsx("td",{className:"px-8 py-4 font-mono text-[11px] whitespace-nowrap text-gray-500",children:o.date}),t.jsx("td",{className:"px-8 py-4 font-black text-blue-600 dark:text-blue-400 truncate max-w-[300px]",children:o.path}),t.jsx("td",{className:"px-8 py-4 font-mono text-[11px] text-gray-400",children:o.ip}),t.jsx("td",{className:"px-8 py-4",children:t.jsx("span",{className:`font-mono text-[11px] font-black ${o.duration&&o.duration>1e3?"text-red-500":"text-emerald-500"}`,children:o.duration?`${o.duration}ms`:"--"})}),t.jsx("td",{className:"px-8 py-4 text-right",children:t.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black ${o.status&&o.status>=400?"bg-red-100 text-red-600":"bg-green-100 text-green-600"}`,children:o.status||200})})]},g))})]})})]}),i==="messages"&&t.jsx("div",{className:"space-y-4 animate-fade-in max-w-5xl mx-auto w-full",children:f.length===0?t.jsx("div",{className:"text-center py-24 bg-white dark:bg-dark-lighter rounded-[2.5rem] border-2 border-dashed dark:border-gray-800 text-gray-400 font-black uppercase tracking-widest",children:"メッセージはありません"}):f.map(o=>t.jsxs("div",{className:"bg-white dark:bg-dark-lighter p-8 rounded-[2rem] shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition-shadow group",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mb-6 gap-2",children:[t.jsxs("span",{className:"font-black text-blue-600 flex items-center gap-3",children:[t.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 p-2 rounded-full text-gray-400",children:t.jsx(dt,{size:20})}),o.name," ",t.jsxs("span",{className:"text-[10px] font-normal text-gray-400",children:["(",o.contact||"連絡先なし",")"]})]}),t.jsxs("span",{className:"text-[10px] text-gray-400 font-mono bg-slate-50 dark:bg-slate-800 px-3 py-1.5 rounded-full border dark:border-gray-700",children:[o.timestamp," (IP: ",o.ip,")"]})]}),t.jsx("p",{className:"bg-slate-50 dark:bg-slate-900/50 p-6 rounded-2xl whitespace-pre-wrap leading-relaxed text-sm text-gray-700 dark:text-gray-300 font-medium border dark:border-gray-800",children:o.message})]},o.id))}),i==="settings"&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-fade-in max-w-7xl mx-auto w-full",children:[t.jsxs("form",{onSubmit:V,className:"space-y-6",children:[t.jsxs("div",{className:"bg-white dark:bg-dark-lighter p-10 rounded-[2.5rem] border border-gray-100 dark:border-gray-800 shadow-sm space-y-6",children:[t.jsxs("h3",{className:"font-black text-xl mb-4 flex items-center gap-3 uppercase tracking-tight",children:[t.jsx(oe,{className:"text-pink-500"})," SMTP 設定 (メール通知)"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"ホスト (HOST)"}),t.jsx("input",{type:"text",value:m.smtp_host,onChange:o=>{b({...m,smtp_host:o.target.value}),P(!0)},className:"w-full p-4 border dark:bg-gray-900 rounded-2xl font-bold transition-all focus:border-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"ポート (PORT)"}),t.jsx("input",{type:"number",value:m.smtp_port,onChange:o=>{b({...m,smtp_port:Number(o.target.value)}),P(!0)},className:"w-full p-4 border dark:bg-gray-900 rounded-2xl font-bold transition-all focus:border-blue-500"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"ユーザー名 (USERNAME)"}),t.jsx("input",{type:"text",value:m.smtp_user,onChange:o=>{b({...m,smtp_user:o.target.value}),P(!0)},className:"w-full p-4 border dark:bg-gray-900 rounded-2xl font-bold transition-all focus:border-blue-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"パスワード (変更時のみ入力)"}),t.jsx("input",{type:"password",value:m.smtp_pass,onChange:o=>{b({...m,smtp_pass:o.target.value}),P(!0)},className:"w-full p-4 border dark:bg-gray-900 rounded-2xl font-bold transition-all focus:border-blue-500",placeholder:"••••••••"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"アラート送信先メール"}),t.jsx("input",{type:"email",value:m.alert_email,onChange:o=>{b({...m,alert_email:o.target.value}),P(!0)},className:"w-full p-4 border dark:bg-gray-900 rounded-2xl font-bold transition-all focus:border-blue-500"})]})]}),t.jsxs("button",{type:"submit",className:"w-full py-5 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-black rounded-[1.5rem] shadow-xl hover:opacity-90 transition-all flex items-center justify-center gap-2 active:scale-95 uppercase tracking-widest",children:[w?t.jsx(Ee,{size:20}):t.jsx(tt,{size:20})," ",w||"設定を保存する"]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-indigo-600 p-10 rounded-[2.5rem] text-white shadow-2xl space-y-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-black text-xl mb-1 flex items-center gap-2 uppercase",children:"システムバックアップ"}),t.jsx("p",{className:"text-xs opacity-70 font-bold",children:"メッセージとアクセスログの外部保存・復元"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:()=>{const o={messages:f,logs:l.recent_logs},g=document.createElement("a");g.href=URL.createObjectURL(new Blob([JSON.stringify(o,null,2)],{type:"application/json"})),g.download=`OMNI_BACKUP_${new Date().toISOString().split("T")[0]}.json`,g.click()},className:"py-4 bg-white/10 hover:bg-white/20 rounded-2xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-2 transition-all border border-white/20",children:[t.jsx(at,{size:16})," JSON出力"]}),t.jsxs("button",{onClick:()=>{var o;return(o=T.current)==null?void 0:o.click()},className:"py-4 bg-white text-indigo-600 rounded-2xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-2 shadow-lg hover:opacity-90 transition-all",children:[t.jsx(rt,{size:16})," JSON読み込み"]}),t.jsx("input",{type:"file",accept:".json",ref:T,onChange:async o=>{var L;const g=(L=o.target.files)==null?void 0:L[0];if(!g||!confirm("データを復元しますか？既存のデータは上書きされます。"))return;const A=new FileReader;A.onload=async te=>{var le;try{(await fetch("./backend/admin_api.php?action=import_data",{method:"POST",headers:{"Content-Type":"application/json","X-Admin-Token":e||""},body:(le=te.target)==null?void 0:le.result})).ok&&(alert("復元が完了しました。"),$(!0))}catch{alert("エラーが発生しました。")}},A.readAsText(g)},className:"hidden"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-dark-lighter p-10 rounded-[2.5rem] border border-gray-100 dark:border-gray-800 shadow-sm text-center space-y-6",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-50 dark:bg-blue-900/30 rounded-3xl flex items-center justify-center text-blue-600 mx-auto transform rotate-3",children:t.jsx(it,{size:32})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-black text-lg uppercase tracking-tight",children:"セキュリティ認証情報"}),t.jsx("p",{className:"text-[10px] text-gray-400 font-bold px-4 mt-2",children:"管理者パスワードの更新が必要です。定期的な変更を強く推奨します。"})]}),t.jsx("button",{className:"w-full py-4 border-2 border-slate-900 dark:border-white/20 text-slate-900 dark:text-white font-black rounded-2xl hover:bg-slate-50 dark:hover:bg-slate-800 transition-all uppercase tracking-widest text-[10px]",children:"パスワード変更ウィザード"})]})]})]})]}),t.jsxs("footer",{className:"bg-white dark:bg-slate-900 border-t dark:border-gray-800 h-10 px-6 flex items-center justify-between shrink-0",children:[t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),t.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"サーバー接続済み"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(nt,{size:10,className:"text-gray-400"}),t.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"データベース: JSON/データディレクトリ"})]})]}),t.jsxs("div",{className:"text-[9px] font-black text-gray-300 uppercase tracking-widest",children:["スーパー管理者としてログイン中 • ",new Date().toLocaleTimeString()]})]})]}):t.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-900 flex items-center justify-center p-4",children:t.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-10 text-center animate-scale-up",children:[t.jsx("div",{className:"inline-flex p-4 bg-red-50 text-red-600 rounded-full mb-6",children:t.jsx(De,{size:32})}),t.jsx("h2",{className:"text-2xl font-black mb-2 dark:text-white",children:"管理者ログイン"}),t.jsx("p",{className:"text-gray-400 text-[10px] mb-6 uppercase tracking-widest font-bold",children:"高セキュリティ・管理コンソール"}),t.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[t.jsx("input",{type:"password",value:n,onChange:o=>s(o.target.value),placeholder:"パスワードを入力",className:"w-full p-4 rounded-2xl border-2 dark:bg-gray-900 dark:text-white outline-none focus:border-red-500 transition-all",autoFocus:!0}),c&&t.jsx("p",{className:"text-red-500 text-sm font-bold animate-pulse",children:c}),t.jsx("button",{type:"submit",disabled:h,className:"w-full py-4 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-black rounded-2xl flex items-center justify-center gap-2 hover:opacity-90 active:scale-95 transition-all",children:h?t.jsx(Le,{className:"animate-spin"}):"認証する"})]})]})})};export{Yt as default};
