import{c as N,r as o,j as e}from"./index-CEDSszBS.js";import{R as f}from"./refresh-cw-DTpVI_8G.js";import{U as w}from"./upload-C4f_NtKp.js";import{D as v}from"./download-CL8nuT-Z.js";import{I as C}from"./info-BmSxYMCg.js";import{Z as I}from"./zap-DPibiqJ7.js";import{S as P}from"./shield-check-7_lHulea.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=N("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]),L=()=>{const[s,p]=o.useState(null),[x,y]=o.useState(""),[c,j]=o.useState("image/png"),[g,h]=o.useState(!1),m=o.useRef(null),k=a=>{var t;const i=(t=a.target.files)==null?void 0:t[0];if(i){y(i.name.split(".")[0]);const l=new FileReader;l.onload=d=>{var r;const n=new Image;n.onload=()=>p(n),n.src=(r=d.target)==null?void 0:r.result},l.readAsDataURL(i)}},u=()=>{!s||!m.current||(h(!0),setTimeout(()=>{const a=m.current,i=a.getContext("2d");if(i){a.width=s.width,a.height=s.height,i.drawImage(s,0,0);let t,l;if(c==="image/x-icon"){const r=document.createElement("canvas");r.width=128,r.height=128;const b=r.getContext("2d");b?(b.drawImage(s,0,0,128,128),t=r.toDataURL("image/png")):t=a.toDataURL("image/png"),l=`${x}.ico`}else{t=a.toDataURL(c,.9);const n=c.split("/")[1];l=`${x}.${n}`}const d=document.createElement("a");d.download=l,d.href=t,d.click(),h(!1)}},500))};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-10 pb-20",children:[e.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(f,{className:"text-pink-500"}),"画像形式変換"]}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"画像をPNG, JPEG, WEBP, ICO形式に変換します。※処理はブラウザ内で高速に行われます。"}),s?e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"flex-1 space-y-6",children:e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[e.jsx(S,{size:24,className:"text-gray-400"}),e.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-200 truncate",children:x})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"変換先の形式"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["image/png","image/jpeg","image/webp","image/x-icon"].map(a=>e.jsx("button",{onClick:()=>j(a),className:`p-3 rounded-lg border text-sm font-bold transition-all ${c===a?"bg-pink-50 dark:bg-pink-900/30 border-pink-500 text-pink-600":"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-400"}`,children:a==="image/x-icon"?"ICO (Icon)":a.split("/")[1].toUpperCase()},a))})]}),e.jsxs("button",{onClick:u,disabled:g,className:"mt-8 w-full py-3 bg-pink-600 text-white rounded-lg hover:bg-pink-700 font-bold shadow-lg flex items-center justify-center gap-2 transition-all disabled:opacity-50",children:[g?e.jsx(f,{className:"animate-spin"}):e.jsx(v,{size:20}),g?"処理中...":"変換してダウンロード"]}),e.jsx("button",{onClick:()=>p(null),className:"mt-4 w-full text-sm text-gray-400 hover:text-red-500",children:"キャンセル"})]})}),e.jsx("div",{className:"flex-1 bg-gray-100 dark:bg-gray-900 rounded-xl flex items-center justify-center p-4 border border-gray-200 dark:border-gray-800",children:e.jsx("img",{src:s.src,alt:"Preview",className:"max-w-full max-h-[400px] object-contain shadow-lg rounded-lg"})}),e.jsx("canvas",{ref:m,className:"hidden"})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-12 text-center hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors relative cursor-pointer",children:[e.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/webp,image/gif",onChange:k,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[e.jsx("div",{className:"p-4 bg-pink-50 dark:bg-pink-900/30 text-pink-500 rounded-full",children:e.jsx(w,{size:32})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-700 dark:text-gray-200",children:"画像をアップロード"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"PNG, JPG, WEBP, GIF"})]})]})]})]}),e.jsxs("article",{className:"p-8 bg-white dark:bg-dark-lighter rounded-3xl border border-gray-100 dark:border-gray-700 prose dark:prose-invert max-w-none shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-black flex items-center gap-2 mb-6",children:[e.jsx(C,{className:"text-blue-500"}),"画像形式変換ツールの便利な使い方"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 text-sm leading-relaxed text-gray-600 dark:text-gray-300",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-gray-800 dark:text-white font-bold mb-3 flex items-center gap-2",children:[e.jsx(I,{size:18,className:"text-pink-500"}),"Web最適化にWEBP変換"]}),e.jsx("p",{children:"PNGやJPEG画像を次世代フォーマット「WEBP」に変換することで、画質を維持したままファイルサイズを大幅に削減できます。これによりWebサイトの表示速度が向上し、SEO効果やデータ通信量の節約に繋がります。また、ICO形式への変換は、サイトのアイコン（ファビコン）作成に最適です。"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-gray-800 dark:text-white font-bold mb-3 flex items-center gap-2",children:[e.jsx(P,{size:18,className:"text-pink-500"}),"サーバーを介さない安全な変換"]}),e.jsx("p",{children:"一般的なオンライン変換サービスとは異なり、当ツールはブラウザのCanvas機能を使用して変換を行います。画像が当サイトのサーバーにアップロードされることは決してありません。プライベートな写真や機密性の高いデザインデータも、安心して処理いただけます。"})]})]})]})]})};export{L as default};
