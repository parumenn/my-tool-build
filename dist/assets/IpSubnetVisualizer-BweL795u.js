import{c as R,r as n,j as e,R as v,C as P}from"./index-Dn0MUYmM.js";import{N as $}from"./network-B2DtIOd8.js";import{S as w}from"./search-DuzgSDcj.js";import{C as A}from"./calculator-C2rByRil.js";import{B}from"./binary-uic9DQSL.js";import{A as D}from"./arrow-right-Bu5joAfS.js";import{C}from"./circle-x-0tp470iS.js";import{C as E}from"./cpu-oLXk0Qie.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=R("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]),k=r=>{const m=r.split(".");if(m.length!==4)return null;let x=0;for(const j of m){const a=parseInt(j,10);if(isNaN(a)||a<0||a>255)return null;x=(x<<8)+a}return x>>>0},i=r=>[r>>>24&255,r>>>16&255,r>>>8&255,r&255].join("."),S=r=>r.toString(2).padStart(32,"0"),J=()=>{const[r,m]=n.useState("visual"),[x,j]=n.useState("192.168.1.1"),[a,I]=n.useState(24),[y,z]=n.useState("192.168.1.50"),[f,M]=n.useState("192.168.1.0/24"),[g,h]=n.useState("idle"),[p,H]=n.useState(100),d=n.useMemo(()=>{const s=k(x)||0,t=4294967295<<32-a>>>0,c=~t>>>0,b=(s&t)>>>0,o=(b|c)>>>0,u=S(s),N=S(t);return{mask:i(t),wildcard:i(c),network:i(b),broadcast:i(o),firstUsable:i(b+1),lastUsable:i(o-1),totalHosts:Math.pow(2,32-a),usableHosts:a>=31?0:Math.pow(2,32-a)-2,binIp:u,binMask:N}},[x,a]);n.useEffect(()=>{if(!y||!f){h("idle");return}try{const s=k(y),[t,c]=f.split("/"),b=k(t),o=parseInt(c,10);if(s===null||b===null||isNaN(o)||o<0||o>32){h("error");return}const u=4294967295<<32-o>>>0,N=(s&u)>>>0,L=(b&u)>>>0;h(N===L?"ok":"ng")}catch{h("error")}},[y,f]);const l=n.useMemo(()=>{if(p<=0)return null;const s=Math.ceil(Math.log2(p+2)),t=32-s,c=Math.pow(2,s)-2;return t<0?{error:"数が多すぎます (IPv4の上限を超過)"}:{cidr:t,maxHosts:c,mask:i(4294967295<<s>>>0),overhead:c-p}},[p]);return e.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[e.jsx($,{className:"text-cyan-500"}),"IPサブネット計算機"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-xl",children:[e.jsxs("button",{onClick:()=>m("visual"),className:`flex flex-col sm:flex-row items-center justify-center gap-1 sm:gap-2 px-2 py-2 rounded-lg text-[10px] sm:text-sm font-bold transition-all ${r==="visual"?"bg-white dark:bg-gray-700 text-cyan-600 dark:text-cyan-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700/50"}`,children:[e.jsx(T,{size:16,className:"mb-0.5 sm:mb-0"}),e.jsx("span",{children:"ビジュアル"})]}),e.jsxs("button",{onClick:()=>m("check"),className:`flex flex-col sm:flex-row items-center justify-center gap-1 sm:gap-2 px-2 py-2 rounded-lg text-[10px] sm:text-sm font-bold transition-all ${r==="check"?"bg-white dark:bg-gray-700 text-cyan-600 dark:text-cyan-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700/50"}`,children:[e.jsx(w,{size:16,className:"mb-0.5 sm:mb-0"}),e.jsx("span",{children:"包含判定"})]}),e.jsxs("button",{onClick:()=>m("calc"),className:`flex flex-col sm:flex-row items-center justify-center gap-1 sm:gap-2 px-2 py-2 rounded-lg text-[10px] sm:text-sm font-bold transition-all ${r==="calc"?"bg-white dark:bg-gray-700 text-cyan-600 dark:text-cyan-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700/50"}`,children:[e.jsx(A,{size:16,className:"mb-0.5 sm:mb-0"}),e.jsx("span",{children:"ホスト計算"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 p-4 md:p-6 min-h-[500px]",children:[r==="visual"&&e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"IPアドレス"}),e.jsx("input",{type:"text",value:x,onChange:s=>j(s.target.value),className:"w-full p-3 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white font-mono text-lg"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"CIDR (マスク長)"}),e.jsxs("span",{className:"bg-cyan-100 dark:bg-cyan-900/30 text-cyan-700 dark:text-cyan-300 px-3 py-1 rounded-lg font-mono font-bold",children:["/",a]})]}),e.jsxs("div",{className:"relative w-full h-10",children:[e.jsx("input",{type:"range",min:"0",max:"32",value:a,onChange:s=>I(Number(s.target.value)),className:"w-full h-3 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 block relative z-10"}),e.jsxs("div",{className:"absolute top-5 w-full text-xs text-gray-400 font-mono select-none",children:[e.jsx("span",{className:"absolute left-0 -translate-x-0",children:"/0"}),e.jsx("span",{className:"absolute left-[25%] -translate-x-1/2",children:"/8"}),e.jsx("span",{className:"absolute left-[50%] -translate-x-1/2",children:"/16"}),e.jsx("span",{className:"absolute left-[75%] -translate-x-1/2",children:"/24"}),e.jsx("span",{className:"absolute right-0 translate-x-0",children:"/32"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-bold uppercase mb-1",children:"サブネットマスク"}),e.jsx("p",{className:"font-mono font-bold text-gray-800 dark:text-white text-lg break-all",children:d.mask})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-bold uppercase mb-1",children:"ワイルドカードマスク"}),e.jsx("p",{className:"font-mono font-bold text-gray-800 dark:text-white text-lg break-all",children:d.wildcard})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 sm:col-span-2",children:[e.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-2",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-bold uppercase mb-1",children:"使用可能ホスト数"}),e.jsxs("span",{className:"text-xs bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300",children:["全体: ",d.totalHosts.toLocaleString()]})]}),e.jsxs("p",{className:"font-mono font-bold text-cyan-600 dark:text-cyan-400 text-2xl break-all",children:[d.usableHosts.toLocaleString()," ",e.jsx("span",{className:"text-sm text-gray-500",children:"台"})]})]})]})]}),e.jsxs("div",{className:"bg-slate-900 rounded-2xl p-4 md:p-6 shadow-xl border border-slate-700",children:[e.jsxs("h3",{className:"text-white font-bold mb-6 flex items-center gap-2 text-sm border-b border-slate-700 pb-2",children:[e.jsx(B,{size:16,className:"text-cyan-400"}),"バイナリ・アイ (2進数可視化)"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-gray-500 text-[10px] uppercase font-bold mb-1 md:hidden",children:"IP Address"}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center",children:[e.jsx("div",{className:"w-24 text-gray-500 text-xs font-bold text-right mr-4 hidden md:block",children:"IP ADDRESS"}),e.jsx("div",{className:"flex-1 flex justify-between font-mono text-[0.65rem] sm:text-sm md:text-base tracking-widest sm:tracking-wider",children:d.binIp.split("").map((s,t)=>e.jsxs(v.Fragment,{children:[t>0&&t%8===0&&e.jsx("span",{className:"text-slate-700 mx-[1px] sm:mx-1",children:"."}),e.jsx("span",{className:`${t<a?"text-green-400 font-bold":"text-blue-400"}`,children:s})]},t))})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-gray-500 text-[10px] uppercase font-bold mb-1 md:hidden",children:"Subnet Mask"}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center",children:[e.jsx("div",{className:"w-24 text-gray-500 text-xs font-bold text-right mr-4 hidden md:block",children:"SUBNET MASK"}),e.jsx("div",{className:"flex-1 flex justify-between font-mono text-[0.65rem] sm:text-sm md:text-base tracking-widest sm:tracking-wider",children:d.binMask.split("").map((s,t)=>e.jsxs(v.Fragment,{children:[t>0&&t%8===0&&e.jsx("span",{className:"text-slate-700 mx-[1px] sm:mx-1",children:"."}),e.jsx("span",{className:`${t<a?"text-green-400 opacity-50":"text-blue-400 opacity-50"}`,children:s})]},t))})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-4 border-t border-slate-800 text-[10px] sm:text-xs font-bold justify-end",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-slate-800/50 px-2 py-1 rounded",children:[e.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsxs("span",{className:"text-green-400",children:["ネットワーク部 (",a," bits)"]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-slate-800/50 px-2 py-1 rounded",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full"}),e.jsxs("span",{className:"text-blue-400",children:["ホスト部 (",32-a," bits)"]})]})]})]}),e.jsx("div",{className:"overflow-hidden border border-gray-200 dark:border-gray-700 rounded-xl",children:e.jsx("table",{className:"w-full text-sm text-left text-gray-600 dark:text-gray-300 table-fixed",children:e.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[e.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-800",children:[e.jsx("th",{className:"p-3 font-bold w-1/3 text-xs md:text-sm",children:"ネットワークアドレス"}),e.jsx("td",{className:"p-3 font-mono break-all",children:d.network})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 font-bold w-1/3 text-xs md:text-sm",children:"最初のホスト"}),e.jsx("td",{className:"p-3 font-mono break-all",children:d.firstUsable})]}),e.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-800",children:[e.jsx("th",{className:"p-3 font-bold w-1/3 text-xs md:text-sm",children:"最後のホスト"}),e.jsx("td",{className:"p-3 font-mono break-all",children:d.lastUsable})]}),e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 font-bold w-1/3 text-xs md:text-sm",children:"ブロードキャスト"}),e.jsx("td",{className:"p-3 font-mono break-all",children:d.broadcast})]})]})})})]}),r==="check"&&e.jsx("div",{className:"animate-fade-in space-y-8 flex flex-col items-center justify-center h-full min-h-[400px]",children:e.jsxs("div",{className:"w-full max-w-2xl space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-500 mb-2",children:"判定したいIPアドレス"}),e.jsx("input",{type:"text",value:y,onChange:s=>z(s.target.value),placeholder:"例: 192.168.1.50",className:"w-full p-4 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-lg md:text-xl font-mono text-center"})]}),e.jsx("div",{className:"text-gray-400 rotate-90 md:rotate-0",children:e.jsx(D,{size:32})}),e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-500 mb-2",children:"ネットワーク帯域 (CIDR)"}),e.jsx("input",{type:"text",value:f,onChange:s=>M(s.target.value),placeholder:"例: 192.168.1.0/24",className:"w-full p-4 rounded-xl border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-lg md:text-xl font-mono text-center"})]})]}),e.jsxs("div",{className:`rounded-3xl p-8 text-center transition-all transform duration-300 ${g==="ok"?"bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 scale-105 shadow-xl":g==="ng"?"bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300 scale-105 shadow-xl":"bg-gray-100 dark:bg-gray-800 text-gray-400"}`,children:[g==="idle"&&e.jsxs("div",{children:[e.jsx(w,{size:48,className:"mx-auto mb-2 opacity-30"}),e.jsx("p",{className:"font-bold",children:"入力してください"})]}),g==="error"&&e.jsxs("div",{children:[e.jsx(C,{size:48,className:"mx-auto mb-2"}),e.jsx("p",{className:"font-bold text-xl",children:"入力エラー"}),e.jsx("p",{className:"text-sm mt-1",children:"IPアドレスの形式を確認してください"})]}),g==="ok"&&e.jsxs("div",{className:"animate-bounce-short",children:[e.jsx(P,{size:64,className:"mx-auto mb-4"}),e.jsx("p",{className:"font-black text-4xl",children:"OK"}),e.jsx("p",{className:"font-bold mt-2",children:"範囲内に含まれています"})]}),g==="ng"&&e.jsxs("div",{className:"animate-shake",children:[e.jsx(C,{size:64,className:"mx-auto mb-4"}),e.jsx("p",{className:"font-black text-4xl",children:"NG"}),e.jsx("p",{className:"font-bold mt-2",children:"範囲外です"})]})]})]})}),r==="calc"&&e.jsxs("div",{className:"animate-fade-in space-y-8 max-w-2xl mx-auto py-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("label",{className:"block text-lg font-bold text-gray-700 dark:text-gray-300 mb-4",children:"必要なホスト（デバイス）数は？"}),e.jsxs("div",{className:"relative max-w-xs mx-auto",children:[e.jsx("input",{type:"number",min:"1",value:p,onChange:s=>H(Number(s.target.value)),className:"w-full p-4 pl-8 rounded-2xl border-2 border-cyan-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-3xl font-bold text-center shadow-lg focus:outline-none focus:ring-4 focus:ring-cyan-200 dark:focus:ring-cyan-900"}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 font-bold text-gray-400",children:"台"})]})]}),l&&!l.error&&e.jsx("div",{className:"bg-gradient-to-br from-cyan-500 to-blue-600 rounded-3xl p-1 shadow-2xl text-white",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[22px] p-6 md:p-8 text-center h-full",children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-bold uppercase tracking-widest mb-4",children:"推奨設定"}),e.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:e.jsxs("span",{className:"text-5xl md:text-7xl font-black text-cyan-600 dark:text-cyan-400",children:["/",l.cidr]})}),e.jsxs("p",{className:"text-gray-400 text-sm font-bold mb-8 break-all",children:["サブネットマスク: ",l.mask]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-left bg-gray-50 dark:bg-gray-800 rounded-xl p-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400 font-bold mb-1",children:"最大収容数"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-800 dark:text-white break-all",children:[l.maxHosts.toLocaleString()," ",e.jsx("span",{className:"text-sm font-normal",children:"台"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400 font-bold mb-1",children:"余剰 (Overhead)"}),e.jsxs("p",{className:`text-2xl font-bold break-all ${l.overhead>50?"text-yellow-500":"text-green-500"}`,children:["+",l.overhead.toLocaleString()," ",e.jsx("span",{className:"text-sm font-normal",children:"台"})]})]})]}),l.overhead>100&&e.jsxs("p",{className:"mt-4 text-xs text-yellow-600 dark:text-yellow-400 font-bold flex items-center justify-center gap-1",children:[e.jsx(E,{size:14})," 無駄が多い可能性があります"]})]})}),(l==null?void 0:l.error)&&e.jsx("div",{className:"text-center text-red-500 font-bold p-4 bg-red-50 dark:bg-red-900/20 rounded-xl",children:l.error})]})]})]})};export{J as default};
