import{r,j as e,a as A}from"./index-CCbbCvrs.js";import{A as L}from"./AdBanner-OGle6gNO.js";import{K as T}from"./key-round-C1p6SWWf.js";import{C as R}from"./check-B1-GNlxB.js";import{C as N}from"./copy-EVy6h67D.js";import{R as E}from"./refresh-cw-DWySMbkg.js";import{H}from"./history-Bveam1CW.js";import{T as P,a as J}from"./toggle-right-DXlUDwmL.js";import{T as k}from"./trash-2-DphrvzNK.js";import{I as K}from"./info-QwCRr5G2.js";import{L as O}from"./lock-ChbuFGqD.js";const g="maitool_secure_key",U=l=>{try{const d=l.split("").map((s,i)=>String.fromCharCode(s.charCodeAt(0)^g.charCodeAt(i%g.length))).join("");return btoa(d)}catch{return""}},$=l=>{try{return atob(l).split("").map((s,i)=>String.fromCharCode(s.charCodeAt(0)^g.charCodeAt(i%g.length))).join("")}catch{return"***Error***"}},Q=()=>{const[l,d]=r.useState(""),[s,i]=r.useState(16),[h,w]=r.useState(!0),[p,v]=r.useState(!0),[b,S]=r.useState(!0),[y,C]=r.useState(!0),[u,f]=r.useState(!1),[c,I]=r.useState(()=>localStorage.getItem("pwd_save_history")==="true"),[x,m]=r.useState(()=>{const t=localStorage.getItem("pwd_history");return t?JSON.parse(t):[]});r.useEffect(()=>{localStorage.setItem("pwd_save_history",String(c))},[c]),r.useEffect(()=>{localStorage.setItem("pwd_history",JSON.stringify(x))},[x]);const z=()=>{let t="";if(h&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),p&&(t+="abcdefghijklmnopqrstuvwxyz"),b&&(t+="0123456789"),y&&(t+="!@#$%^&*()_+-=[]{}|;:,.<>?"),t==="")return;let a="";const n=new Uint32Array(s);window.crypto.getRandomValues(n);for(let o=0;o<s;o++)a+=t[n[o]%t.length];if(d(a),c){const o={id:Date.now(),encrypted:U(a),timestamp:new Date().toLocaleString("ja-JP")};m(_=>[o,..._].slice(0,10))}},j=t=>{navigator.clipboard.writeText(t),f(!0),setTimeout(()=>f(!1),2e3)};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-10 pb-20",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-2xl p-8 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(T,{className:"text-emerald-500"}),"パスワード生成"]}),e.jsxs("div",{className:"flex gap-2 mb-8",children:[e.jsx("div",{className:"flex-1 bg-gray-100 dark:bg-gray-800 rounded-xl p-4 flex items-center overflow-hidden",children:e.jsx("span",{className:"font-mono text-xl md:text-2xl text-gray-800 dark:text-gray-100 break-all",children:l||e.jsx("span",{className:"text-gray-400 text-base",children:"設定を選んで生成してください"})})}),e.jsx("button",{onClick:()=>j(l),disabled:!l,className:`px-6 rounded-xl font-bold transition-all flex items-center gap-2 shrink-0 ${u?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-emerald-600 text-white hover:bg-emerald-700 shadow-lg"} disabled:opacity-50`,children:u?e.jsx(R,{size:20}):e.jsx(N,{size:20})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"font-bold text-gray-700 dark:text-gray-200",children:"文字数"}),e.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-lg font-mono font-bold",children:s})]}),e.jsx("input",{type:"range",min:"4",max:"64",value:s,onChange:t=>i(Number(t.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-emerald-500"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{state:h,setState:w,label:"大文字 (A-Z)"},{state:p,setState:v,label:"小文字 (a-z)"},{state:b,setState:S,label:"数字 (0-9)"},{state:y,setState:C,label:"記号 (!@#$)"}].map((t,a)=>e.jsxs("label",{className:"flex items-center gap-3 p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-white dark:hover:bg-gray-700 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:t.state,onChange:n=>t.setState(n.target.checked),className:"w-5 h-5 rounded text-emerald-600 focus:ring-emerald-500 border-gray-300"}),e.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-200 text-sm",children:t.label})]},a))}),e.jsxs("button",{onClick:z,className:"w-full py-4 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl shadow-lg flex items-center justify-center gap-2",children:[e.jsx(E,{size:20}),"パスワードを生成"]})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 h-full flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-100 dark:border-gray-700 pb-2",children:[e.jsxs("h3",{className:"font-bold text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[e.jsx(H,{size:18}),"生成履歴"]}),e.jsx("button",{onClick:()=>I(!c),className:`text-2xl transition-colors ${c?"text-emerald-500":"text-gray-300"}`,children:c?e.jsx(P,{}):e.jsx(J,{})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-2 max-h-[400px]",children:[x.length===0&&e.jsx("p",{className:"text-center text-xs text-gray-400 py-8",children:"履歴なし"}),x.map(t=>{const a=$(t.encrypted);return e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-xl group relative",children:[e.jsx("p",{className:"font-mono font-bold text-gray-800 dark:text-gray-200 text-sm break-all mb-1",children:a}),e.jsx("p",{className:"text-[10px] text-gray-400",children:t.timestamp}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>j(a),className:"p-1 text-emerald-600",children:e.jsx(N,{size:14})}),e.jsx("button",{onClick:()=>m(n=>n.filter(o=>o.id!==t.id)),className:"p-1 text-red-400",children:e.jsx(k,{size:14})})]})]},t.id)})]}),x.length>0&&e.jsxs("button",{onClick:()=>m([]),className:"mt-4 w-full py-2 text-xs text-red-400 flex items-center justify-center gap-1",children:[e.jsx(k,{size:12}),"履歴を全消去"]})]})})]}),e.jsxs("article",{className:"p-8 bg-white dark:bg-dark-lighter rounded-3xl border border-gray-100 dark:border-gray-700 prose dark:prose-invert max-w-none shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-black flex items-center gap-2 mb-6",children:[e.jsx(K,{className:"text-blue-500"}),"安全なパスワード生成とセキュリティ管理"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 text-sm leading-relaxed text-gray-600 dark:text-gray-300",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-gray-800 dark:text-white font-bold mb-3 flex items-center gap-2",children:[e.jsx(O,{size:18,className:"text-emerald-500"}),"強力なパスワードの重要性"]}),e.jsx("p",{children:"オンライン上のアカウントを守るためには、推測しにくい強力なパスワードが不可欠です。 当ツールのパスワード生成は、大文字・小文字・数字・記号を組み合わせた「高エントロピー」な文字列をランダムに作成します。"}),e.jsxs("ul",{className:"list-disc list-inside mt-4 space-y-1",children:[e.jsx("li",{children:"最低12文字以上、推奨16文字以上の長さを設定"}),e.jsx("li",{children:"誕生日や辞書にある単語の使用を避け、記号を混ぜる"}),e.jsx("li",{children:"サイトごとに異なるパスワードを使用する"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-gray-800 dark:text-white font-bold mb-3 flex items-center gap-2",children:[e.jsx(A,{size:18,className:"text-emerald-500"}),"プライバシー保護設計"]}),e.jsx("p",{children:"「パスワードをWebサイトで作るのは不安」という方もご安心ください。当サイトの生成処理はすべてお使いのPCやスマホ内（JavaScript）で行われます。 生成されたパスワードがインターネットを通じてサーバーに送信されることは一切ありません。"}),e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"font-bold text-xs text-gray-400 uppercase mb-2",children:"履歴保存機能について"}),e.jsx("p",{className:"text-xs",children:"「履歴保存」をオンにすると、直近に生成したパスワードをブラウザの保存領域（LocalStorage）に一時保管します。 データは簡易暗号化されており、ブラウザを閉じても再確認可能です。不要になったら「履歴クリア」で完全に消去できます。"})]})]})]})]}),e.jsx(L,{})]})};export{Q as default};
