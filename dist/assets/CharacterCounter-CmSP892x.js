import{R as N,r as S,j as a,X as te,F as we}from"./index-CPfNMNrQ.js";import{A as je}from"./AdBanner-VUHwemo6.js";import{U as re}from"./upload-C3xpdSSH.js";import{A as Oe}from"./align-left-CzgfKH0U.js";import{T as Se,a as _e}from"./toggle-right-CLm5ufZq.js";import{g as Ne,i as X,G as Pe,a as W,m as Te,b as R,c as P,T as Ce,s as U,f as z,d as ne,L as ie,e as $e,h as Ae,u as ce,j as le,k as Ee,l as ue,n as ze,o as Le,B as de,p as Re,R as Ie,q as Be,C as De}from"./generateCategoricalChart-BEIpS4P5.js";import{D as Fe}from"./download-DV49yVt9.js";import{T as Ge}from"./trash-2-C1BzS4Ma.js";import{I as Me}from"./info-DCdtplJW.js";function fe(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Ke(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ne(r,n)}function We(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,d=t.height;return e===1?{start:r?i:s,end:r?i+o:s+d}:{start:r?i+o:s+d,end:r?i:s}}function I(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Ue(t,e){return fe(t,e+1)}function Ve(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,d=e.end,l=0,x=1,h=o,m=function(){var b=r==null?void 0:r[l];if(b===void 0)return{v:fe(r,x)};var k=l,c,v=function(){return c===void 0&&(c=n(b,k)),c},y=b.coordinate,u=l===0||I(t,y,v,h,d);u||(l=0,h=o,x+=1),u&&(h=y+t*(v()/2+i),l+=x)},g;x<=s.length;)if(g=m(),g)return g.v;return[]}function L(t){"@babel/helpers - typeof";return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(t)}function ae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ae(Object(n),!0).forEach(function(r){Xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xe(t,e,n){return e=Ye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ye(t){var e=qe(t,"string");return L(e)=="symbol"?e:e+""}function qe(t,e){if(L(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(L(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function He(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,d=e.start,l=e.end,x=function(g){var f=s[g],b,k=function(){return b===void 0&&(b=n(f,g)),b};if(g===o-1){var c=t*(f.coordinate+t*k()/2-l);s[g]=f=O(O({},f),{},{tickCoord:c>0?f.coordinate-c*t:f.coordinate})}else s[g]=f=O(O({},f),{},{tickCoord:f.coordinate});var v=I(t,f.tickCoord,k,d,l);v&&(l=f.tickCoord-t*(k()/2+i),s[g]=O(O({},f),{},{isShow:!0}))},h=o-1;h>=0;h--)x(h);return s}function Je(t,e,n,r,i,s){var o=(r||[]).slice(),d=o.length,l=e.start,x=e.end;if(s){var h=r[d-1],m=n(h,d-1),g=t*(h.coordinate+t*m/2-x);o[d-1]=h=O(O({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate});var f=I(t,h.tickCoord,function(){return m},l,x);f&&(x=h.tickCoord-t*(m/2+i),o[d-1]=O(O({},h),{},{isShow:!0}))}for(var b=s?d-1:d,k=function(y){var u=o[y],p,w=function(){return p===void 0&&(p=n(u,y)),p};if(y===0){var _=t*(u.coordinate-t*w()/2-l);o[y]=u=O(O({},u),{},{tickCoord:_<0?u.coordinate-_*t:u.coordinate})}else o[y]=u=O(O({},u),{},{tickCoord:u.coordinate});var E=I(t,u.tickCoord,w,l,x);E&&(l=u.tickCoord+t*(w()/2+i),o[y]=O(O({},u),{},{isShow:!0}))},c=0;c<b;c++)k(c);return o}function Qe(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,d=t.orientation,l=t.interval,x=t.tickFormatter,h=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(X(l)||Pe.isSsr)return Ue(i,typeof l=="number"&&X(l)?l:0);var g=[],f=d==="top"||d==="bottom"?"width":"height",b=h&&f==="width"?W(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},k=function(u,p){var w=R(x)?x(u.value,p):u.value;return f==="width"?Ke(W(w,{fontSize:e,letterSpacing:n}),b,m):W(w,{fontSize:e,letterSpacing:n})[f]},c=i.length>=2?Te(i[1].coordinate-i[0].coordinate):1,v=We(s,c,f);return l==="equidistantPreserveStart"?Ve(c,v,k,i,o):(l==="preserveStart"||l==="preserveStartEnd"?g=Je(c,v,k,i,o,l==="preserveStartEnd"):g=He(c,v,k,i,o),g.filter(function(y){return y.isShow}))}var Ze=["viewBox"],et=["viewBox"],tt=["ticks"];function C(t){"@babel/helpers - typeof";return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(t)}function T(){return T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T.apply(this,arguments)}function oe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oe(Object(n),!0).forEach(function(r){Z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V(t,e){if(t==null)return{};var n=rt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pe(r.key),r)}}function it(t,e,n){return e&&se(t.prototype,e),n&&se(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function at(t,e,n){return e=B(e),ot(t,he()?Reflect.construct(e,n||[],B(t).constructor):e.apply(t,n))}function ot(t,e){if(e&&(C(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return st(t)}function st(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function he(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(he=function(){return!!t})()}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},B(t)}function ct(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y(t,e)}function Y(t,e){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y(t,e)}function Z(t,e,n){return e=pe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pe(t){var e=lt(t,"string");return C(e)=="symbol"?e:e+""}function lt(t,e){if(C(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(C(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var G=function(t){function e(n){var r;return nt(this,e),r=at(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return ct(e,t),it(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=V(r,Ze),d=this.props,l=d.viewBox,x=V(d,et);return!U(s,l)||!U(o,x)||!U(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,d=i.width,l=i.height,x=i.orientation,h=i.tickSize,m=i.mirror,g=i.tickMargin,f,b,k,c,v,y,u=m?-1:1,p=r.tickSize||h,w=X(r.tickCoord)?r.tickCoord:r.coordinate;switch(x){case"top":f=b=r.coordinate,c=o+ +!m*l,k=c-u*p,y=k-u*g,v=w;break;case"left":k=c=r.coordinate,b=s+ +!m*d,f=b-u*p,v=f-u*g,y=w;break;case"right":k=c=r.coordinate,b=s+ +m*d,f=b+u*p,v=f+u*g,y=w;break;default:f=b=r.coordinate,c=o+ +m*l,k=c+u*p,y=k+u*g,v=w;break}return{line:{x1:f,y1:k,x2:b,y2:c},tick:{x:v,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,d=r.height,l=r.orientation,x=r.mirror,h=r.axisLine,m=j(j(j({},z(this.props,!1)),z(h,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var g=+(l==="top"&&!x||l==="bottom"&&x);m=j(j({},m),{},{x1:i,y1:s+g*d,x2:i+o,y2:s+g*d})}else{var f=+(l==="left"&&!x||l==="right"&&x);m=j(j({},m),{},{x1:i+f*o,y1:s,x2:i+f*o,y2:s+d})}return N.createElement("line",T({},m,{className:P("recharts-cartesian-axis-line",ne(h,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,d=this.props,l=d.tickLine,x=d.stroke,h=d.tick,m=d.tickFormatter,g=d.unit,f=Qe(j(j({},this.props),{},{ticks:r}),i,s),b=this.getTickTextAnchor(),k=this.getTickVerticalAnchor(),c=z(this.props,!1),v=z(h,!1),y=j(j({},c),{},{fill:"none"},z(l,!1)),u=f.map(function(p,w){var _=o.getTickLineCoord(p),E=_.line,ee=_.tick,ke=j(j(j(j({textAnchor:b,verticalAnchor:k},c),{},{stroke:"none",fill:x},v),ee),{},{index:w,payload:p,visibleTicksCount:f.length,tickFormatter:m});return N.createElement(ie,T({className:"recharts-cartesian-axis-tick",key:"tick-".concat(p.value,"-").concat(p.coordinate,"-").concat(p.tickCoord)},$e(o.props,p,w)),l&&N.createElement("line",T({},y,E,{className:P("recharts-cartesian-axis-tick-line",ne(l,"className"))})),h&&e.renderTickItem(h,ke,"".concat(R(m)?m(p.value,w):p.value).concat(g||"")))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks"},u)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,d=i.height,l=i.ticksGenerator,x=i.className,h=i.hide;if(h)return null;var m=this.props,g=m.ticks,f=V(m,tt),b=g;return R(l)&&(b=g&&g.length>0?l(this.props):l(f)),o<=0||d<=0||!b||!b.length?null:N.createElement(ie,{className:P("recharts-cartesian-axis",x),ref:function(c){r.layerReference=c}},s&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Ae.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o,d=P(i.className,"recharts-cartesian-axis-tick-value");return N.isValidElement(r)?o=N.cloneElement(r,j(j({},i),{},{className:d})):R(r)?o=r(j(j({},i),{},{className:d})):o=N.createElement(Ce,T({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(S.Component);Z(G,"displayName","CartesianAxis");Z(G,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function $(t){"@babel/helpers - typeof";return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(t)}function ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xe(r.key),r)}}function ft(t,e,n){return e&&dt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ht(t,e,n){return e=D(e),pt(t,me()?Reflect.construct(e,n||[],D(t).constructor):e.apply(t,n))}function pt(t,e){if(e&&($(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mt(t)}function mt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function me(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(me=function(){return!!t})()}function D(t){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D(t)}function gt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}function q(t,e){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q(t,e)}function ge(t,e,n){return e=xe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xe(t){var e=xt(t,"string");return $(e)=="symbol"?e:e+""}function xt(t,e){if($(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function H(){return H=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H.apply(this,arguments)}function yt(t){var e=t.xAxisId,n=ce(),r=le(),i=Ee(e);return i==null?null:S.createElement(G,H({},i,{className:P("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return ue(o,!0)}}))}var M=function(t){function e(){return ut(this,e),ht(this,e,arguments)}return gt(e,t),ft(e,[{key:"render",value:function(){return S.createElement(yt,this.props)}}])}(S.Component);ge(M,"displayName","XAxis");ge(M,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function A(t){"@babel/helpers - typeof";return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(t)}function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ve(r.key),r)}}function kt(t,e,n){return e&&vt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wt(t,e,n){return e=F(e),jt(t,ye()?Reflect.construct(e,n||[],F(t).constructor):e.apply(t,n))}function jt(t,e){if(e&&(A(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ot(t)}function Ot(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ye(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ye=function(){return!!t})()}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F(t)}function St(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J(t,e)}function J(t,e){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J(t,e)}function be(t,e,n){return e=ve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ve(t){var e=_t(t,"string");return A(e)=="symbol"?e:e+""}function _t(t,e){if(A(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(A(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Q(){return Q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q.apply(this,arguments)}var Nt=function(e){var n=e.yAxisId,r=ce(),i=le(),s=ze(n);return s==null?null:S.createElement(G,Q({},s,{className:P("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(d){return ue(d,!0)}}))},K=function(t){function e(){return bt(this,e),wt(this,e,arguments)}return St(e,t),kt(e,[{key:"render",value:function(){return S.createElement(Nt,this.props)}}])}(S.Component);be(K,"displayName","YAxis");be(K,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var Pt=Le({chartName:"BarChart",GraphicalChild:de,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:M},{axisType:"yAxis",AxisComp:K}],formatAxisMap:Re});const Bt=()=>{const[t,e]=S.useState("single"),[n,r]=S.useState(""),[i,s]=S.useState(!1),[o,d]=S.useState([]),[l,x]=S.useState(!1),h=S.useRef(null),m=S.useMemo(()=>{const c=n.length,v=n.replace(/\s/g,"").length,y=n?n.split(/\r\n|\r|\n/).length:0,u=(n.match(/[\u3040-\u309F]/g)||[]).length,p=(n.match(/[\u30A0-\u30FF]/g)||[]).length,w=(n.match(/[\u4E00-\u9FAF]/g)||[]).length,_=c-(u+p+w);return{total:c,noSpace:v,lines:y,distribution:[{name:"ひらがな",value:u,color:"#3b82f6"},{name:"カタカナ",value:p,color:"#8b5cf6"},{name:"漢字",value:w,color:"#10b981"},{name:"その他",value:_,color:"#94a3b8"}]}},[n]),g=async c=>{var y;if(!((y=c.target.files)!=null&&y.length))return;x(!0);const v=[];for(const u of Array.from(c.target.files))try{const p=await u.text(),w=p.length,_=p.replace(/\s/g,"").length,E=p?p.split(/\r\n|\r|\n/).length:0;v.push({id:Math.random().toString(36).substr(2,9),name:u.name,total:w,noSpace:_,lines:E})}catch(p){console.error(`Failed to read ${u.name}`,p)}d(u=>[...u,...v]),x(!1),h.current&&(h.current.value="")},f=c=>{d(v=>v.filter(y=>y.id!==c))},b=()=>{window.confirm("すべてのファイル結果を削除しますか？")&&d([])},k=()=>{if(o.length===0)return;const c=`ファイル名,文字数(空白込),文字数(空白無),行数
`,v=o.map(p=>`"${p.name}",${p.total},${p.noSpace},${p.lines}`).join(`
`),y="data:text/csv;charset=utf-8,"+encodeURIComponent(c+v),u=document.createElement("a");u.href=y,u.download=`character_counts_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(u),u.click(),document.body.removeChild(u)};return a.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-xl",children:[a.jsx("button",{onClick:()=>e("single"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${t==="single"?"bg-white dark:bg-gray-700 text-green-600 dark:text-green-400 shadow-sm":"text-gray-500 dark:text-gray-400"}`,children:"テキスト入力"}),a.jsxs("button",{onClick:()=>e("bulk"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${t==="bulk"?"bg-white dark:bg-gray-700 text-green-600 dark:text-green-400 shadow-sm":"text-gray-500 dark:text-gray-400"}`,children:[a.jsx(re,{size:14})," 一括ファイル集計"]})]})}),t==="single"?a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 h-full flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[a.jsx(Oe,{className:"text-green-500"}),"文字数カウント"]}),a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsxs("button",{onClick:()=>s(!i),className:`flex items-center gap-2 text-sm font-bold transition-colors ${i?"text-green-600 dark:text-green-400":"text-gray-400"}`,children:[i?a.jsx(Se,{size:24}):a.jsx(_e,{size:24}),"空白を無視"]}),a.jsxs("button",{onClick:()=>r(""),disabled:!n,className:"text-sm text-gray-400 hover:text-red-500 flex items-center gap-1 transition-colors disabled:opacity-50",children:[a.jsx(te,{size:16})," クリア"]})]})]}),a.jsx("textarea",{value:n,onChange:c=>r(c.target.value),placeholder:"ここにテキストを入力してください...",className:"flex-1 w-full min-h-[400px] p-4 rounded-xl border-2 border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 focus:border-green-500 focus:bg-white dark:focus:bg-gray-900 focus:ring-green-500 resize-none transition-all text-gray-900 dark:text-white leading-relaxed text-base"})]})}),a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-1 gap-4",children:[a.jsxs("div",{className:`bg-white dark:bg-dark-lighter rounded-xl p-5 shadow-sm border border-gray-100 dark:border-gray-700 transition-all ${i?"opacity-70":"ring-2 ring-green-500"}`,children:[a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"文字数 (空白込)"}),a.jsx("div",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:m.total.toLocaleString()})]}),a.jsxs("div",{className:`bg-white dark:bg-dark-lighter rounded-xl p-5 shadow-sm border border-gray-100 dark:border-gray-700 transition-all ${i?"ring-2 ring-green-500":"opacity-70"}`,children:[a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"文字数 (空白無視)"}),a.jsx("div",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:m.noSpace.toLocaleString()})]}),a.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-xl p-5 shadow-sm border border-gray-100 dark:border-gray-700 col-span-2 lg:col-span-1",children:[a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"行数"}),a.jsx("div",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:m.lines.toLocaleString()})]})]}),a.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-xl p-5 shadow-sm border border-gray-100 dark:border-gray-700",children:[a.jsx("h3",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 mb-4",children:"文字種別内訳"}),a.jsx("div",{className:"h-48 w-full",children:a.jsx(Ie,{width:"100%",height:"100%",children:a.jsxs(Pt,{data:m.distribution,children:[a.jsx(M,{dataKey:"name",tick:{fontSize:10,fill:"#9ca3af"},tickLine:!1,axisLine:!1}),a.jsx(K,{hide:!0}),a.jsx(Be,{cursor:{fill:"rgba(0,0,0,0.05)"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),a.jsx(de,{dataKey:"value",radius:[4,4,0,0],children:m.distribution.map((c,v)=>a.jsx(De,{fill:c.color},`cell-${v}`))})]})})})]})]})]}):a.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 min-h-[600px] flex flex-col",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[a.jsx(we,{className:"text-green-500"}),"一括ファイル集計"]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"複数のテキストファイルをアップロードして、それぞれの文字数を一覧表示します。"})]}),a.jsxs("div",{className:"flex gap-2",children:[o.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:k,className:"px-4 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-300 rounded-lg text-sm font-bold hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors flex items-center gap-2",children:[a.jsx(Fe,{size:16})," CSV出力"]}),a.jsxs("button",{onClick:b,className:"px-4 py-2 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-300 rounded-lg text-sm font-bold hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors flex items-center gap-2",children:[a.jsx(Ge,{size:16})," 全削除"]})]}),a.jsxs("label",{className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-bold hover:bg-green-700 transition-colors cursor-pointer flex items-center gap-2 shadow-lg shadow-green-200 dark:shadow-none",children:[a.jsx(re,{size:16})," ファイルを追加",a.jsx("input",{type:"file",multiple:!0,accept:".txt,.md,.json,.js,.ts,.html,.css,.csv",onChange:g,className:"hidden",ref:h})]})]})]}),a.jsx("div",{className:"flex-1 overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm text-gray-600 dark:text-gray-300",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white uppercase font-bold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 rounded-tl-xl",children:"ファイル名"}),a.jsx("th",{className:"p-4",children:"文字数 (空白込)"}),a.jsx("th",{className:"p-4 text-green-600 dark:text-green-400",children:"文字数 (空白無視)"}),a.jsx("th",{className:"p-4",children:"行数"}),a.jsx("th",{className:"p-4 rounded-tr-xl w-10"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[o.map(c=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[a.jsx("td",{className:"p-4 font-medium text-gray-900 dark:text-white truncate max-w-[200px]",title:c.name,children:c.name}),a.jsx("td",{className:"p-4 font-mono",children:c.total.toLocaleString()}),a.jsx("td",{className:"p-4 font-mono font-bold text-green-600 dark:text-green-400",children:c.noSpace.toLocaleString()}),a.jsx("td",{className:"p-4 font-mono",children:c.lines.toLocaleString()}),a.jsx("td",{className:"p-4",children:a.jsx("button",{onClick:()=>f(c.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:a.jsx(te,{size:16})})})]},c.id)),o.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-400",children:"ファイルがありません。「ファイルを追加」からテキストファイルをアップロードしてください。"})})]})]})})]}),a.jsxs("article",{className:"mt-12 p-8 bg-white dark:bg-dark-lighter rounded-3xl border border-gray-100 dark:border-gray-700 prose dark:prose-invert max-w-none shadow-sm",children:[a.jsxs("h2",{className:"text-xl font-black flex items-center gap-2 mb-6",children:[a.jsx(Me,{className:"text-blue-500"}),"文字数カウント・文章分析ツールの解説"]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8 text-sm leading-relaxed text-gray-600 dark:text-gray-300",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-800 dark:text-white font-bold mb-3",children:"このツールの特徴"}),a.jsx("p",{children:"当サイトの文字数カウンターは、リアルタイムで正確な文字数を計測する無料のWebツールです。 レポート作成、ブログ記事の執筆、SNS投稿時の文字制限確認など、あらゆるシーンでご活用いただけます。 入力されたテキストはブラウザ内でのみ処理されるため、内容が外部に送信されることはありません。"}),a.jsxs("ul",{className:"list-disc list-inside mt-4 space-y-1",children:[a.jsx("li",{children:"全角・半角を問わず正確にカウント"}),a.jsx("li",{children:"空白・改行を含めた合計と、純粋な文字のみの集計を分離"}),a.jsx("li",{children:"原稿用紙（400字）換算枚数の目安を表示"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-800 dark:text-white font-bold mb-3",children:"高度な分析機能"}),a.jsx("p",{children:"単なる文字数計測だけでなく、日本語の文章構造を分析する機能を備えています。 ひらがな、カタカナ、漢字の比率を視覚化することで、文章の「読みやすさ」を客観的に把握できます。"}),a.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700",children:[a.jsx("p",{className:"font-bold text-xs text-gray-400 uppercase mb-2",children:"おすすめの用途"}),a.jsx("p",{className:"text-xs",children:"SEOライティング、小論文、読書感想文、ツイート作成、広告コピーの推敲、翻訳業務の単語数確認など。"})]})]})]})]}),a.jsx(je,{})]})};export{Bt as default};
