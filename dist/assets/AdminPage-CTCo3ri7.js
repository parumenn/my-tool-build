import{c as V,R as g,r as O,j as e,X as Je,S as Ye,C as qe}from"./index-Bxr_P7GP.js";import{T as de}from"./toolsData-CUtElEOh.js";import{L as Ze}from"./lock-CEkMM5aZ.js";import{L as Qe}from"./loader-circle-BygTZQqt.js";import{A as et}from"./activity-BJ-jVbyr.js";import{M as ge,S as tt}from"./shield-GPfLbpQW.js";import{T as at}from"./trending-up-BtRFtCK_.js";import{u as rt,a as st,b as it,i as $,c as nt,d as lt,e as te,w as be,g as Ce,f as ze,h as U,L as se,m as ne,C as ue,A as ot,j as Q,k as ye,l as ct,n as ve,o as Ee,p as dt,q as ut,r as ht,G as pt,s as je,t as ke,D as xt,v as mt,x as ft,R as gt,T as bt}from"./generateCategoricalChart-C98EnKva.js";import{g as Le,C as De,X as Ie,Y as Te}from"./YAxis-BcGFI82G.js";import{R as he}from"./refresh-cw-CwIeGKqB.js";import{P as we}from"./plus-JR6hxsxk.js";import{S as Ne}from"./search-CeRHXdA2.js";import{C as yt}from"./circle-x-B4xaY48S.js";import{T as vt,a as jt}from"./toggle-right--uT2nL5k.js";import{T as kt}from"./trash-2-BtXzETBe.js";import{S as wt}from"./settings-BLm5XtW4.js";import{D as Nt}from"./download-DKt8imcb.js";import{U as At}from"./upload-i0hNP_fo.js";import{K as Ot}from"./key-round-__owebBT.js";import{D as _t}from"./database-DxhQHdSw.js";import"./align-left-DZQ_w1Uj.js";import"./bath-CyJdkBgQ.js";import"./pipette-DeG2QywI.js";import"./wallet-n_NgUC4U.js";import"./image-oh2dYS9C.js";import"./file-type-DC5V0AJS.js";import"./network-C1b1au72.js";import"./globe-nMYOD5n9.js";import"./binary-COIXhPaF.js";import"./timer-IFmne7hg.js";import"./calendar-days-DW_Tfh4c.js";import"./scale-CEylREKE.js";import"./dices-BCVdwGlA.js";import"./square-dashed-D-OaxoVG.js";import"./fingerprint-DhUwj01X.js";import"./type-Yf5f4ICO.js";import"./disc-g_7t6QYZ.js";import"./arrow-right-left-CtTQCRu7.js";import"./hash-DtlAMH8w.js";import"./list-todo-CbiPoy3w.js";import"./code-CDYOulZI.js";import"./palette-DPT_HNYU.js";import"./file-json-SubdyjUP.js";import"./stamp-BrSncaBQ.js";import"./image-off-tAM5AykK.js";import"./file-diff-BjzHSMVE.js";import"./clock-C-p3XRXy.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=V("AppWindow",[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=V("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=V("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=V("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=V("Infinity",[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=V("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var It=["x1","y1","x2","y2","key"],Tt=["offset"];function Y(t){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Y(t)}function Oe(t,a){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,r)}return s}function T(t){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Oe(Object(s),!0).forEach(function(r){$t(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Oe(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function $t(t,a,s){return a=Mt(a),a in t?Object.defineProperty(t,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[a]=s,t}function Mt(t){var a=Rt(t,"string");return Y(a)=="symbol"?a:a+""}function Rt(t,a){if(Y(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,a);if(Y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function X(){return X=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},X.apply(this,arguments)}function _e(t,a){if(t==null)return{};var s=Ft(t,a),r,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],!(a.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function Ft(t,a){if(t==null)return{};var s={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(a.indexOf(r)>=0)continue;s[r]=t[r]}return s}var Wt=function(a){var s=a.fill;if(!s||s==="none")return null;var r=a.fillOpacity,n=a.x,o=a.y,c=a.width,u=a.height,h=a.ry;return g.createElement("rect",{x:n,y:o,ry:h,width:c,height:u,stroke:"none",fill:s,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function $e(t,a){var s;if(g.isValidElement(t))s=g.cloneElement(t,a);else if(te(t))s=t(a);else{var r=a.x1,n=a.y1,o=a.x2,c=a.y2,u=a.key,h=_e(a,It),d=U(h,!1);d.offset;var l=_e(d,Tt);s=g.createElement("line",X({},l,{x1:r,y1:n,x2:o,y2:c,fill:"none",key:u}))}return s}function Bt(t){var a=t.x,s=t.width,r=t.horizontal,n=r===void 0?!0:r,o=t.horizontalPoints;if(!n||!o||!o.length)return null;var c=o.map(function(u,h){var d=T(T({},t),{},{x1:a,y1:u,x2:a+s,y2:u,key:"line-".concat(h),index:h});return $e(n,d)});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Vt(t){var a=t.y,s=t.height,r=t.vertical,n=r===void 0?!0:r,o=t.verticalPoints;if(!n||!o||!o.length)return null;var c=o.map(function(u,h){var d=T(T({},t),{},{x1:u,y1:a,x2:u,y2:a+s,key:"line-".concat(h),index:h});return $e(n,d)});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Gt(t){var a=t.horizontalFill,s=t.fillOpacity,r=t.x,n=t.y,o=t.width,c=t.height,u=t.horizontalPoints,h=t.horizontal,d=h===void 0?!0:h;if(!d||!a||!a.length)return null;var l=u.map(function(x){return Math.round(x+n-n)}).sort(function(x,y){return x-y});n!==l[0]&&l.unshift(0);var f=l.map(function(x,y){var A=!l[y+1],_=A?n+c-x:l[y+1]-x;if(_<=0)return null;var N=y%a.length;return g.createElement("rect",{key:"react-".concat(y),y:x,x:r,height:_,width:o,stroke:"none",fill:a[N],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Ht(t){var a=t.vertical,s=a===void 0?!0:a,r=t.verticalFill,n=t.fillOpacity,o=t.x,c=t.y,u=t.width,h=t.height,d=t.verticalPoints;if(!s||!r||!r.length)return null;var l=d.map(function(x){return Math.round(x+o-o)}).sort(function(x,y){return x-y});o!==l[0]&&l.unshift(0);var f=l.map(function(x,y){var A=!l[y+1],_=A?o+u-x:l[y+1]-x;if(_<=0)return null;var N=y%r.length;return g.createElement("rect",{key:"react-".concat(y),x,y:c,width:_,height:h,stroke:"none",fill:r[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Kt=function(a,s){var r=a.xAxis,n=a.width,o=a.height,c=a.offset;return Ce(Le(T(T(T({},De.defaultProps),r),{},{ticks:ze(r,!0),viewBox:{x:0,y:0,width:n,height:o}})),c.left,c.left+c.width,s)},Ut=function(a,s){var r=a.yAxis,n=a.width,o=a.height,c=a.offset;return Ce(Le(T(T(T({},De.defaultProps),r),{},{ticks:ze(r,!0),viewBox:{x:0,y:0,width:n,height:o}})),c.top,c.top+c.height,s)},ee={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Me(t){var a,s,r,n,o,c,u=rt(),h=st(),d=it(),l=T(T({},t),{},{stroke:(a=t.stroke)!==null&&a!==void 0?a:ee.stroke,fill:(s=t.fill)!==null&&s!==void 0?s:ee.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ee.horizontal,horizontalFill:(n=t.horizontalFill)!==null&&n!==void 0?n:ee.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:ee.vertical,verticalFill:(c=t.verticalFill)!==null&&c!==void 0?c:ee.verticalFill,x:$(t.x)?t.x:d.left,y:$(t.y)?t.y:d.top,width:$(t.width)?t.width:d.width,height:$(t.height)?t.height:d.height}),f=l.x,x=l.y,y=l.width,A=l.height,_=l.syncWithTicks,N=l.horizontalValues,E=l.verticalValues,k=nt(),L=lt();if(!$(y)||y<=0||!$(A)||A<=0||!$(f)||f!==+f||!$(x)||x!==+x)return null;var j=l.verticalCoordinatesGenerator||Kt,P=l.horizontalCoordinatesGenerator||Ut,w=l.horizontalPoints,D=l.verticalPoints;if((!w||!w.length)&&te(P)){var S=N&&N.length,M=P({yAxis:L?T(T({},L),{},{ticks:S?N:L.ticks}):void 0,width:u,height:h,offset:d},S?!0:_);be(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Y(M),"]")),Array.isArray(M)&&(w=M)}if((!D||!D.length)&&te(j)){var C=E&&E.length,I=j({xAxis:k?T(T({},k),{},{ticks:C?E:k.ticks}):void 0,width:u,height:h,offset:d},C?!0:_);be(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Y(I),"]")),Array.isArray(I)&&(D=I)}return g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(Wt,{fill:l.fill,fillOpacity:l.fillOpacity,x:l.x,y:l.y,width:l.width,height:l.height,ry:l.ry}),g.createElement(Bt,X({},l,{offset:d,horizontalPoints:w,xAxis:k,yAxis:L})),g.createElement(Vt,X({},l,{offset:d,verticalPoints:D,xAxis:k,yAxis:L})),g.createElement(Gt,X({},l,{horizontalPoints:w})),g.createElement(Ht,X({},l,{verticalPoints:D})))}Me.displayName="CartesianGrid";var Xt=["layout","type","stroke","connectNulls","isRange","ref"],Jt=["key"],Re;function ae(t){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ae(t)}function Fe(t,a){if(t==null)return{};var s=Yt(t,a),r,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],!(a.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function Yt(t,a){if(t==null)return{};var s={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(a.indexOf(r)>=0)continue;s[r]=t[r]}return s}function J(){return J=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])}return t},J.apply(this,arguments)}function Pe(t,a){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,r)}return s}function B(t){for(var a=1;a<arguments.length;a++){var s=arguments[a]!=null?arguments[a]:{};a%2?Pe(Object(s),!0).forEach(function(r){F(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Pe(Object(s)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))})}return t}function qt(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function Se(t,a){for(var s=0;s<a.length;s++){var r=a[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Be(r.key),r)}}function Zt(t,a,s){return a&&Se(t.prototype,a),s&&Se(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qt(t,a,s){return a=le(a),ea(t,We()?Reflect.construct(a,s||[],le(t).constructor):a.apply(t,s))}function ea(t,a){if(a&&(ae(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ta(t)}function ta(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function We(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(We=function(){return!!t})()}function le(t){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},le(t)}function aa(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),a&&pe(t,a)}function pe(t,a){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},pe(t,a)}function F(t,a,s){return a=Be(a),a in t?Object.defineProperty(t,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[a]=s,t}function Be(t){var a=ra(t,"string");return ae(a)=="symbol"?a:a+""}function ra(t,a){if(ae(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,a);if(ae(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var G=function(t){function a(){var s;qt(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return s=Qt(this,a,[].concat(n)),F(s,"state",{isAnimationFinished:!0}),F(s,"id",ht("recharts-area-")),F(s,"handleAnimationEnd",function(){var c=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),te(c)&&c()}),F(s,"handleAnimationStart",function(){var c=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),te(c)&&c()}),s}return aa(a,t),Zt(a,[{key:"renderDots",value:function(r,n,o){var c=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(c&&!u)return null;var h=this.props,d=h.dot,l=h.points,f=h.dataKey,x=U(this.props,!1),y=U(d,!0),A=l.map(function(N,E){var k=B(B(B({key:"dot-".concat(E),r:3},x),y),{},{index:E,cx:N.x,cy:N.y,dataKey:f,value:N.value,payload:N.payload,points:l});return a.renderDotItem(d,k)}),_={clipPath:r?"url(#clipPath-".concat(n?"":"dots-").concat(o,")"):null};return g.createElement(se,J({className:"recharts-area-dots"},_),A)}},{key:"renderHorizontalRect",value:function(r){var n=this.props,o=n.baseLine,c=n.points,u=n.strokeWidth,h=c[0].x,d=c[c.length-1].x,l=r*Math.abs(h-d),f=ne(c.map(function(x){return x.y||0}));return $(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(ne(o.map(function(x){return x.y||0})),f)),$(f)?g.createElement("rect",{x:h<d?h:h-l,y:0,width:l,height:Math.floor(f+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var n=this.props,o=n.baseLine,c=n.points,u=n.strokeWidth,h=c[0].y,d=c[c.length-1].y,l=r*Math.abs(h-d),f=ne(c.map(function(x){return x.x||0}));return $(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(ne(o.map(function(x){return x.x||0})),f)),$(f)?g.createElement("rect",{x:0,y:h<d?h:h-l,width:f+(u?parseInt("".concat(u),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(r){var n=this.props.layout;return n==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,n,o,c){var u=this.props,h=u.layout,d=u.type,l=u.stroke,f=u.connectNulls,x=u.isRange;u.ref;var y=Fe(u,Xt);return g.createElement(se,{clipPath:o?"url(#clipPath-".concat(c,")"):null},g.createElement(ue,J({},U(y,!0),{points:r,connectNulls:f,type:d,baseLine:n,layout:h,stroke:"none",className:"recharts-area-area"})),l!=="none"&&g.createElement(ue,J({},U(this.props,!1),{className:"recharts-area-curve",layout:h,type:d,connectNulls:f,fill:"none",points:r})),l!=="none"&&x&&g.createElement(ue,J({},U(this.props,!1),{className:"recharts-area-curve",layout:h,type:d,connectNulls:f,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(r,n){var o=this,c=this.props,u=c.points,h=c.baseLine,d=c.isAnimationActive,l=c.animationBegin,f=c.animationDuration,x=c.animationEasing,y=c.animationId,A=this.state,_=A.prevPoints,N=A.prevBaseLine;return g.createElement(ot,{begin:l,duration:f,isActive:d,easing:x,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var k=E.t;if(_){var L=_.length/u.length,j=u.map(function(S,M){var C=Math.floor(M*L);if(_[C]){var I=_[C],v=Q(I.x,S.x),z=Q(I.y,S.y);return B(B({},S),{},{x:v(k),y:z(k)})}return S}),P;if($(h)&&typeof h=="number"){var w=Q(N,h);P=w(k)}else if(ye(h)||ct(h)){var D=Q(N,0);P=D(k)}else P=h.map(function(S,M){var C=Math.floor(M*L);if(N[C]){var I=N[C],v=Q(I.x,S.x),z=Q(I.y,S.y);return B(B({},S),{},{x:v(k),y:z(k)})}return S});return o.renderAreaStatically(j,P,r,n)}return g.createElement(se,null,g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(n)},o.renderClipRect(k))),g.createElement(se,{clipPath:"url(#animationClipPath-".concat(n,")")},o.renderAreaStatically(u,h,r,n)))})}},{key:"renderArea",value:function(r,n){var o=this.props,c=o.points,u=o.baseLine,h=o.isAnimationActive,d=this.state,l=d.prevPoints,f=d.prevBaseLine,x=d.totalLength;return h&&c&&c.length&&(!l&&x>0||!ve(l,c)||!ve(f,u))?this.renderAreaWithAnimation(r,n):this.renderAreaStatically(c,u,r,n)}},{key:"render",value:function(){var r,n=this.props,o=n.hide,c=n.dot,u=n.points,h=n.className,d=n.top,l=n.left,f=n.xAxis,x=n.yAxis,y=n.width,A=n.height,_=n.isAnimationActive,N=n.id;if(o||!u||!u.length)return null;var E=this.state.isAnimationFinished,k=u.length===1,L=Ee("recharts-area",h),j=f&&f.allowDataOverflow,P=x&&x.allowDataOverflow,w=j||P,D=ye(N)?this.id:N,S=(r=U(c,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},M=S.r,C=M===void 0?3:M,I=S.strokeWidth,v=I===void 0?2:I,z=dt(c)?c:{},re=z.clipDot,W=re===void 0?!0:re,H=C*2+v;return g.createElement(se,{className:L},j||P?g.createElement("defs",null,g.createElement("clipPath",{id:"clipPath-".concat(D)},g.createElement("rect",{x:j?l:l-y/2,y:P?d:d-A/2,width:j?y:y*2,height:P?A:A*2})),!W&&g.createElement("clipPath",{id:"clipPath-dots-".concat(D)},g.createElement("rect",{x:l-H/2,y:d-H/2,width:y+H,height:A+H}))):null,k?null:this.renderArea(w,D),(c||k)&&this.renderDots(w,W,D),(!_||E)&&ut.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:n.curPoints,prevBaseLine:n.curBaseLine}:r.points!==n.curPoints||r.baseLine!==n.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(O.PureComponent);Re=G;F(G,"displayName","Area");F(G,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!pt.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});F(G,"getBaseValue",function(t,a,s,r){var n=t.layout,o=t.baseValue,c=a.props.baseValue,u=c??o;if($(u)&&typeof u=="number")return u;var h=n==="horizontal"?r:s,d=h.scale.domain();if(h.type==="number"){var l=Math.max(d[0],d[1]),f=Math.min(d[0],d[1]);return u==="dataMin"?f:u==="dataMax"||l<0?l:Math.max(Math.min(d[0],d[1]),0)}return u==="dataMin"?d[0]:u==="dataMax"?d[1]:d[0]});F(G,"getComposedData",function(t){var a=t.props,s=t.item,r=t.xAxis,n=t.yAxis,o=t.xAxisTicks,c=t.yAxisTicks,u=t.bandSize,h=t.dataKey,d=t.stackedData,l=t.dataStartIndex,f=t.displayedData,x=t.offset,y=a.layout,A=d&&d.length,_=Re.getBaseValue(a,s,r,n),N=y==="horizontal",E=!1,k=f.map(function(j,P){var w;A?w=d[l+P]:(w=je(j,h),Array.isArray(w)?E=!0:w=[_,w]);var D=w[1]==null||A&&je(j,h)==null;return N?{x:ke({axis:r,ticks:o,bandSize:u,entry:j,index:P}),y:D?null:n.scale(w[1]),value:w,payload:j}:{x:D?null:r.scale(w[1]),y:ke({axis:n,ticks:c,bandSize:u,entry:j,index:P}),value:w,payload:j}}),L;return A||E?L=k.map(function(j){var P=Array.isArray(j.value)?j.value[0]:null;return N?{x:j.x,y:P!=null&&j.y!=null?n.scale(P):null}:{x:P!=null?r.scale(P):null,y:j.y}}):L=N?n.scale(_):r.scale(_),B({points:k,baseLine:L,layout:y,isRange:E},x)});F(G,"renderDotItem",function(t,a){var s;if(g.isValidElement(t))s=g.cloneElement(t,a);else if(te(t))s=t(a);else{var r=Ee("recharts-area-dot",typeof t!="boolean"?t.className:""),n=a.key,o=Fe(a,Jt);s=g.createElement(xt,J({},o,{key:n,className:r}))}return s});var sa=mt({chartName:"AreaChart",GraphicalChild:G,axisComponents:[{axisType:"xAxis",AxisComp:Ie},{axisType:"yAxis",AxisComp:Te}],formatAxisMap:ft});const ie="/secure-panel-7x9v2",Za=()=>{const[t,a]=O.useState(sessionStorage.getItem("admin_token")),[s,r]=O.useState("dashboard"),[n,o]=O.useState(""),[c,u]=O.useState(""),[h,d]=O.useState(!1),[l,f]=O.useState({total_pv:0,today_pv:0,recent_logs:[]}),[x,y]=O.useState([]),[A,_]=O.useState({}),[N,E]=O.useState(!1),[k,L]=O.useState(!1),[j,P]=O.useState(""),[w,D]=O.useState(""),[S,M]=O.useState(""),[C,I]=O.useState(()=>{const i=localStorage.getItem("admin_monitored_apps");return i?JSON.parse(i):["qrcode","kakeibo","bath"]});O.useEffect(()=>{localStorage.setItem("admin_monitored_apps",JSON.stringify(C))},[C]);const[v,z]=O.useState({smtp_host:"",smtp_port:587,smtp_user:"",smtp_pass:"",alert_email:"",dos_patterns:[{count:30,seconds:30,block_minutes:15}],dos_notify_enabled:!0}),[re,W]=O.useState(""),[H,R]=O.useState(!1),xe=O.useRef(null),Ve=O.useMemo(()=>{const i={},p=new Date;for(let m=23;m>=0;m--){const b=new Date(p.getTime()-m*36e5);i[`${b.getHours()}:00`]=0}return l.recent_logs.forEach(m=>{const b=new Date(m.timestamp*1e3);if(isNaN(b.getTime()))return;const K=`${b.getHours()}:00`;i[K]!==void 0&&i[K]++}),Object.entries(i).map(([m,b])=>({name:m,pv:b}))},[l.recent_logs]),me=O.useMemo(()=>{const i={};return l.recent_logs.forEach(p=>{const m=de.find(b=>b.path===p.path);m&&(i[m.id]=(i[m.id]||0)+1)}),i},[l.recent_logs]),oe=O.useMemo(()=>l.recent_logs.filter(i=>{const p=!j||i.ip.includes(j),m=!w||i.path.toLowerCase().includes(w.toLowerCase()),b=!S||i.date.includes(S);return p&&m&&b}),[l.recent_logs,j,w,S]),q=async(i=!1)=>{if(t){i&&E(!0),i||L(!0);try{const p=await fetch("./backend/admin_api.php?action=fetch_dashboard",{headers:{"X-Admin-Token":t}});if(p.ok){const m=await p.json();f(m.stats||{total_pv:0,today_pv:0,recent_logs:[]}),y(m.messages||[]),_(m.blocked_ips||{}),i&&m.config&&(z(b=>({...b,...m.config,smtp_pass:"",dos_patterns:m.config.dos_patterns||[{count:30,seconds:30,block_minutes:15}]})),R(!1))}else p.status===403&&fe()}catch(p){console.error("Fetch error",p)}finally{E(!1),L(!1)}}},Ge=async i=>{if(i&&i.preventDefault(),!!t){W("保存中...");try{(await fetch("./backend/admin_api.php?action=update_settings",{method:"POST",headers:{"Content-Type":"application/json","X-Admin-Token":t},body:JSON.stringify(v)})).ok?(W("設定を保存しました。"),R(!1),setTimeout(()=>W(""),3e3)):W("保存に失敗しました。")}catch{W("エラーが発生しました。")}}},He=async i=>{if(confirm(`${i} の遮断を解除しますか？`))try{(await fetch("./backend/admin_api.php?action=unblock_ip",{method:"POST",headers:{"Content-Type":"application/json","X-Admin-Token":t||""},body:JSON.stringify({ip:i})})).ok&&q(!1)}catch{alert("解除に失敗しました。")}},Ke=i=>{C.includes(i)||I([...C,i])},Ue=i=>{I(C.filter(p=>p!==i))},Xe=async i=>{i.preventDefault(),d(!0);try{const p=await fetch("./backend/admin_api.php?action=login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:n})}),m=await p.json();p.ok?(a(m.token),sessionStorage.setItem("admin_token",m.token)):u(m.error)}catch{u("通信エラー")}finally{d(!1)}},fe=()=>{a(null),sessionStorage.removeItem("admin_token")};return O.useEffect(()=>{if(t){q(!0);const i=setInterval(()=>q(!1),1e4);return()=>clearInterval(i)}},[t]),t?e.jsxs("div",{className:"min-h-screen bg-[#f8f9fc] dark:bg-dark text-slate-800 dark:text-gray-100 flex flex-col fixed inset-0 z-[150] overflow-hidden",children:[e.jsxs("header",{className:"bg-slate-900 text-white border-b border-white/10 h-16 flex items-center justify-between px-6 shrink-0 shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-red-600 p-1.5 rounded-lg",children:e.jsx(Lt,{size:20})}),e.jsxs("h1",{className:"text-lg font-black tracking-tight flex items-center gap-2",children:["管理コンソール ",e.jsx("span",{className:"hidden sm:inline text-[10px] bg-white/20 px-2 py-0.5 rounded-full font-mono font-normal",children:"v2.5.2"})]})]}),e.jsx("div",{className:"flex bg-white/10 backdrop-blur-md p-1 rounded-xl overflow-x-auto no-scrollbar",children:[{id:"dashboard",label:"ダッシュボード"},{id:"logs",label:"アクセスログ"},{id:"messages",label:"受信箱"},{id:"security",label:"IP制限"},{id:"settings",label:"高度な設定"}].map(i=>e.jsx("button",{onClick:()=>r(i.id),className:`px-3 sm:px-4 py-1.5 rounded-lg text-[11px] sm:text-xs font-black transition-all whitespace-nowrap ${s===i.id?"bg-white text-slate-900 shadow-lg":"text-gray-400 hover:text-white"}`,children:i.label},i.id))}),e.jsx("button",{onClick:fe,className:"p-2 text-gray-400 hover:text-red-400 transition-colors",children:e.jsx(Et,{size:20})})]}),e.jsxs("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 md:p-10 space-y-8 no-scrollbar bg-slate-50 dark:bg-dark",children:[s==="dashboard"&&e.jsxs("div",{className:"space-y-10 animate-fade-in max-w-7xl mx-auto w-full pb-20",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6",children:[{label:"本日PV (リアルタイム)",val:l.today_pv,color:"text-blue-600",icon:et},{label:"累計アクセス",val:l.total_pv,color:"text-indigo-600",icon:St},{label:"受信メッセージ",val:x.length,color:"text-pink-600",icon:ge},{label:"遮断中のIP",val:Object.keys(A).length,color:"text-red-600",icon:tt}].map((i,p)=>e.jsxs("div",{className:"bg-white dark:bg-dark-lighter p-5 sm:p-6 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-800 flex flex-col justify-between hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 tracking-widest uppercase",children:i.label}),e.jsx(i.icon,{size:16,className:"text-gray-300"})]}),e.jsx("p",{className:`text-2xl sm:text-3xl font-black ${i.color} font-mono tabular-nums`,children:i.val.toLocaleString()})]},p))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-dark-lighter p-6 sm:p-8 rounded-[2.5rem] border border-gray-100 dark:border-gray-800 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("h3",{className:"font-black text-lg flex items-center gap-2 uppercase tracking-tight",children:[e.jsx(at,{size:18,className:"text-blue-500"})," 24時間のアクセス推移"]}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-gray-400",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${k?"bg-green-500 animate-ping":"bg-blue-500"}`}),"LIVE TRAFFIC"]})]}),e.jsx("div",{className:"h-72",children:e.jsx(gt,{width:"100%",height:"100%",children:e.jsxs(sa,{data:Ve,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),e.jsx(Me,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),e.jsx(Ie,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:"bold"}}),e.jsx(Te,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fontWeight:"bold"}}),e.jsx(bt,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 25px rgba(0,0,0,0.1)",fontWeight:"bold"}}),e.jsx(G,{type:"monotone",dataKey:"pv",stroke:"#3b82f6",strokeWidth:4,fillOpacity:1,fill:"url(#colorPv)",animationDuration:1e3})]})})})]}),e.jsxs("div",{className:"bg-white dark:bg-dark-lighter p-6 sm:p-8 rounded-[2.5rem] border border-gray-100 dark:border-gray-800 shadow-sm flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"font-black text-lg uppercase tracking-tight",children:"最近のログ"}),e.jsx(he,{size:14,className:`text-gray-300 ${k?"animate-spin":""}`})]}),e.jsx("div",{className:"space-y-3 flex-1 overflow-y-auto no-scrollbar",children:l.recent_logs.length===0?e.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-400 font-bold",children:"ログがありません"}):l.recent_logs.slice(0,15).map((i,p)=>e.jsxs("div",{className:`flex justify-between items-center text-[10px] p-2 rounded-xl transition-colors border-b dark:border-gray-800 last:border-0 ${i.path===ie?"bg-red-50 dark:bg-red-900/10":"hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:`font-black truncate ${i.path===ie?"text-red-600":"text-blue-600"}`,children:i.path}),e.jsx("p",{className:"text-gray-400 font-mono text-[9px]",children:i.ip})]}),e.jsx("p",{className:"text-gray-500 font-bold ml-4 tabular-nums",children:i.date.split(" ")[1]})]},p))})]})]}),e.jsxs("section",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 border-b border-gray-200 dark:border-gray-800 pb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-black flex items-center gap-3",children:[e.jsx(Ae,{className:"text-indigo-500"})," アプリ別トラフィック監視"]}),e.jsx("p",{className:"text-xs text-gray-400 font-bold mt-1",children:"選択したツールの利用統計をリアルタイムで表示します"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"appearance-none bg-slate-900 text-white px-6 py-2.5 rounded-2xl text-xs font-black pr-10 cursor-pointer hover:opacity-90 transition-all shadow-lg",onChange:i=>Ke(i.target.value),value:"",children:[e.jsx("option",{value:"",disabled:!0,children:"監視アプリを追加..."}),de.filter(i=>!C.includes(i.id)).map(i=>e.jsx("option",{value:i.id,children:i.name},i.id))]}),e.jsx(we,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-white/50"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[C.map(i=>{const p=de.find(Z=>Z.id===i);if(!p)return null;const m=me[i]||0,b=Object.values(me).reduce((Z,ce)=>Z+ce,0),K=b>0?(m/b*100).toFixed(1):"0";return e.jsxs("div",{className:"bg-white dark:bg-dark-lighter p-6 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 relative group animate-scale-up",children:[e.jsx("button",{onClick:()=>Ue(i),className:"absolute top-4 right-4 text-gray-300 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:e.jsx(Je,{size:16})}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:`p-3 rounded-2xl ${p.lightBg} dark:bg-gray-800 ${p.color}`,children:e.jsx(p.icon,{size:20})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"font-black text-sm text-gray-800 dark:text-white truncate",children:p.name}),e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:p.path})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Recent Hits"}),e.jsx("p",{className:"text-3xl font-black font-mono tabular-nums text-slate-800 dark:text-white",children:m})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-[10px] font-black text-emerald-500 uppercase flex items-center justify-end gap-1",children:["Share ",e.jsx(Pt,{size:12})]}),e.jsxs("p",{className:"text-xl font-black font-mono text-emerald-600 dark:text-emerald-400",children:[K,"%"]})]})]}),e.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-800 h-1.5 rounded-full overflow-hidden",children:e.jsx("div",{className:"bg-blue-500 h-full transition-all duration-1000",style:{width:`${Math.min(100,Number(K)*4)}%`}})})]})]},i)}),C.length===0&&e.jsxs("div",{className:"col-span-full py-16 bg-gray-50 dark:bg-gray-800/30 rounded-[2.5rem] border-2 border-dashed border-gray-200 dark:border-gray-700 flex flex-col items-center justify-center text-gray-400 font-bold",children:[e.jsx(Ae,{size:48,className:"mb-4 opacity-20"}),e.jsx("p",{children:"アプリをダッシュボードに追加して監視しましょう"})]})]})]})]}),s==="logs"&&e.jsx("div",{className:"animate-fade-in max-w-7xl mx-auto w-full space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-[2.5rem] shadow-sm border border-gray-100 dark:border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"p-6 sm:p-8 border-b dark:border-gray-800 bg-slate-50 dark:bg-slate-800/30 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"font-black text-xl flex items-center gap-3 uppercase tracking-tight",children:[e.jsx(Ct,{className:"text-indigo-500"})," ログフィルタリング"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:["Showing ",oe.length," of ",l.recent_logs.length]}),e.jsx("button",{onClick:()=>q(!1),className:"p-2 text-gray-400 hover:text-blue-500 transition-all",children:e.jsx(he,{size:20,className:k?"animate-spin":""})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ne,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"IPアドレスで検索...",value:j,onChange:i=>P(i.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border-2 border-gray-100 dark:border-gray-700 dark:bg-gray-900 text-xs font-bold"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ne,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"パスで検索 (例: /bath)",value:w,onChange:i=>D(i.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border-2 border-gray-100 dark:border-gray-700 dark:bg-gray-900 text-xs font-bold"})]}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",placeholder:"日付で検索 (2025-01-01)",value:S,onChange:i=>M(i.target.value),className:"w-full px-4 py-2.5 rounded-xl border-2 border-gray-100 dark:border-gray-700 dark:bg-gray-900 text-xs font-bold"})})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-slate-900 text-white text-[10px] uppercase font-black tracking-widest sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-8 py-5",children:"日時"}),e.jsx("th",{className:"px-8 py-5",children:"パス"}),e.jsx("th",{className:"px-8 py-5",children:"クライアントIP"}),e.jsx("th",{className:"px-8 py-5",children:"負荷"}),e.jsx("th",{className:"px-8 py-5 text-right",children:"状態"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:oe.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-8 py-20 text-center text-gray-400 font-black text-sm uppercase tracking-widest",children:"条件に一致するログはありません"})}):oe.map((i,p)=>e.jsxs("tr",{className:`transition-colors ${i.path===ie?"bg-red-50 dark:bg-red-900/10 hover:bg-red-100 dark:hover:bg-red-900/20":"hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[e.jsx("td",{className:"px-8 py-4 font-mono text-[11px] whitespace-nowrap text-gray-500",children:i.date}),e.jsx("td",{className:"px-8 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`font-black truncate max-w-[200px] ${i.path===ie?"text-red-600":"text-blue-600 dark:text-blue-400"}`,children:i.path}),i.path===ie&&e.jsx("span",{className:"text-[8px] bg-red-600 text-white px-1.5 py-0.5 rounded-full font-black uppercase",children:"Admin Access"})]})}),e.jsx("td",{className:"px-8 py-4 font-mono text-[11px] text-gray-400",children:i.ip}),e.jsx("td",{className:"px-8 py-4",children:e.jsx("span",{className:`font-mono text-[11px] font-black ${i.duration&&i.duration>1e3?"text-red-500":"text-emerald-500"}`,children:i.duration?`${i.duration}ms`:"--"})}),e.jsx("td",{className:"px-8 py-4 text-right",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black ${i.status&&i.status>=400?"bg-red-100 text-red-600":"bg-green-100 text-green-600"}`,children:i.status||200})})]},p))})]})})]})}),s==="security"&&e.jsx("div",{className:"animate-fade-in max-w-7xl mx-auto w-full space-y-8",children:e.jsxs("div",{className:"bg-white dark:bg-dark-lighter rounded-[2.5rem] shadow-sm border border-gray-100 dark:border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b dark:border-gray-800 flex justify-between items-center bg-slate-50 dark:bg-slate-800/30",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-black text-xl flex items-center gap-3",children:[e.jsx(yt,{className:"text-red-500"})," 遮断中のIPアドレス一覧"]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1 font-bold",children:"過剰アクセス（DoS保護）や手動操作により制限されているクライアント"})]}),e.jsx("button",{onClick:()=>q(!1),className:"p-3 bg-white dark:bg-gray-700 text-gray-500 rounded-2xl shadow-sm hover:text-blue-500 transition-all active:scale-95",children:e.jsx(he,{size:20,className:k?"animate-spin":""})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-slate-900 text-white text-[10px] uppercase font-black tracking-widest",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-8 py-5",children:"クライアントIP"}),e.jsx("th",{className:"px-8 py-5",children:"理由 / トリガー"}),e.jsx("th",{className:"px-8 py-5",children:"残り時間"}),e.jsx("th",{className:"px-8 py-5 text-right",children:"操作"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:Object.keys(A).length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-8 py-20 text-center text-gray-400 font-black text-sm uppercase tracking-widest",children:"制限中のIPはありません"})}):Object.entries(A).map(([i,p])=>{const m=p.expiry>=2147483640,b=Math.ceil((p.expiry-Date.now()/1e3)/60);return e.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[e.jsx("td",{className:"px-8 py-6 font-mono font-black text-red-600",children:i}),e.jsxs("td",{className:"px-8 py-6",children:[e.jsx("span",{className:"text-[10px] bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-md font-black",children:p.reason||"手動遮断"}),e.jsx("p",{className:"text-[9px] text-gray-400 mt-1",children:p.time})]}),e.jsx("td",{className:"px-8 py-6",children:m?e.jsxs("span",{className:"bg-red-600 text-white px-3 py-1 rounded-full text-[10px] font-black flex items-center gap-1 w-fit",children:[e.jsx(zt,{size:12})," 永久制限"]}):e.jsxs("span",{className:`font-black text-xs ${b<=5?"text-red-500 animate-pulse":"text-orange-500"}`,children:[b," 分"]})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsx("button",{onClick:()=>He(i),className:"px-6 py-2 bg-blue-600 text-white text-[10px] font-black rounded-xl hover:bg-blue-700 transition-all shadow-md active:scale-95",children:"遮断を解除"})})]},i)})})]})})]})}),s==="messages"&&e.jsx("div",{className:"space-y-4 animate-fade-in max-w-5xl mx-auto w-full pb-20",children:x.length===0?e.jsx("div",{className:"text-center py-24 bg-white dark:bg-dark-lighter rounded-[2.5rem] border-2 border-dashed dark:border-gray-800 text-gray-400 font-black uppercase tracking-widest",children:"メッセージはありません"}):x.map(i=>e.jsxs("div",{className:"bg-white dark:bg-dark-lighter p-6 sm:p-8 rounded-[2rem] shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition-shadow group",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between mb-6 gap-2",children:[e.jsxs("span",{className:"font-black text-blue-600 flex items-center gap-3",children:[e.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 p-2 rounded-full text-gray-400",children:e.jsx(Dt,{size:20})}),i.name," ",e.jsxs("span",{className:"text-[10px] font-normal text-gray-400",children:["(",i.contact||"連絡先なし",")"]})]}),e.jsxs("span",{className:"text-[10px] text-gray-400 font-mono bg-slate-50 dark:bg-slate-800 px-3 py-1.5 rounded-full border dark:border-gray-700",children:[i.timestamp," (IP: ",i.ip,")"]})]}),e.jsx("p",{className:"bg-slate-50 dark:bg-slate-900/50 p-6 rounded-2xl whitespace-pre-wrap leading-relaxed text-sm text-gray-700 dark:text-gray-300 font-medium border dark:border-gray-800",children:i.message})]},i.id))}),s==="settings"&&e.jsxs("div",{className:"animate-fade-in max-w-7xl mx-auto w-full space-y-10 pb-20",children:[e.jsxs("form",{onSubmit:Ge,className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white dark:bg-dark-lighter p-8 rounded-[2.5rem] border border-gray-100 dark:border-gray-800 shadow-sm space-y-6",children:[e.jsxs("h3",{className:"font-black text-xl mb-4 flex items-center gap-3 uppercase tracking-tight",children:[e.jsx(ge,{className:"text-pink-500"})," SMTP 設定 (メール通知)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"ホスト (HOST)"}),e.jsx("input",{type:"text",value:v.smtp_host,onChange:i=>{z({...v,smtp_host:i.target.value}),R(!0)},className:"w-full p-4 border dark:bg-gray-900 rounded-2xl font-bold transition-all focus:border-blue-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"ポート (PORT)"}),e.jsx("input",{type:"number",value:v.smtp_port,onChange:i=>{z({...v,smtp_port:Number(i.target.value)}),R(!0)},className:"w-full p-4 border dark:bg-gray-900 rounded-2xl font-bold transition-all focus:border-blue-500"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"ユーザー名 (USERNAME)"}),e.jsx("input",{type:"text",value:v.smtp_user,onChange:i=>{z({...v,smtp_user:i.target.value}),R(!0)},className:"w-full p-4 border dark:bg-gray-900 rounded-2xl font-bold transition-all focus:border-blue-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"パスワード (変更時のみ入力)"}),e.jsx("input",{type:"password",value:v.smtp_pass,onChange:i=>{z({...v,smtp_pass:i.target.value}),R(!0)},className:"w-full p-4 border dark:bg-gray-900 rounded-2xl font-bold transition-all focus:border-blue-500",placeholder:"••••••••"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"アラート送信先メール"}),e.jsx("input",{type:"email",value:v.alert_email,onChange:i=>{z({...v,alert_email:i.target.value}),R(!0)},className:"w-full p-4 border dark:bg-gray-900 rounded-2xl font-bold transition-all focus:border-blue-500"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-dark-lighter p-8 rounded-[2.5rem] border border-gray-100 dark:border-gray-800 shadow-sm space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"font-black text-xl flex items-center gap-3 uppercase tracking-tight",children:[e.jsx(Ye,{className:"text-emerald-500"})," DOS攻撃対策設定"]}),e.jsxs("button",{type:"button",onClick:()=>z({...v,dos_notify_enabled:!v.dos_notify_enabled}),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-[10px] font-black transition-all ${v.dos_notify_enabled?"bg-emerald-100 text-emerald-600":"bg-gray-100 text-gray-400"}`,children:[v.dos_notify_enabled?e.jsx(vt,{size:16}):e.jsx(jt,{size:16}),"検知時に通知"]})]}),e.jsx("p",{className:"text-xs text-gray-400 font-bold mb-4",children:"過剰なリクエストを送信するクライアントを自動的に遮断するルールを定義します。"}),e.jsxs("div",{className:"space-y-4 max-h-[350px] overflow-y-auto pr-2 no-scrollbar",children:[v.dos_patterns.map((i,p)=>e.jsxs("div",{className:"p-5 bg-gray-50 dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 relative group animate-scale-up",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase mb-1",children:"期間 (秒)"}),e.jsx("input",{type:"number",value:i.seconds,onChange:m=>{const b=[...v.dos_patterns];b[p]={...b[p],seconds:Number(m.target.value)},z({...v,dos_patterns:b}),R(!0)},className:"w-full p-2 border dark:bg-gray-900 rounded-lg text-sm font-bold"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase mb-1",children:"リクエスト数"}),e.jsx("input",{type:"number",value:i.count,onChange:m=>{const b=[...v.dos_patterns];b[p]={...b[p],count:Number(m.target.value)},z({...v,dos_patterns:b}),R(!0)},className:"w-full p-2 border dark:bg-gray-900 rounded-lg text-sm font-bold"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[9px] font-black text-gray-400 uppercase mb-1",children:"遮断 (分)"}),e.jsx("input",{type:"number",value:i.block_minutes,onChange:m=>{const b=[...v.dos_patterns];b[p]={...b[p],block_minutes:Number(m.target.value)},z({...v,dos_patterns:b}),R(!0)},className:"w-full p-2 border dark:bg-gray-900 rounded-lg text-sm font-bold",placeholder:"0=永久"})]})]}),e.jsx("button",{type:"button",onClick:()=>{const m=[...v.dos_patterns];m.splice(p,1),z({...v,dos_patterns:m}),R(!0)},className:"absolute -top-2 -right-2 p-1.5 bg-white dark:bg-gray-700 border dark:border-gray-600 rounded-full text-red-500 shadow-sm opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(kt,{size:12})})]},p)),e.jsxs("button",{type:"button",onClick:()=>{z({...v,dos_patterns:[...v.dos_patterns,{count:50,seconds:60,block_minutes:60}]}),R(!0)},className:"w-full py-3 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-2xl text-gray-400 font-black text-xs hover:border-blue-400 hover:text-blue-500 transition-all flex items-center justify-center gap-2",children:[e.jsx(we,{size:14})," ルールを追加"]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("button",{type:"submit",disabled:!H,className:`w-full py-5 font-black rounded-[1.5rem] shadow-xl transition-all flex items-center justify-center gap-2 active:scale-95 uppercase tracking-widest ${H?"bg-slate-900 dark:bg-white text-white dark:text-slate-900":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:[re?e.jsx(qe,{size:20}):e.jsx(wt,{size:20})," ",re||"構成設定を保存する"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-indigo-600 p-8 sm:p-10 rounded-[2.5rem] text-white shadow-2xl space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-black text-xl mb-1 flex items-center gap-2 uppercase",children:"システムバックアップ"}),e.jsx("p",{className:"text-xs opacity-70 font-bold",children:"メッセージとアクセスログの外部保存・復元"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>{const i={messages:x,logs:l.recent_logs},p=document.createElement("a");p.href=URL.createObjectURL(new Blob([JSON.stringify(i,null,2)],{type:"application/json"})),p.download=`OMNI_BACKUP_${new Date().toISOString().split("T")[0]}.json`,p.click()},className:"py-4 bg-white/10 hover:bg-white/20 rounded-2xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-2 transition-all border border-white/20",children:[e.jsx(Nt,{size:16})," JSON出力"]}),e.jsxs("button",{onClick:()=>{var i;return(i=xe.current)==null?void 0:i.click()},className:"py-4 bg-white text-indigo-600 rounded-2xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-2 shadow-lg hover:opacity-90 transition-all",children:[e.jsx(At,{size:16})," JSON読み込み"]}),e.jsx("input",{type:"file",accept:".json",ref:xe,onChange:async i=>{var b;const p=(b=i.target.files)==null?void 0:b[0];if(!p||!confirm("データを復元しますか？既存のデータは上書きされます。"))return;const m=new FileReader;m.onload=async K=>{var Z;try{(await fetch("./backend/admin_api.php?action=import_data",{method:"POST",headers:{"Content-Type":"application/json","X-Admin-Token":t||""},body:(Z=K.target)==null?void 0:Z.result})).ok&&(alert("復元が完了しました。"),q(!0))}catch{alert("エラーが発生しました。")}},m.readAsText(p)},className:"hidden"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-dark-lighter p-10 rounded-[2.5rem] border border-gray-100 dark:border-gray-800 shadow-sm text-center space-y-6",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-50 dark:bg-blue-900/30 rounded-3xl flex items-center justify-center text-blue-600 mx-auto transform rotate-3",children:e.jsx(Ot,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-black text-lg uppercase tracking-tight",children:"セキュリティ認証情報"}),e.jsx("p",{className:"text-[10px] text-gray-400 font-bold px-4 mt-2",children:"管理者パスワードの更新が必要です。定期的な変更を強く推奨します。"})]}),e.jsx("button",{className:"w-full py-4 border-2 border-slate-900 dark:border-white/20 text-slate-900 dark:text-white font-black rounded-2xl hover:bg-slate-50 dark:hover:bg-slate-800 transition-all uppercase tracking-widest text-[10px]",children:"パスワード変更ウィザード"})]})]})]})]}),e.jsxs("footer",{className:"bg-white dark:bg-slate-900 border-t dark:border-gray-800 h-10 px-6 flex items-center justify-between shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"サーバー接続済み"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_t,{size:10,className:"text-gray-400"}),e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"ストレージ: /data/JSON"})]})]}),e.jsxs("div",{className:"text-[9px] font-black text-gray-300 uppercase tracking-widest hidden sm:block",children:["スーパー管理者としてログイン中 • ",new Date().toLocaleTimeString()]})]})]}):e.jsx("div",{className:"fixed inset-0 z-[200] bg-slate-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-10 text-center animate-scale-up",children:[e.jsx("div",{className:"inline-flex p-4 bg-red-50 text-red-600 rounded-full mb-6",children:e.jsx(Ze,{size:32})}),e.jsx("h2",{className:"text-2xl font-black mb-2 dark:text-white",children:"管理者ログイン"}),e.jsx("p",{className:"text-gray-400 text-[10px] mb-6 uppercase tracking-widest font-bold",children:"高セキュリティ・管理コンソール"}),e.jsxs("form",{onSubmit:Xe,className:"space-y-4",children:[e.jsx("input",{type:"password",value:n,onChange:i=>o(i.target.value),placeholder:"パスワードを入力",className:"w-full p-4 rounded-2xl border-2 dark:bg-gray-900 dark:text-white outline-none focus:border-red-500 transition-all",autoFocus:!0}),c&&e.jsx("p",{className:"text-red-500 text-sm font-bold animate-pulse",children:c}),e.jsx("button",{type:"submit",disabled:h,className:"w-full py-4 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-black rounded-2xl flex items-center justify-center gap-2 hover:opacity-90 active:scale-95 transition-all",children:h?e.jsx(Qe,{className:"animate-spin"}):"認証する"})]})]})})};export{Za as default};
